var aU=Object.defineProperty;var hk=pt=>{throw TypeError(pt)};var uU=(pt,Ct,Rt)=>Ct in pt?aU(pt,Ct,{enumerable:!0,configurable:!0,writable:!0,value:Rt}):pt[Ct]=Rt;var yt=(pt,Ct,Rt)=>uU(pt,typeof Ct!="symbol"?Ct+"":Ct,Rt),T0=(pt,Ct,Rt)=>Ct.has(pt)||hk("Cannot "+Rt);var k=(pt,Ct,Rt)=>(T0(pt,Ct,"read from private field"),Rt?Rt.call(pt):Ct.get(pt)),Re=(pt,Ct,Rt)=>Ct.has(pt)?hk("Cannot add the same private member more than once"):Ct instanceof WeakSet?Ct.add(pt):Ct.set(pt,Rt),ge=(pt,Ct,Rt,Mr)=>(T0(pt,Ct,"write to private field"),Mr?Mr.call(pt,Rt):Ct.set(pt,Rt),Rt),je=(pt,Ct,Rt)=>(T0(pt,Ct,"access private method"),Rt);var Xs=(pt,Ct,Rt,Mr)=>({set _(Cu){ge(pt,Ct,Cu,Rt)},get _(){return k(pt,Ct,Mr)}});(function(){"use strict";var AA,Jr,OA,Oo,TA,mi,To,eo,ja,La,Sl,k0,ys,bs,kA,to,Al,Ol,Tl,ws,no,R0,mk,P0,RA,kl,PA,Rl,Pl,nr,Ec,Dc,IA,vi,NA,Wn,Ar,ro,ko,Cs,xn,gi,Es,$a,Ht,vk,gk,yk,I0,N0,bu,BA,rr,Il,FA,Or,yi,bi,wi,Nl,Ci,_A,Ds,za,Ae,Rn,Ro,ut,bk,wk,wu,Ck,Ek,Dk,xk,Sk,Ak,Ok,Sh,Ah,xs,Bl,MA,St,Ei,Ss,ht,sn,cd,oo,Tk,Ua,kk,Rk,Tr,io,Po,or,jA,Vn,Di,Io,Pk,xc,LA,ir,Ha,xi,so,No,Bo,Wa,Kn,Va,Si,Ai,Oh,Nk,Oi,$A,Fo,Fl,As,zA,an,Ti,Ka,Os,qa,Ts,Ga,_o,Zs,UA;var pt=document.createElement("style");pt.textContent=`.lb-root{--lb-radius:.5em;--lb-spacing:1em;--lb-accent:#17f;--lb-accent-foreground:#fff;--lb-destructive:#f45;--lb-destructive-foreground:#fff;--lb-background:#fff;--lb-foreground:#111;--lb-line-height:1.5;--lb-icon-size:20px;--lb-icon-weight:1.5px;--lb-avatar-radius:50%;--lb-button-radius:calc(.75*var(--lb-radius));--lb-transition-duration:.1s;--lb-transition-easing:cubic-bezier(.4,0,.2,1);--lb-highlight-shadow:inset 0 0 0 1px #0000001a;--lb-elevation-shadow:0 0 0 1px #0000000a,0 2px 6px #00000014,0 8px 26px #0000001f;--lb-tooltip-shadow:0 2px 4px #00000014,0 4px 12px #0000001f;--lb-accent-contrast:8%;--lb-destructive-contrast:8%;--lb-foreground-contrast:8%;--lb-background-foreground-faint:color-mix(in srgb,var(--lb-foreground),var(--lb-background)calc(100% - var(--lb-foreground-contrast) + ((100% - var(--lb-foreground-contrast))/9)/2));--lb-background-accent-faint:color-mix(in srgb,var(--lb-accent),var(--lb-background)calc(100% - var(--lb-accent-contrast) + ((100% - var(--lb-accent-contrast))/9)/2));--lb-background-accent-subtle:color-mix(in srgb,var(--lb-accent),var(--lb-background)calc(100% - var(--lb-accent-contrast)));--lb-background-destructive-faint:color-mix(in srgb,var(--lb-destructive),var(--lb-background)calc(100% - var(--lb-destructive-contrast) + ((100% - var(--lb-destructive-contrast))/9)/2));--lb-background-destructive-subtle:color-mix(in srgb,var(--lb-destructive),var(--lb-background)calc(100% - var(--lb-destructive-contrast)));--lb-accent-subtle:color-mix(in srgb,var(--lb-accent),var(--lb-dynamic-background)calc(100% - var(--lb-accent-contrast)));--lb-accent-moderate:color-mix(in srgb,var(--lb-accent),var(--lb-dynamic-background)calc(100% - (var(--lb-accent-contrast) + 3*((100% - var(--lb-accent-contrast))/9))));--lb-accent-tertiary:color-mix(in srgb,var(--lb-accent),var(--lb-dynamic-background)calc(100% - (var(--lb-accent-contrast) + 5*((100% - var(--lb-accent-contrast))/9))));--lb-accent-secondary:color-mix(in srgb,var(--lb-accent),var(--lb-dynamic-background)calc(100% - (var(--lb-accent-contrast) + 7*((100% - var(--lb-accent-contrast))/9))));--lb-destructive-subtle:color-mix(in srgb,var(--lb-destructive),var(--lb-dynamic-background)calc(100% - var(--lb-destructive-contrast)));--lb-destructive-moderate:color-mix(in srgb,var(--lb-destructive),var(--lb-dynamic-background)calc(100% - (var(--lb-destructive-contrast) + 3*((100% - var(--lb-destructive-contrast))/9))));--lb-destructive-tertiary:color-mix(in srgb,var(--lb-destructive),var(--lb-dynamic-background)calc(100% - (var(--lb-destructive-contrast) + 5*((100% - var(--lb-destructive-contrast))/9))));--lb-destructive-secondary:color-mix(in srgb,var(--lb-destructive),var(--lb-dynamic-background)calc(100% - (var(--lb-destructive-contrast) + 7*((100% - var(--lb-destructive-contrast))/9))));--lb-foreground-subtle:color-mix(in srgb,var(--lb-foreground),var(--lb-dynamic-background)calc(100% - var(--lb-foreground-contrast)));--lb-foreground-moderate:color-mix(in srgb,var(--lb-foreground),var(--lb-dynamic-background)calc(100% - (var(--lb-foreground-contrast) + 3*((100% - var(--lb-foreground-contrast))/9))));--lb-foreground-tertiary:color-mix(in srgb,var(--lb-foreground),var(--lb-dynamic-background)calc(100% - (var(--lb-foreground-contrast) + 5*((100% - var(--lb-foreground-contrast))/9))));--lb-foreground-secondary:color-mix(in srgb,var(--lb-foreground),var(--lb-dynamic-background)calc(100% - (var(--lb-foreground-contrast) + 7*((100% - var(--lb-foreground-contrast))/9))));--lb-selection:color-mix(in srgb,var(--lb-accent)40%,transparent);overflow-wrap:break-word;accent-color:var(--lb-accent);-webkit-text-size-adjust:none;-moz-text-size-adjust:none;text-size-adjust:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.lb-root,.lb-root *,.lb-root :before,.lb-root :after{box-sizing:border-box;transition:none var(--lb-transition-duration)var(--lb-transition-easing)}.lb-root:where(:not(.lb-root .lb-root)){--lb-dynamic-background:var(--lb-background)}.lb-loading,.lb-empty,.lb-error{justify-content:center;align-items:center;display:flex;position:absolute;top:0;right:0;bottom:0;left:0}.lb-loading{color:var(--lb-foreground-moderate)}.lb-empty,.lb-error{padding:var(--lb-spacing);color:var(--lb-foreground-tertiary);text-align:center;text-wrap:balance;font-size:.875em}.lb-icon-container,.lb-icon{inline-size:var(--lb-icon-size);block-size:var(--lb-icon-size)}.lb-icon-container{justify-content:center;align-items:center;display:flex}.lb-icon{--lb-icon-background:var(--lb-dynamic-background)}.lb-icon *{stroke-width:var(--lb-icon-weight);vector-effect:non-scaling-stroke}.lb-icon-spinner{transform-origin:50%;animation:.75s linear infinite lb-animation-spin}.lb-button{--lb-button-background:var(--lb-dynamic-background);all:unset;box-sizing:inherit;cursor:pointer;-webkit-user-select:none;user-select:none;transition-timing-function:var(--lb-transition-easing);transition-duration:var(--lb-transition-duration);-webkit-tap-highlight-color:transparent;padding:calc(.25*var(--lb-spacing));border-radius:var(--lb-button-radius);background:var(--lb-button-background);color:var(--lb-foreground-moderate);outline:none;justify-content:center;align-items:center;transition-property:background,color,opacity;display:flex;position:relative}.lb-button:after{content:"";border-radius:inherit;pointer-events:none;transition-property:box-shadow;position:absolute;top:0;right:0;bottom:0;left:0}.lb-button:where(:focus-visible){z-index:1}.lb-button:where(:focus-visible):after{box-shadow:var(--lb-dynamic-background) 0 0 0 2px,var(--lb-accent) 0 0 0 4px}.lb-button:where(.lb-button\\:non-disableable:disabled){cursor:default}.lb-button:where(:not(.lb-button\\:non-disableable):disabled){opacity:.5;cursor:not-allowed}.lb-button:where(:enabled:hover,:enabled:focus-visible,[aria-expanded=true],[aria-selected=true]){--lb-button-background:var(--lb-foreground-subtle);color:var(--lb-foreground-tertiary)}.lb-button:where([data-variant=default]:not(:is(:enabled:hover,:enabled:focus-visible,[aria-expanded=true],[aria-selected=true],[aria-pressed]))){background:0 0}.lb-button:where([data-variant=primary]){--lb-button-background:var(--lb-accent);color:var(--lb-accent-foreground)}.lb-button:where([data-variant=primary]):where(:enabled:hover,:enabled:focus-visible,[aria-expanded=true],[aria-selected=true]){--lb-button-background:var(--lb-accent-secondary);color:var(--lb-accent-foreground)}.lb-button:where([data-variant=outline]){box-shadow:inset 0 0 0 1px var(--lb-foreground-subtle);transition-property:background,color,opacity,box-shadow}.lb-button:where(:has(.lb-button-label)){gap:calc(.175*var(--lb-spacing));padding-inline:calc(.55*var(--lb-spacing))}.lb-button:where(:has(.lb-button-label)):where(:has(.lb-icon-container)){padding-inline-start:calc(.4*var(--lb-spacing))}.lb-button:where([data-variant=toolbar]){color:var(--lb-foreground-tertiary)}.lb-button:where([data-variant=toolbar]):where([aria-pressed=true]){--lb-button-background:var(--lb-foreground-subtle);color:var(--lb-foreground-secondary)}.lb-button:where([data-variant=toolbar]):where([aria-pressed=true]) :where(.lb-icon *){stroke-width:calc(1.25*var(--lb-icon-weight))}.lb-button:where([data-variant=secondary]){--lb-button-background:var(--lb-foreground-subtle);color:var(--lb-foreground-tertiary)}.lb-button:where([data-variant=secondary]):where(:enabled:hover,:enabled:focus-visible,[aria-expanded=true],[aria-selected=true]){--lb-button-background:var(--lb-foreground);color:var(--lb-dynamic-background)}.lb-button:where([data-size=large]){padding:calc(.5*var(--lb-spacing))}.lb-button:where([data-size=large]):where(:has(.lb-button-label)){gap:calc(.35*var(--lb-spacing));padding-inline:calc(.7*var(--lb-spacing))}.lb-button:where([data-size=large]):where(:has(.lb-button-label)):where(:has(.lb-icon-container)){padding-inline-start:calc(.6*var(--lb-spacing))}.lb-button :where(.lb-icon-container){flex:none}.lb-button :where(.lb-icon){--lb-icon-background:var(--lb-button-background)}.lb-button-label{block-size:var(--lb-icon-size);font-weight:500;font-size:calc(.7*var(--lb-icon-size));flex:none;align-items:center;line-height:1;display:inline-flex}.lb-dropdown{min-inline-size:160px}.lb-dropdown-label{padding:calc(.875*var(--lb-spacing))calc(.625*var(--lb-spacing))calc(.125*var(--lb-spacing));color:var(--lb-foreground-tertiary);text-transform:uppercase;pointer-events:none;-webkit-user-select:none;user-select:none;font-size:.675em;font-weight:600}.lb-dropdown-label:where(:first-child){padding-block-start:var(--lb-spacing)}.lb-dropdown-separator{background:var(--lb-foreground-subtle);block-size:1px;margin:4px -4px}.lb-dropdown-item :where(.lb-icon-container){color:var(--lb-foreground-moderate);margin-inline-start:calc(-.125*var(--lb-spacing));margin-inline-end:calc(.375*var(--lb-spacing));transition-property:color}.lb-dropdown-item:where(:is([data-highlighted]:not([data-highlighted=false]),[data-selected]:not([data-selected=false]),[data-active]:not([data-active=false]))) :where(.lb-icon-container){color:var(--lb-foreground-tertiary)}.lb-dropdown-item:where(:has(.lb-dropdown-item-accessory)) :where(.lb-dropdown-item-label){margin-inline-end:calc(.375*var(--lb-spacing))}.lb-dropdown-item-accessory{margin-inline-start:auto;margin-inline-end:calc(-.25*var(--lb-spacing))}.lb-dropdown:where(:has(.lb-dropdown-item-icon)) :where(.lb-dropdown-item:not(:has(.lb-dropdown-item-icon))) :where(.lb-dropdown-item-label){margin-inline-start:calc(var(--lb-icon-size) + (.375 - .125)*var(--lb-spacing))}.lb-select-button{min-inline-size:0}.lb-select-button :where(.lb-button-label){text-overflow:ellipsis;white-space:nowrap;flex:1;overflow:hidden}.lb-select-button-chevron{opacity:.75;flex:none;margin-inline-end:calc(-.25*var(--lb-spacing))}.lb-composer-suggestions-list{margin:0;padding:0;list-style:none}.lb-composer-suggestions-list-item{scroll-margin-block:4px}.lb-composer-mention-suggestions{--lb-composer-mention-suggestion-avatar-size:1.25rem}.lb-composer-mention-suggestion{padding:calc(.375*var(--lb-spacing))calc(.625*var(--lb-spacing))}.lb-composer-mention-suggestion-avatar{inline-size:var(--lb-composer-mention-suggestion-avatar-size);margin-inline-start:calc(-.125*var(--lb-spacing));margin-inline-end:calc(.5*var(--lb-spacing));margin-block:calc(.125*var(--lb-spacing));background:var(--lb-foreground-subtle);color:var(--lb-foreground-moderate)}.lb-list{display:contents}.lb-list :where(:first-child):first-letter,.lb-date:first-letter{text-transform:capitalize}@supports (background:-webkit-named-image(i)){.lb-emoji{will-change:transform;transform:scale(.825)}}.lb-emoji-picker{--lb-emoji-picker-padding:6px;--lb-emoji-picker-offset-padding:calc(6px + .375*var(--lb-spacing));max-inline-size:var(--frimousse-viewport-width);color:var(--lb-foreground);flex-direction:column;block-size:374px;inline-size:100%;display:flex}.lb-emoji-picker-header{border-block-end:1px solid var(--lb-foreground-subtle);flex:none}.lb-emoji-picker-footer{gap:calc(.5*var(--lb-spacing));padding:calc(.5*var(--lb-spacing));border-block-start:1px solid var(--lb-foreground-subtle);flex:none;align-items:center;inline-size:100%;display:flex}.lb-emoji-picker-active-emoji{flex:none;justify-content:center;align-items:center;block-size:1.25em;inline-size:1.25em;font-size:1.25em;display:flex}.lb-emoji-picker-active-emoji-label{text-overflow:ellipsis;white-space:nowrap;color:var(--lb-foreground-secondary);flex:1;font-size:.8125em;font-weight:500;overflow:hidden}.lb-emoji-picker-active-emoji-label-placeholder{color:var(--lb-foreground-moderate);margin-inline-start:calc(.5*var(--lb-spacing))}.lb-emoji-picker-skin-tone-selector{inline-size:calc(1.75*var(--lb-spacing));block-size:calc(1.75*var(--lb-spacing));flex:none;justify-content:center;align-items:center;margin-inline-start:auto;display:flex}.lb-emoji-picker-search-container{align-items:center;display:flex;position:relative}.lb-emoji-picker-search-container :where(.lb-icon){color:var(--lb-foreground-moderate);pointer-events:none;position:absolute;inset-inline-start:var(--lb-emoji-picker-offset-padding)}.lb-emoji-picker-search{all:unset;box-sizing:inherit;padding:var(--lb-emoji-picker-offset-padding);-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;background:0 0;outline:none;inline-size:100%;padding-inline-start:calc(var(--lb-icon-size) + var(--lb-emoji-picker-offset-padding) + .375*var(--lb-spacing))}.lb-emoji-picker-search::placeholder{color:var(--lb-foreground-moderate)}.lb-emoji-picker-search::-webkit-search-cancel-button{display:none}.lb-emoji-picker-content{outline:none;flex:1;position:relative}.lb-emoji-picker-category-header{padding:var(--lb-emoji-picker-padding)var(--lb-emoji-picker-offset-padding);background:var(--lb-dynamic-background)}.lb-emoji-picker-category-header-title{color:var(--lb-foreground-tertiary);text-transform:uppercase;font-size:.675em;font-weight:600}.lb-emoji-picker-list{animation:lb-animation-appear var(--lb-transition-duration)var(--lb-transition-easing)both;padding-block-end:var(--lb-emoji-picker-padding)}.lb-emoji-picker-row{padding-inline:var(--lb-emoji-picker-padding);scroll-margin-block-end:var(--lb-emoji-picker-padding);display:flex}.lb-emoji-picker-emoji{all:unset;box-sizing:inherit;aspect-ratio:1;padding:calc(.375*var(--lb-spacing));border-radius:calc(var(--lb-radius) - .75*6px);text-align:center;justify-content:center;align-items:center;display:flex;overflow:hidden}.lb-tooltip{--lb-background:#222;--lb-foreground:#fff;--lb-foreground-contrast:10%;min-block-size:calc(calc(1em + 2*.25*var(--lb-spacing)) + 2*5px);padding-inline:calc(.75*var(--lb-spacing));border-radius:var(--lb-radius);background:var(--lb-dynamic-background);color:var(--lb-foreground);box-shadow:var(--lb-tooltip-shadow);overflow-wrap:anywhere;pointer-events:none;align-items:center;max-inline-size:300px;font-size:.75rem;line-height:1;display:flex;position:relative}.lb-tooltip:after{content:"";z-index:1;border-radius:inherit;box-shadow:var(--lb-inset-shadow);pointer-events:none;position:absolute;top:0;right:0;bottom:0;left:0}.lb-tooltip\\:multiline{padding-block:calc(calc(.625*var(--lb-spacing))*(1/1.5));text-align:center;justify-content:center;line-height:1.5}.lb-tooltip-shortcut{gap:calc(.125*var(--lb-spacing));block-size:calc(1em + 2*.25*var(--lb-spacing));padding-inline:calc(.25*var(--lb-spacing));border-radius:calc(var(--lb-radius) - .625*5px);background:var(--lb-foreground-subtle);color:var(--lb-foreground-tertiary);text-transform:uppercase;justify-content:center;align-items:center;margin-inline-start:calc(.75*var(--lb-spacing));margin-inline-end:calc(-1*calc(.75*var(--lb-spacing)) + 5px);font-family:inherit;line-height:1;display:flex}.lb-tooltip-shortcut :where(abbr){all:unset}.lb-avatar{aspect-ratio:1;border-radius:var(--lb-avatar-radius);background:var(--lb-foreground-subtle);color:var(--lb-foreground-moderate);justify-content:center;align-items:center;display:flex;position:relative;overflow:hidden;container-type:inline-size}.lb-avatar:where([data-loading]){background:var(--lb-foreground);opacity:.12}.lb-avatar-image{object-fit:cover;block-size:100%;inline-size:100%;position:absolute;top:0;right:0;bottom:0;left:0}.lb-avatar-fallback{white-space:nowrap;font-size:35cqi;font-weight:500}@supports not (container-type:inline-size){.lb-avatar-fallback{display:none}}.lb-name{display:inline-block}.lb-name:where([data-loading]):before{content:"\\feff";vertical-align:middle;border-radius:calc(.5*var(--lb-radius));opacity:.12;-webkit-user-select:none;user-select:none;background:currentColor;block-size:1.75ex;inline-size:8ch;display:inline-block}:is(.lb-avatar,.lb-name):where([data-loading]){animation:8s linear infinite lb-animation-shimmer}:is(.lb-comment-body,.lb-composer-editor){color:var(--lb-foreground-secondary)}:is(.lb-comment-body,.lb-composer-editor),:is(.lb-comment-body,.lb-composer-editor) *{line-height:var(--lb-line-height)}:is(.lb-comment-body,.lb-composer-editor) :where(p){--lb-line-height-crop: calc(1lh - 1em) /-2;margin-block:.25em}:is(.lb-comment-body,.lb-composer-editor) :where(p):where(:first-of-type){margin-block-start:calc(.125em + var(--lb-line-height-crop))}:is(.lb-comment-body,.lb-composer-editor) :where(p):where(:last-of-type){margin-block-end:calc(.125em + var(--lb-line-height-crop))}:is(.lb-comment-body,.lb-composer-editor) :where(strong){font-weight:600}.lb-comment-mention,.lb-composer-mention{color:var(--lb-accent);-webkit-box-decoration-break:clone;box-decoration-break:clone;font-weight:500}:is(.lb-comment-link,.lb-composer-link){color:var(--lb-foreground);text-decoration-line:underline;-webkit-text-decoration-color:var(--lb-foreground-moderate);text-decoration-color:var(--lb-foreground-moderate);text-underline-offset:2px;outline:none;font-weight:500;transition-property:color,text-decoration-color}:is(.lb-comment-link,.lb-composer-link):where([href]):where(:hover,:focus-visible){color:var(--lb-accent);-webkit-text-decoration-color:var(--lb-accent-moderate);text-decoration-color:var(--lb-accent-moderate)}.lb-comment-mention:where([data-self]),.lb-composer-mention{border-radius:calc(.675*var(--lb-radius));background:var(--lb-accent-subtle);padding:.1em .3em}.lb-composer{background:var(--lb-dynamic-background);color:var(--lb-foreground);transition-property:background;position:relative}.lb-composer-form{margin:0}.lb-composer:where(:has(.lb-composer-editor:not(:focus-visible))) :where(.lb-button[data-variant=primary]){--lb-button-background:var(--lb-foreground-subtle);color:var(--lb-foreground-tertiary)}.lb-composer:where(:has(.lb-composer-editor:not(:focus-visible))) :where(.lb-button[data-variant=primary]):where(:enabled:hover,:enabled:focus-visible){--lb-button-background:var(--lb-accent);color:var(--lb-accent-foreground)}.lb-composer-editor{padding:var(--lb-spacing);outline:none}.lb-composer-editor:where([data-disabled]:not([data-disabled=false])){opacity:.5;cursor:not-allowed}:where(.lb-composer-editor-container:has(.lb-composer-attachments)) .lb-composer-editor{padding-block-end:calc(.25*var(--lb-spacing))}.lb-composer-editor :where([data-placeholder]){color:var(--lb-foreground-moderate)}.lb-composer-mention::selection{background:0 0}.lb-composer-mention ::selection{background:0 0}.lb-composer-mention:where([data-selected]:not([data-selected=false])){background:var(--lb-accent);color:var(--lb-accent-foreground)}.lb-composer-footer{gap:calc(.75*var(--lb-spacing));block-size:calc(calc(2*.25*var(--lb-spacing) + var(--lb-icon-size)) + var(--lb-spacing));padding:0 var(--lb-spacing)var(--lb-spacing);align-items:center;margin-block-start:calc(-.125*var(--lb-spacing));display:flex}.lb-composer-actions,.lb-composer-editor-actions{gap:calc(.125*var(--lb-spacing));align-items:center;display:flex}.lb-composer-editor-actions{margin-inline-end:auto}.lb-composer-attribution{color:var(--lb-foreground-moderate);outline:none;transition-property:color}.lb-composer-attribution:where(:hover,:focus-visible){color:var(--lb-foreground-tertiary)}.lb-composer-attribution :where(svg){block-size:calc(.75*calc(2*.25*var(--lb-spacing) + var(--lb-icon-size)))}.lb-composer-attachments{padding-inline:var(--lb-spacing);padding-block-start:calc(.75*var(--lb-spacing));padding-block-end:var(--lb-spacing)}.lb-composer-editor-container:where([data-drop]) *{pointer-events:none}.lb-composer-attachments-drop-area{color:var(--lb-accent);place-content:center;place-items:center;display:flex;position:absolute;top:0;right:0;bottom:0;left:0}.lb-composer-attachments-drop-area:before,.lb-composer-attachments-drop-area:after{content:"";inset:calc(.5*var(--lb-spacing));z-index:0;border-radius:calc(.75*var(--lb-radius));position:absolute}.lb-composer-attachments-drop-area:before{opacity:calc(1*var(--lb-accent-contrast));background:currentColor}.lb-composer-attachments-drop-area:after{opacity:calc(2*var(--lb-accent-contrast));border:2px dashed}.lb-composer-attachments-drop-area-label{gap:calc(.25*var(--lb-spacing));padding:calc(.375*var(--lb-spacing))calc(.5*var(--lb-spacing));border-radius:calc(.75*var(--lb-radius));background:var(--lb-accent);color:var(--lb-accent-foreground);pointer-events:none;place-items:center;font-weight:500;display:flex;position:relative}.lb-composer-floating-toolbar{-webkit-user-select:none;user-select:none;flex-direction:row;gap:4px;padding:4px;display:flex}.lb-composer-floating-toolbar :where(.lb-button):before{content:"";z-index:-1;border-radius:inherit;position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px}.lb-composer-floating-toolbar :where(.lb-button):where(:not(:first-of-type)):before{inset-inline-start:-2px}.lb-composer-floating-toolbar :where(.lb-button):where(:not(:last-of-type)):before{inset-inline-end:-2px}.lb-comment{--lb-comment-avatar-size:calc(2*.25*var(--lb-spacing) + var(--lb-icon-size));padding:var(--lb-spacing);background:var(--lb-dynamic-background);color:var(--lb-foreground);scroll-margin:var(--lb-spacing);font-weight:400;position:relative}.lb-comment:where(:target,[data-target]){--lb-dynamic-background:var(--lb-background-accent-faint)}.lb-comment:where([data-editing]){--lb-dynamic-background:var(--lb-background-foreground-faint)}.lb-comment-header{gap:calc(.75*var(--lb-spacing));block-size:var(--lb-comment-avatar-size);align-items:center;margin-block-end:calc(.75*var(--lb-spacing));display:flex;position:relative}.lb-comment-details{gap:calc(.75*var(--lb-spacing));align-items:center;min-inline-size:0;display:flex}.lb-comment-avatar{inline-size:var(--lb-comment-avatar-size);flex:none}.lb-comment-details-labels{gap:calc(.5*var(--lb-spacing));align-items:baseline;min-inline-size:0;display:flex}.lb-comment-author,.lb-comment-date{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.lb-comment-author:first-letter,.lb-comment-date:first-letter{text-transform:capitalize}.lb-comment-author{font-weight:500}.lb-comment-date{color:var(--lb-foreground-tertiary);font-size:.875em}.lb-comment-date-created,.lb-comment-date-edited{display:contents}.lb-comment-actions{gap:calc(.125*var(--lb-spacing));margin-inline-start:auto;display:flex}.lb-comment-composer{margin:calc(-1*var(--lb-spacing));background:unset}.lb-comment-body :where(p span:only-child:empty):before{content:"\\feff";-webkit-user-select:none;user-select:none}.lb-comment-attachments{margin-block-start:calc(.75*var(--lb-spacing))}.lb-comment-reactions{gap:calc(.375*var(--lb-spacing));flex-wrap:wrap;margin-block-start:calc(.75*var(--lb-spacing));display:flex}.lb-comment-reaction{gap:calc(.375*var(--lb-spacing));block-size:calc(2*.25*var(--lb-spacing) + var(--lb-icon-size));padding-inline:calc(.575*var(--lb-spacing));border-radius:9999px}.lb-comment-reaction:where([data-self]){background:var(--lb-accent-subtle);color:var(--lb-accent-secondary);box-shadow:inset 0 0 0 1px var(--lb-accent-moderate)}.lb-comment-reaction:where([data-self]):where(:enabled:hover,:enabled:focus-visible,[aria-expanded=true],[aria-selected=true]){color:var(--lb-accent)}.lb-comment-reaction-count{font-variant-numeric:tabular-nums;font-size:.75em;font-weight:500}.lb-comment-reaction-tooltip{max-inline-size:200px}.lb-comment-deleted{color:var(--lb-foreground-tertiary);font-size:.875em}.lb-comment\\:indent-content{min-block-size:calc(var(--lb-comment-avatar-size) + 2*var(--lb-spacing))}.lb-comment\\:indent-content :where(.lb-comment-header){block-size:calc(2*.25*var(--lb-spacing) + var(--lb-icon-size));margin-block-end:calc(.25*var(--lb-spacing))}.lb-comment\\:indent-content :where(.lb-comment-avatar){position:absolute;inset-block-start:0;inset-inline-start:0}.lb-comment\\:indent-content :where(.lb-comment-details-labels){margin-inline-start:calc(var(--lb-comment-avatar-size) + .75*var(--lb-spacing))}.lb-comment\\:indent-content :where(.lb-comment-content){padding-inline-start:calc(var(--lb-comment-avatar-size) + .75*var(--lb-spacing))}.lb-thread{background:var(--lb-dynamic-background);color:var(--lb-foreground);transition-property:background}.lb-thread-comments{z-index:0;flex-direction:column;display:flex;position:relative}.lb-thread-comment{z-index:0;padding-block:calc(.6*var(--lb-spacing));transition-property:background}.lb-thread-comment:where(.lb-comment\\:indent-content){min-block-size:calc(var(--lb-comment-avatar-size) + var(--lb-spacing))}.lb-thread-comment:where(:first-of-type,[data-editing]){padding-block-start:var(--lb-spacing)}.lb-thread-comment:where(:first-of-type,[data-editing]):where(.lb-comment\\:indent-content){min-block-size:calc(var(--lb-comment-avatar-size) + 1.5*var(--lb-spacing))}.lb-thread-comment:where(:last-of-type,[data-editing]){padding-block-end:var(--lb-spacing)}.lb-thread-comment:where(:last-of-type,[data-editing]):where(.lb-comment\\:indent-content){min-block-size:calc(var(--lb-comment-avatar-size) + 1.75*var(--lb-spacing))}.lb-thread-new-indicator{z-index:1;justify-content:center;align-items:center;block-size:0;display:flex;position:relative}.lb-thread-new-indicator:before,.lb-thread-new-indicator:after{content:"";z-index:0;border-block-start:1px solid var(--lb-foreground-subtle);flex:1;block-size:0;transition-property:border}.lb-thread-new-indicator-label{z-index:1;gap:calc(.325*var(--lb-spacing));padding:calc(.25*var(--lb-spacing))var(--lb-spacing);color:var(--lb-accent);text-transform:uppercase;flex:none;align-items:center;font-size:.675em;font-weight:600;display:flex}.lb-thread-new-indicator-label-icon{inline-size:calc(.6*var(--lb-icon-size));block-size:calc(.6*var(--lb-icon-size))}.lb-thread-composer{position:relative}.lb-thread-composer:after{content:"";border-block-start:1px solid var(--lb-foreground-subtle);pointer-events:none;block-size:100%;inline-size:100%;transition-property:border;position:absolute;top:0;right:0;bottom:0;left:0}.lb-comment-attachments,.lb-composer-attachments{gap:calc(.75*var(--lb-spacing));flex-direction:column;display:flex}.lb-attachments{gap:calc(.75*var(--lb-spacing));grid-template-columns:repeat(auto-fill,minmax(min(100%,200px),1fr));display:grid}.lb-attachment,.lb-attachment-delete{all:unset;box-sizing:inherit;cursor:pointer;-webkit-user-select:none;user-select:none;transition-timing-function:var(--lb-transition-easing);transition-duration:var(--lb-transition-duration);-webkit-tap-highlight-color:transparent;outline:none;transition-property:background,color,opacity;position:relative}.lb-attachment:after,.lb-attachment-delete:after{content:"";border-radius:inherit;pointer-events:none;transition-property:box-shadow;position:absolute;top:0;right:0;bottom:0;left:0}.lb-attachment:where(:focus-visible),.lb-attachment-delete:where(:focus-visible){z-index:1}.lb-attachment:where(:focus-visible):after,.lb-attachment-delete:where(:focus-visible):after{box-shadow:var(--lb-dynamic-background) 0 0 0 2px,var(--lb-accent) 0 0 0 4px}.lb-attachment{border-radius:var(--lb-radius);background:var(--lb-dynamic-background);box-shadow:inset 0 0 0 1px var(--lb-foreground-subtle);inline-size:100%;min-inline-size:0;display:flex;position:relative}.lb-attachment:where([tabindex="-1"]){cursor:default}.lb-attachment:where(:not([tabindex="-1"])):where(:hover,:focus-visible){background:var(--lb-foreground-subtle)}.lb-attachment-delete{z-index:2;background:var(--lb-foreground-subtle);color:var(--lb-foreground-secondary);box-shadow:0 0 0 2px var(--lb-dynamic-background);opacity:0;border-radius:50%;justify-content:center;align-items:center;block-size:1.1rem;inline-size:1.1rem;display:flex;position:absolute;inset-block-start:-.35rem;inset-inline-end:-.35rem}.lb-attachment-delete:before{content:"";z-index:-1;border-radius:inherit;position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px}.lb-attachment-delete:where(:hover,:focus-visible){background:var(--lb-foreground-secondary);color:var(--lb-dynamic-background)}:where(.lb-attachment:focus-within,.lb-attachment:hover) .lb-attachment-delete{opacity:1}.lb-attachment-delete :where(.lb-icon){inline-size:.75rem}.lb-attachment-details{gap:calc(.25*var(--lb-spacing));flex-direction:column;justify-content:center;min-inline-size:0;font-size:.875em;display:flex;position:relative}.lb-attachment-name{font-weight:500;display:flex}.lb-attachment-name-base,.lb-attachment-description{text-overflow:ellipsis;white-space:nowrap;transition-property:color;overflow:hidden}.lb-attachment-preview{background:color-mix(in srgb,transparent,var(--lb-foreground)var(--lb-foreground-contrast));color:var(--lb-foreground-tertiary);flex:none;justify-content:center;align-items:center;transition-property:background,color;display:flex;position:relative;overflow:hidden}.lb-attachment-preview-media{border-radius:inherit;transition-property:opacity}.lb-attachment-preview-media,.lb-attachment-preview-media:after,.lb-attachment-preview-media img,.lb-attachment-preview-media video{block-size:100%;inline-size:100%;position:absolute;top:0;right:0;bottom:0;left:0}.lb-attachment-preview-media img,.lb-attachment-preview-media video{object-fit:cover;pointer-events:none}.lb-attachment-preview-media:after{content:"";border-radius:inherit;box-shadow:var(--lb-highlight-shadow);pointer-events:none}.lb-attachment-preview-media:where([data-hidden]){opacity:0}.lb-attachment-icon{color:var(--lb-foreground);flex:none;overflow:visible}.lb-attachment-icon-glyph{fill:var(--lb-foreground-moderate)}.lb-attachment-icon-background{fill:var(--lb-background)}.lb-attachment-icon-fold{fill-opacity:calc(.75*var(--lb-foreground-contrast))}.lb-attachment-icon-shadow{filter:blur(6px);fill-opacity:var(--lb-foreground-contrast)}.lb-file-attachment{gap:calc(.5*var(--lb-spacing));padding:calc(.5*var(--lb-spacing));padding-inline-end:calc(.65*var(--lb-spacing))}.lb-file-attachment :where(.lb-attachment-preview){aspect-ratio:1;border-radius:calc(.5*var(--lb-radius));inline-size:2.5rem}.lb-file-attachment :where(.lb-attachment-name){color:var(--lb-foreground-secondary)}.lb-file-attachment :where(.lb-attachment-description){color:var(--lb-foreground-tertiary)}.lb-file-attachment:where(:not([tabindex="-1"])):where(:hover,:focus-visible,:focus-within) :where(.lb-attachment-name){color:var(--lb-foreground)}.lb-file-attachment:where(:not([tabindex="-1"])):where(:hover,:focus-visible,:focus-within) :where(.lb-attachment-description){color:var(--lb-foreground-secondary)}.lb-media-attachment{aspect-ratio:16/10}.lb-media-attachment :where(.lb-attachment-preview){border-radius:inherit;position:absolute;top:0;right:0;bottom:0;left:0}.lb-media-attachment :where(.lb-attachment-details){padding:calc(.75*var(--lb-spacing));text-shadow:0 0 2px #0006;opacity:0;background:linear-gradient(#0000,#000c);border-end-end-radius:inherit;border-end-start-radius:inherit;transition-property:opacity;position:absolute;inset-block-end:0;inset-inline:0}.lb-media-attachment :where(.lb-attachment-name){color:#fff}.lb-media-attachment :where(.lb-attachment-description){color:#fffc}.lb-media-attachment:where(:not([tabindex="-1"])):where(:hover,:focus-visible,:focus-within) :where(.lb-attachment-details){opacity:1}.lb-attachment:where([data-error]) :where(.lb-attachment-preview){background:var(--lb-destructive);color:var(--lb-destructive-foreground)}.lb-inbox-notification{--lb-inbox-notification-aside-size:36px;gap:calc(.75*var(--lb-spacing));padding:var(--lb-spacing);background:var(--lb-dynamic-background);color:var(--lb-foreground);-webkit-text-decoration:inherit;text-decoration:inherit;font-weight:400;transition-property:background;display:flex;position:relative;overflow:hidden}.lb-inbox-notification:where([data-missing]){--lb-dynamic-background:var(--lb-background-accent-faint);--lb-accent:var(--lb-destructive)!important;--lb-accent-foreground:var(--lb-destructive-foreground)!important;--lb-accent-contrast:var(--lb-destructive-contrast)!important}.lb-inbox-notification:where([data-unread]){--lb-dynamic-background:var(--lb-background-accent-faint)}.lb-inbox-notification:where([href]){cursor:pointer}.lb-inbox-notification:where([href]):where(:hover,:focus-visible,:focus-within){--lb-dynamic-background:var(--lb-background-foreground-faint)}.lb-inbox-notification:where([href]):where([data-unread]):where(:hover,:focus-visible,:focus-within){--lb-dynamic-background:var(--lb-background-accent-subtle)}.lb-inbox-notification-aside{inline-size:var(--lb-inbox-notification-aside-size);flex:none}.lb-inbox-notification-icon{aspect-ratio:1;background:var(--lb-foreground-subtle);border-radius:50%;justify-content:center;place-items:center;display:flex}.lb-inbox-notification:where([data-missing]) :where(.lb-inbox-notification-icon){background:var(--lb-accent-subtle);color:var(--lb-accent)}.lb-inbox-notification-content{flex:1}.lb-inbox-notification-content,.lb-inbox-notification-body{min-inline-size:0;max-inline-size:100%}.lb-inbox-notification-header{gap:calc(.75*var(--lb-spacing));align-items:center;margin-block-start:calc(.25*var(--lb-spacing));margin-block-end:calc(.5*var(--lb-spacing));display:flex}.lb-inbox-notification-title{min-block-size:calc(2*.25*var(--lb-spacing) + var(--lb-icon-size))}.lb-inbox-notification-title:first-letter{text-transform:capitalize}.lb-inbox-notification-title :where(strong,.lb-list,.lb-name){font-weight:500}.lb-inbox-notification-details{block-size:calc(2*.25*var(--lb-spacing) + var(--lb-icon-size));flex:none;align-self:start;min-inline-size:0;margin-inline-start:auto}.lb-inbox-notification-details-labels{align-items:baseline;min-inline-size:0;display:flex}.lb-inbox-notification-details-labels:before{content:"\\feff"}.lb-inbox-notification-actions{gap:calc(.125*var(--lb-spacing));grid-area:actions;align-self:start;display:flex}.lb-inbox-notification-comments{gap:var(--lb-spacing);flex-direction:column;display:flex}.lb-inbox-notification-comment{background:0 0;padding:0}.lb-inbox-notification-comment :where(.lb-comment-header){color:var(--lb-foreground-tertiary);block-size:auto;font-size:.875rem}.lb-inbox-notification-comment :where(.lb-comment-reaction),.lb-inbox-notification-comment :where(.lb-comment-attachment){pointer-events:none}.lb-inbox-notification-date{color:var(--lb-foreground-tertiary);font-size:.875em}.lb-inbox-notification-unread-indicator{background:var(--lb-accent);border-radius:50%;align-self:center;block-size:10px;inline-size:10px;margin-inline-start:calc(.5*var(--lb-spacing))}.lb-history-version-summary{gap:calc(.25*var(--lb-spacing));padding:var(--lb-spacing);background:var(--lb-dynamic-background);flex-direction:column;justify-content:center;inline-size:100%;min-inline-size:0;transition-property:background;display:flex;position:relative}.lb-history-version-summary:where(:hover,:focus-visible,:focus-within,[data-selected]:not([data-selected=false])){--lb-dynamic-background:var(--lb-background-foreground-faint)}.lb-history-version-summary-date,.lb-history-version-summary-authors{text-overflow:ellipsis;white-space:nowrap;min-inline-size:0;max-inline-size:100%;overflow:hidden}.lb-history-version-summary-date:first-letter,.lb-history-version-summary-authors:first-letter{text-transform:capitalize}.lb-history-version-summary-date{color:var(--lb-foreground-secondary);font-weight:500}.lb-history-version-summary-authors{color:var(--lb-foreground-tertiary)}.lb-history-version-preview{background:var(--lb-dynamic-background);flex-direction:column;display:flex;position:relative;overflow-y:auto}.lb-history-version-preview-content{padding:var(--lb-spacing);flex:1 0 auto}.lb-history-version-preview-footer{gap:var(--lb-spacing);padding:var(--lb-spacing);border-block-start:1px solid var(--lb-foreground-subtle);background:var(--lb-dynamic-background);flex:none;align-items:center;margin-block-start:auto;display:flex;position:sticky;inset-block-end:0}.lb-history-version-preview-authors{text-overflow:ellipsis;white-space:nowrap;color:var(--lb-foreground-tertiary);flex:auto;min-inline-size:0;overflow:hidden}.lb-history-version-preview-actions{gap:calc(.35*var(--lb-spacing));flex:none;align-items:center;margin-inline-start:auto;display:flex}.lb-inbox-notification-list,.lb-history-version-summary-list{margin:0;padding:0;list-style:none}.lb-inbox-notification-list-item:where(:not(:last-of-type)),.lb-history-version-summary-list-item:where(:not(:last-of-type)){border-block-end:1px solid var(--lb-foreground-subtle)}.lb-root :where(code){border-radius:calc(.75*var(--lb-radius));background:var(--lb-foreground-subtle);-webkit-box-decoration-break:clone;box-decoration-break:clone;padding:.2em .4em;font-size:85%;line-height:1}.lb-root :where(span:has(code)+span code){border-start-start-radius:0;border-end-start-radius:0;padding-inline-start:0}.lb-root :where(span:has(code):has(+span code) code){border-start-end-radius:0;border-end-end-radius:0;padding-inline-end:0}:where(.lb-root code){font-family:ui-monospace,Menlo,Monaco,Roboto Mono,Cascadia Code,Source Code Pro,Consolas,DejaVu Sans Mono,monospace}.lb-elevation{border-radius:var(--lb-radius);background:var(--lb-dynamic-background);box-shadow:var(--lb-elevation-shadow);position:relative;overflow:hidden}.lb-elevation:after{content:"";z-index:1;border-radius:inherit;box-shadow:var(--lb-inset-shadow);pointer-events:none;position:absolute;top:0;right:0;bottom:0;left:0}.lb-dropdown,.lb-composer-suggestions{padding:4px;overflow-y:auto}.lb-dropdown:where([data-hidden]),.lb-composer-suggestions:where([data-hidden]){opacity:0}.lb-dropdown-item,.lb-composer-suggestions-list-item{padding:calc(.25*var(--lb-spacing))calc(.5*var(--lb-spacing));align-items:center;font-size:.875rem;display:flex}.lb-dropdown-item,.lb-composer-suggestions-list-item,.lb-emoji-picker-emoji{border-radius:calc(var(--lb-radius) - .75*4px);color:var(--lb-foreground-secondary);cursor:pointer;-webkit-user-select:none;user-select:none;outline:none;transition-property:background,color,opacity}:is(.lb-dropdown-item,.lb-composer-suggestions-list-item,.lb-emoji-picker-emoji):where([data-highlighted]:not([data-highlighted=false]),[data-selected]:not([data-selected=false]),[data-active]:not([data-active=false])){background:var(--lb-foreground-subtle);transition-duration:calc(var(--lb-transition-duration)/2)}:is(.lb-dropdown-item,.lb-composer-suggestions-list-item,.lb-emoji-picker-emoji):where(:disabled,[data-disabled]:not([data-disabled=false])){opacity:.5;cursor:not-allowed}.lb-dropdown,.lb-composer-suggestions,.lb-composer-floating-toolbar,.lb-tooltip,.lb-emoji-picker{animation-duration:var(--lb-transition-duration);animation-timing-function:var(--lb-transition-easing);will-change:transform,opacity}:is(.lb-dropdown,.lb-emoji-picker,.lb-tooltip:where([data-state=delayed-open]),.lb-composer-suggestions,.lb-composer-floating-toolbar):where([data-side=top]){animation-name:lb-animation-slide-up}:is(.lb-dropdown,.lb-emoji-picker,.lb-tooltip:where([data-state=delayed-open]),.lb-composer-suggestions,.lb-composer-floating-toolbar):where([data-side=bottom]){animation-name:lb-animation-slide-down}:is(.lb-dropdown,.lb-emoji-picker,.lb-tooltip,.lb-composer-suggestions,.lb-composer-floating-toolbar):where([data-state=closed]){animation-name:lb-animation-disappear}@keyframes lb-animation-slide-down{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}@keyframes lb-animation-slide-up{0%{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}@keyframes lb-animation-appear{0%{opacity:0}to{opacity:1}}@keyframes lb-animation-disappear{0%{opacity:1}to{opacity:0}}@keyframes lb-animation-shimmer{0%,to{-webkit-mask-image:linear-gradient(90deg,#00000080,#000,#000,#00000080);mask-image:linear-gradient(90deg,#00000080,#000,#000,#00000080);-webkit-mask-size:400% 100%;mask-size:400% 100%}0%{-webkit-mask-position:200% 0;mask-position:200% 0}to{-webkit-mask-position:-200% 0;mask-position:-200% 0}}@keyframes lb-animation-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media(hover:hover){.lb-comment:where(.lb-comment\\:show-actions-hover) :where(.lb-comment-actions){opacity:0;transition-property:opacity;position:absolute;inset-inline-end:0}.lb-comment:where(.lb-comment\\:show-actions-hover):where(:is(:hover,:focus-within,.lb-comment\\:action-open)) :where(.lb-comment-actions){opacity:1;position:relative}.lb-thread:where(.lb-thread\\:show-actions-hover :is(:hover,:focus-within)) :where(.lb-thread-actions){opacity:1}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover) :where(.lb-inbox-notification-header){grid-template:"title secondary"/1fr max-content;display:grid}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover) :where(.lb-inbox-notification-details){opacity:1;transition-property:opacity}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover) :where(.lb-inbox-notification-actions){opacity:0;transition-property:opacity}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover):where(:is(:hover,:focus-within,.lb-inbox-notification\\:action-open)) :where(.lb-inbox-notification-details){opacity:0}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover):where(:is(:hover,:focus-within,.lb-inbox-notification\\:action-open)) :where(.lb-inbox-notification-actions){opacity:1}.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover) :where(.lb-inbox-notification-details),.lb-inbox-notification:where(.lb-inbox-notification\\:show-actions-hover) :where(.lb-inbox-notification-actions){grid-area:secondary;justify-self:end}}@media(prefers-reduced-motion){.lb-dropdown:where(:not([data-state=closed])),.lb-emoji-picker:where(:not([data-state=closed])),.lb-tooltip:where([data-state=delayed-open]:not([data-state=closed])),.lb-composer-suggestions:where(:not([data-state=closed])){animation-name:lb-animation-appear}}
/*$vite$:1*/`,document.head.appendChild(pt);function Ct(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cu={exports:{}},Eu={},Th={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function Bk(){if(B0)return st;B0=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function b(M,J,te){this.props=M,this.context=J,this.refs=E,this.updater=te||C}b.prototype.isReactComponent={},b.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=b.prototype;function A(M,J,te){this.props=M,this.context=J,this.refs=E,this.updater=te||C}var P=A.prototype=new O;P.constructor=A,x(P,b.prototype),P.isPureReactComponent=!0;var R=Array.isArray,F=Object.prototype.hasOwnProperty,L={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function q(M,J,te){var fe,X={},j=null,Z=null;if(J!=null)for(fe in J.ref!==void 0&&(Z=J.ref),J.key!==void 0&&(j=""+J.key),J)F.call(J,fe)&&!I.hasOwnProperty(fe)&&(X[fe]=J[fe]);var ae=arguments.length-2;if(ae===1)X.children=te;else if(1<ae){for(var ce=Array(ae),Pe=0;Pe<ae;Pe++)ce[Pe]=arguments[Pe+2];X.children=ce}if(M&&M.defaultProps)for(fe in ae=M.defaultProps,ae)X[fe]===void 0&&(X[fe]=ae[fe]);return{$$typeof:e,type:M,key:j,ref:Z,props:X,_owner:L.current}}function ue(M,J){return{$$typeof:e,type:M.type,key:J,ref:M.ref,props:M.props,_owner:M._owner}}function Y(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function re(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return J[te]})}var U=/\/+/g;function H(M,J){return typeof M=="object"&&M!==null&&M.key!=null?re(""+M.key):J.toString(36)}function V(M,J,te,fe,X){var j=typeof M;(j==="undefined"||j==="boolean")&&(M=null);var Z=!1;if(M===null)Z=!0;else switch(j){case"string":case"number":Z=!0;break;case"object":switch(M.$$typeof){case e:case t:Z=!0}}if(Z)return Z=M,X=X(Z),M=fe===""?"."+H(Z,0):fe,R(X)?(te="",M!=null&&(te=M.replace(U,"$&/")+"/"),V(X,J,te,"",function(Pe){return Pe})):X!=null&&(Y(X)&&(X=ue(X,te+(!X.key||Z&&Z.key===X.key?"":(""+X.key).replace(U,"$&/")+"/")+M)),J.push(X)),1;if(Z=0,fe=fe===""?".":fe+":",R(M))for(var ae=0;ae<M.length;ae++){j=M[ae];var ce=fe+H(j,ae);Z+=V(j,J,te,ce,X)}else if(ce=y(M),typeof ce=="function")for(M=ce.call(M),ae=0;!(j=M.next()).done;)j=j.value,ce=fe+H(j,ae++),Z+=V(j,J,te,ce,X);else if(j==="object")throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Z}function se(M,J,te){if(M==null)return M;var fe=[],X=0;return V(M,fe,"","",function(j){return J.call(te,j,X++)}),fe}function ve(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var oe={current:null},K={transition:null},G={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:K,ReactCurrentOwner:L};function Q(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:se,forEach:function(M,J,te){se(M,function(){J.apply(this,arguments)},te)},count:function(M){var J=0;return se(M,function(){J++}),J},toArray:function(M){return se(M,function(J){return J})||[]},only:function(M){if(!Y(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},st.Component=b,st.Fragment=n,st.Profiler=o,st.PureComponent=A,st.StrictMode=r,st.Suspense=f,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,st.act=Q,st.cloneElement=function(M,J,te){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var fe=x({},M.props),X=M.key,j=M.ref,Z=M._owner;if(J!=null){if(J.ref!==void 0&&(j=J.ref,Z=L.current),J.key!==void 0&&(X=""+J.key),M.type&&M.type.defaultProps)var ae=M.type.defaultProps;for(ce in J)F.call(J,ce)&&!I.hasOwnProperty(ce)&&(fe[ce]=J[ce]===void 0&&ae!==void 0?ae[ce]:J[ce])}var ce=arguments.length-2;if(ce===1)fe.children=te;else if(1<ce){ae=Array(ce);for(var Pe=0;Pe<ce;Pe++)ae[Pe]=arguments[Pe+2];fe.children=ae}return{$$typeof:e,type:M.type,key:X,ref:j,props:fe,_owner:Z}},st.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},st.createElement=q,st.createFactory=function(M){var J=q.bind(null,M);return J.type=M,J},st.createRef=function(){return{current:null}},st.forwardRef=function(M){return{$$typeof:l,render:M}},st.isValidElement=Y,st.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:ve}},st.memo=function(M,J){return{$$typeof:d,type:M,compare:J===void 0?null:J}},st.startTransition=function(M){var J=K.transition;K.transition={};try{M()}finally{K.transition=J}},st.unstable_act=Q,st.useCallback=function(M,J){return oe.current.useCallback(M,J)},st.useContext=function(M){return oe.current.useContext(M)},st.useDebugValue=function(){},st.useDeferredValue=function(M){return oe.current.useDeferredValue(M)},st.useEffect=function(M,J){return oe.current.useEffect(M,J)},st.useId=function(){return oe.current.useId()},st.useImperativeHandle=function(M,J,te){return oe.current.useImperativeHandle(M,J,te)},st.useInsertionEffect=function(M,J){return oe.current.useInsertionEffect(M,J)},st.useLayoutEffect=function(M,J){return oe.current.useLayoutEffect(M,J)},st.useMemo=function(M,J){return oe.current.useMemo(M,J)},st.useReducer=function(M,J,te){return oe.current.useReducer(M,J,te)},st.useRef=function(M){return oe.current.useRef(M)},st.useState=function(M){return oe.current.useState(M)},st.useSyncExternalStore=function(M,J,te){return oe.current.useSyncExternalStore(M,J,te)},st.useTransition=function(){return oe.current.useTransition()},st.version="18.3.1",st}var F0;function kh(){return F0||(F0=1,Th.exports=Bk()),Th.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function Fk(){if(_0)return Eu;_0=1;var e=kh(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(l,f,d){var p,v={},y=null,C=null;d!==void 0&&(y=""+d),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(C=f.ref);for(p in f)r.call(f,p)&&!a.hasOwnProperty(p)&&(v[p]=f[p]);if(l&&l.defaultProps)for(p in f=l.defaultProps,f)v[p]===void 0&&(v[p]=f[p]);return{$$typeof:t,type:l,key:y,ref:C,props:v,_owner:o.current}}return Eu.Fragment=n,Eu.jsx=u,Eu.jsxs=u,Eu}var M0;function _k(){return M0||(M0=1,Cu.exports=Fk()),Cu.exports}var w=_k(),m=kh();const He=Mr(m),j0=Ct({__proto__:null,default:He},[m]);var Sc={},Rh={exports:{}},On={},Ph={exports:{}},Ih={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function Mk(){return L0||(L0=1,(function(e){function t(K,G){var Q=K.length;K.push(G);e:for(;0<Q;){var M=Q-1>>>1,J=K[M];if(0<o(J,G))K[M]=G,K[Q]=J,Q=M;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var G=K[0],Q=K.pop();if(Q!==G){K[0]=Q;e:for(var M=0,J=K.length,te=J>>>1;M<te;){var fe=2*(M+1)-1,X=K[fe],j=fe+1,Z=K[j];if(0>o(X,Q))j<J&&0>o(Z,X)?(K[M]=Z,K[j]=Q,M=j):(K[M]=X,K[fe]=Q,M=fe);else if(j<J&&0>o(Z,Q))K[M]=Z,K[j]=Q,M=j;else break e}}return G}function o(K,G){var Q=K.sortIndex-G.sortIndex;return Q!==0?Q:K.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}var f=[],d=[],p=1,v=null,y=3,C=!1,x=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(K){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=K)r(d),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(d)}}function R(K){if(E=!1,P(K),!x)if(n(f)!==null)x=!0,ve(F);else{var G=n(d);G!==null&&oe(R,G.startTime-K)}}function F(K,G){x=!1,E&&(E=!1,O(q),q=-1),C=!0;var Q=y;try{for(P(G),v=n(f);v!==null&&(!(v.expirationTime>G)||K&&!re());){var M=v.callback;if(typeof M=="function"){v.callback=null,y=v.priorityLevel;var J=M(v.expirationTime<=G);G=e.unstable_now(),typeof J=="function"?v.callback=J:v===n(f)&&r(f),P(G)}else r(f);v=n(f)}if(v!==null)var te=!0;else{var fe=n(d);fe!==null&&oe(R,fe.startTime-G),te=!1}return te}finally{v=null,y=Q,C=!1}}var L=!1,I=null,q=-1,ue=5,Y=-1;function re(){return!(e.unstable_now()-Y<ue)}function U(){if(I!==null){var K=e.unstable_now();Y=K;var G=!0;try{G=I(!0,K)}finally{G?H():(L=!1,I=null)}}else L=!1}var H;if(typeof A=="function")H=function(){A(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,se=V.port2;V.port1.onmessage=U,H=function(){se.postMessage(null)}}else H=function(){b(U,0)};function ve(K){I=K,L||(L=!0,H())}function oe(K,G){q=b(function(){K(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){x||C||(x=!0,ve(F))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(K){switch(y){case 1:case 2:case 3:var G=3;break;default:G=y}var Q=y;y=G;try{return K()}finally{y=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,G){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=y;y=K;try{return G()}finally{y=Q}},e.unstable_scheduleCallback=function(K,G,Q){var M=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?M+Q:M):Q=M,K){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,K={id:p++,callback:G,priorityLevel:K,startTime:Q,expirationTime:J,sortIndex:-1},Q>M?(K.sortIndex=Q,t(d,K),n(f)===null&&K===n(d)&&(E?(O(q),q=-1):E=!0,oe(R,Q-M))):(K.sortIndex=J,t(f,K),x||C||(x=!0,ve(F))),K},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(K){var G=y;return function(){var Q=y;y=G;try{return K.apply(this,arguments)}finally{y=Q}}}})(Ih)),Ih}var $0;function jk(){return $0||($0=1,Ph.exports=Mk()),Ph.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Lk(){if(z0)return On;z0=1;var e=kh(),t=jk();function n(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function y(i){return f.call(v,i)?!0:f.call(p,i)?!1:d.test(i)?v[i]=!0:(p[i]=!0,!1)}function C(i,s,c,h){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,s,c,h){if(s===null||typeof s>"u"||C(i,s,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(i,s,c,h,g,D,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=i,this.type=s,this.sanitizeURL=D,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new E(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];b[s]=new E(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new E(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new E(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new E(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new E(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new E(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new E(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new E(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function A(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(O,A);b[s]=new E(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(O,A);b[s]=new E(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(O,A);b[s]=new E(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new E(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new E(i,1,!1,i.toLowerCase(),null,!0,!0)});function P(i,s,c,h){var g=b.hasOwnProperty(s)?b[s]:null;(g!==null?g.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,c,g,h)&&(c=null),h||g===null?y(s)&&(c===null?i.removeAttribute(s):i.setAttribute(s,""+c)):g.mustUseProperty?i[g.propertyName]=c===null?g.type===3?!1:"":c:(s=g.attributeName,h=g.attributeNamespace,c===null?i.removeAttribute(s):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?i.setAttributeNS(h,s,c):i.setAttribute(s,c))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),L=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),re=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),K=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Object.assign,M;function J(i){if(M===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+i}var te=!1;function fe(i,s){if(!i||te)return"";te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(le){var h=le}Reflect.construct(i,[],s)}else{try{s.call()}catch(le){h=le}i.call(s.prototype)}else{try{throw Error()}catch(le){h=le}i()}}catch(le){if(le&&h&&typeof le.stack=="string"){for(var g=le.stack.split(`
`),D=h.stack.split(`
`),T=g.length-1,_=D.length-1;1<=T&&0<=_&&g[T]!==D[_];)_--;for(;1<=T&&0<=_;T--,_--)if(g[T]!==D[_]){if(T!==1||_!==1)do if(T--,_--,0>_||g[T]!==D[_]){var z=`
`+g[T].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=T&&0<=_);break}}}finally{te=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?J(i):""}function X(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=fe(i.type,!1),i;case 11:return i=fe(i.type.render,!1),i;case 1:return i=fe(i.type,!0),i;default:return""}}function j(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case L:return"Portal";case ue:return"Profiler";case q:return"StrictMode";case H:return"Suspense";case V:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case re:return(i.displayName||"Context")+".Consumer";case Y:return(i._context.displayName||"Context")+".Provider";case U:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case se:return s=i.displayName||null,s!==null?s:j(i.type)||"Memo";case ve:s=i._payload,i=i._init;try{return j(i(s))}catch{}}return null}function Z(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(s);case 8:return s===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ae(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ce(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pe(i){var s=ce(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,D=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,D.call(this,T)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Oe(i){i._valueTracker||(i._valueTracker=Pe(i))}function Ie(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return i&&(h=ce(i)?i.checked?"true":"false":i.value),i=h,i!==c?(s.setValue(i),!0):!1}function Be(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function N(i,s){var c=s.checked;return Q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function me(i,s){var c=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;c=ae(s.value!=null?s.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Se(i,s){s=s.checked,s!=null&&P(i,"checked",s,!1)}function ke(i,s){Se(i,s);var c=ae(s.value),h=s.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Ge(i,s.type,c):s.hasOwnProperty("defaultValue")&&Ge(i,s.type,ae(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function De(i,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,c||s===i.value||(i.value=s),i.defaultValue=s}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Ge(i,s,c){(s!=="number"||Be(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var bt=Array.isArray;function ze(i,s,c,h){if(i=i.options,s){s={};for(var g=0;g<c.length;g++)s["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=s.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&h&&(i[c].defaultSelected=!0)}else{for(c=""+ae(c),s=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function it(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function $t(i,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(n(92));if(bt(c)){if(1<c.length)throw Error(n(93));c=c[0]}s=c}s==null&&(s=""),c=s}i._wrapperState={initialValue:ae(c)}}function lt(i,s){var c=ae(s.value),h=ae(s.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),s.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function et(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Xe(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Xe(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ot,un=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,h,g){MSApp.execUnsafeLocalFunction(function(){return i(s,c,h,g)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ot.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Wt(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var Nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ao=["Webkit","ms","Moz","O"];Object.keys(Nt).forEach(function(i){ao.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Nt[s]=Nt[i]})});function qn(i,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||Nt.hasOwnProperty(i)&&Nt[i]?(""+s).trim():s+"px"}function kr(i,s){i=i.style;for(var c in s)if(s.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=qn(c,s[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,g):i[c]=g}}var _l=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ks(i,s){if(s){if(_l[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Rs(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ps=null;function Is(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ns=null,Mo=null,Rr=null;function Ml(i){if(i=ac(i)){if(typeof Ns!="function")throw Error(n(280));var s=i.stateNode;s&&(s=$d(s),Ns(i.stateNode,i.type,s))}}function Bs(i){Mo?Rr?Rr.push(i):Rr=[i]:Mo=i}function jl(){if(Mo){var i=Mo,s=Rr;if(Rr=Mo=null,Ml(i),s)for(i=0;i<s.length;i++)Ml(s[i])}}function fd(i,s){return i(s)}function Ll(){}var $l=!1;function dd(i,s,c){if($l)return i(s,c);$l=!0;try{return fd(i,s,c)}finally{$l=!1,(Mo!==null||Rr!==null)&&(Ll(),jl())}}function uo(i,s){var c=i.stateNode;if(c===null)return null;var h=$d(c);if(h===null)return null;c=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,s,typeof c));return c}var zl=!1;if(l)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){zl=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{zl=!1}function Wv(i,s,c,h,g,D,T,_,z){var le=Array.prototype.slice.call(arguments,3);try{s.apply(c,le)}catch(we){this.onError(we)}}var _s=!1,Ya=null,Xa=!1,Ul=null,Vv={onError:function(i){_s=!0,Ya=i}};function Kv(i,s,c,h,g,D,T,_,z){_s=!1,Ya=null,Wv.apply(Vv,arguments)}function qv(i,s,c,h,g,D,T,_,z){if(Kv.apply(this,arguments),_s){if(_s){var le=Ya;_s=!1,Ya=null}else throw Error(n(198));Xa||(Xa=!0,Ul=le)}}function jo(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function hd(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function pd(i){if(jo(i)!==i)throw Error(n(188))}function Gv(i){var s=i.alternate;if(!s){if(s=jo(i),s===null)throw Error(n(188));return s!==i?null:i}for(var c=i,h=s;;){var g=c.return;if(g===null)break;var D=g.alternate;if(D===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===D.child){for(D=g.child;D;){if(D===c)return pd(g),i;if(D===h)return pd(g),s;D=D.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=D;else{for(var T=!1,_=g.child;_;){if(_===c){T=!0,c=g,h=D;break}if(_===h){T=!0,h=g,c=D;break}_=_.sibling}if(!T){for(_=D.child;_;){if(_===c){T=!0,c=D,h=g;break}if(_===h){T=!0,h=D,c=g;break}_=_.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:s}function md(i){return i=Gv(i),i!==null?vd(i):null}function vd(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=vd(i);if(s!==null)return s;i=i.sibling}return null}var gd=t.unstable_scheduleCallback,yd=t.unstable_cancelCallback,bd=t.unstable_shouldYield,wd=t.unstable_requestPaint,Mt=t.unstable_now,Cd=t.unstable_getCurrentPriorityLevel,Ms=t.unstable_ImmediatePriority,B=t.unstable_UserBlockingPriority,he=t.unstable_NormalPriority,ye=t.unstable_LowPriority,Te=t.unstable_IdlePriority,tt=null,nt=null;function sr(i){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(tt,i,void 0,(i.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:S6,Lo=Math.log,HA=Math.LN2;function S6(i){return i>>>=0,i===0?32:31-(Lo(i)/HA|0)|0}var Ed=64,Dd=4194304;function Hl(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function xd(i,s){var c=i.pendingLanes;if(c===0)return 0;var h=0,g=i.suspendedLanes,D=i.pingedLanes,T=c&268435455;if(T!==0){var _=T&~g;_!==0?h=Hl(_):(D&=T,D!==0&&(h=Hl(D)))}else T=c&~g,T!==0?h=Hl(T):D!==0&&(h=Hl(D));if(h===0)return 0;if(s!==0&&s!==h&&(s&g)===0&&(g=h&-h,D=s&-s,g>=D||g===16&&(D&4194240)!==0))return s;if((h&4)!==0&&(h|=c&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)c=31-Et(s),g=1<<c,h|=i[c],s&=~g;return h}function A6(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O6(i,s){for(var c=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,D=i.pendingLanes;0<D;){var T=31-Et(D),_=1<<T,z=g[T];z===-1?((_&c)===0||(_&h)!==0)&&(g[T]=A6(_,s)):z<=s&&(i.expiredLanes|=_),D&=~_}}function Yv(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function WA(){var i=Ed;return Ed<<=1,(Ed&4194240)===0&&(Ed=64),i}function Xv(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function Wl(i,s,c){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Et(s),i[s]=c}function T6(i,s){var c=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var g=31-Et(c),D=1<<g;s[g]=0,h[g]=-1,i[g]=-1,c&=~D}}function Zv(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var h=31-Et(c),g=1<<h;g&s|i[h]&s&&(i[h]|=s),c&=~g}}var gt=0;function VA(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var KA,Qv,qA,GA,YA,Jv=!1,Sd=[],ki=null,Ri=null,Pi=null,Vl=new Map,Kl=new Map,Ii=[],k6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XA(i,s){switch(i){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(s.pointerId)}}function ql(i,s,c,h,g,D){return i===null||i.nativeEvent!==D?(i={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:D,targetContainers:[g]},s!==null&&(s=ac(s),s!==null&&Qv(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function R6(i,s,c,h,g){switch(s){case"focusin":return ki=ql(ki,i,s,c,h,g),!0;case"dragenter":return Ri=ql(Ri,i,s,c,h,g),!0;case"mouseover":return Pi=ql(Pi,i,s,c,h,g),!0;case"pointerover":var D=g.pointerId;return Vl.set(D,ql(Vl.get(D)||null,i,s,c,h,g)),!0;case"gotpointercapture":return D=g.pointerId,Kl.set(D,ql(Kl.get(D)||null,i,s,c,h,g)),!0}return!1}function ZA(i){var s=js(i.target);if(s!==null){var c=jo(s);if(c!==null){if(s=c.tag,s===13){if(s=hd(c),s!==null){i.blockedOn=s,YA(i.priority,function(){qA(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ad(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=tg(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Ps=h,c.target.dispatchEvent(h),Ps=null}else return s=ac(c),s!==null&&Qv(s),i.blockedOn=c,!1;s.shift()}return!0}function QA(i,s,c){Ad(i)&&c.delete(s)}function P6(){Jv=!1,ki!==null&&Ad(ki)&&(ki=null),Ri!==null&&Ad(Ri)&&(Ri=null),Pi!==null&&Ad(Pi)&&(Pi=null),Vl.forEach(QA),Kl.forEach(QA)}function Gl(i,s){i.blockedOn===s&&(i.blockedOn=null,Jv||(Jv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,P6)))}function Yl(i){function s(g){return Gl(g,i)}if(0<Sd.length){Gl(Sd[0],i);for(var c=1;c<Sd.length;c++){var h=Sd[c];h.blockedOn===i&&(h.blockedOn=null)}}for(ki!==null&&Gl(ki,i),Ri!==null&&Gl(Ri,i),Pi!==null&&Gl(Pi,i),Vl.forEach(s),Kl.forEach(s),c=0;c<Ii.length;c++)h=Ii[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<Ii.length&&(c=Ii[0],c.blockedOn===null);)ZA(c),c.blockedOn===null&&Ii.shift()}var Za=R.ReactCurrentBatchConfig,Od=!0;function I6(i,s,c,h){var g=gt,D=Za.transition;Za.transition=null;try{gt=1,eg(i,s,c,h)}finally{gt=g,Za.transition=D}}function N6(i,s,c,h){var g=gt,D=Za.transition;Za.transition=null;try{gt=4,eg(i,s,c,h)}finally{gt=g,Za.transition=D}}function eg(i,s,c,h){if(Od){var g=tg(i,s,c,h);if(g===null)yg(i,s,h,Td,c),XA(i,h);else if(R6(g,i,s,c,h))h.stopPropagation();else if(XA(i,h),s&4&&-1<k6.indexOf(i)){for(;g!==null;){var D=ac(g);if(D!==null&&KA(D),D=tg(i,s,c,h),D===null&&yg(i,s,h,Td,c),D===g)break;g=D}g!==null&&h.stopPropagation()}else yg(i,s,h,null,c)}}var Td=null;function tg(i,s,c,h){if(Td=null,i=Is(h),i=js(i),i!==null)if(s=jo(i),s===null)i=null;else if(c=s.tag,c===13){if(i=hd(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Td=i,null}function JA(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cd()){case Ms:return 1;case B:return 4;case he:case ye:return 16;case Te:return 536870912;default:return 16}default:return 16}}var Ni=null,ng=null,kd=null;function eO(){if(kd)return kd;var i,s=ng,c=s.length,h,g="value"in Ni?Ni.value:Ni.textContent,D=g.length;for(i=0;i<c&&s[i]===g[i];i++);var T=c-i;for(h=1;h<=T&&s[c-h]===g[D-h];h++);return kd=g.slice(i,1<h?1-h:void 0)}function Rd(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Pd(){return!0}function tO(){return!1}function Gn(i){function s(c,h,g,D,T){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=D,this.target=T,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(c=i[_],this[_]=c?c(D):D[_]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Pd:tO,this.isPropagationStopped=tO,this}return Q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pd)},persist:function(){},isPersistent:Pd}),s}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rg=Gn(Qa),Xl=Q({},Qa,{view:0,detail:0}),B6=Gn(Xl),og,ig,Zl,Id=Q({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ag,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zl&&(Zl&&i.type==="mousemove"?(og=i.screenX-Zl.screenX,ig=i.screenY-Zl.screenY):ig=og=0,Zl=i),og)},movementY:function(i){return"movementY"in i?i.movementY:ig}}),nO=Gn(Id),F6=Q({},Id,{dataTransfer:0}),_6=Gn(F6),M6=Q({},Xl,{relatedTarget:0}),sg=Gn(M6),j6=Q({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),L6=Gn(j6),$6=Q({},Qa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),z6=Gn($6),U6=Q({},Qa,{data:0}),rO=Gn(U6),H6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K6(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=V6[i])?!!s[i]:!1}function ag(){return K6}var q6=Q({},Xl,{key:function(i){if(i.key){var s=H6[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Rd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?W6[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ag,charCode:function(i){return i.type==="keypress"?Rd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Rd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),G6=Gn(q6),Y6=Q({},Id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oO=Gn(Y6),X6=Q({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ag}),Z6=Gn(X6),Q6=Q({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),J6=Gn(Q6),ez=Q({},Id,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tz=Gn(ez),nz=[9,13,27,32],ug=l&&"CompositionEvent"in window,Ql=null;l&&"documentMode"in document&&(Ql=document.documentMode);var rz=l&&"TextEvent"in window&&!Ql,iO=l&&(!ug||Ql&&8<Ql&&11>=Ql),sO=" ",aO=!1;function uO(i,s){switch(i){case"keyup":return nz.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lO(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ja=!1;function oz(i,s){switch(i){case"compositionend":return lO(s);case"keypress":return s.which!==32?null:(aO=!0,sO);case"textInput":return i=s.data,i===sO&&aO?null:i;default:return null}}function iz(i,s){if(Ja)return i==="compositionend"||!ug&&uO(i,s)?(i=eO(),kd=ng=Ni=null,Ja=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return iO&&s.locale!=="ko"?null:s.data;default:return null}}var sz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cO(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!sz[i.type]:s==="textarea"}function fO(i,s,c,h){Bs(h),s=Md(s,"onChange"),0<s.length&&(c=new rg("onChange","change",null,c,h),i.push({event:c,listeners:s}))}var Jl=null,ec=null;function az(i){kO(i,0)}function Nd(i){var s=ou(i);if(Ie(s))return i}function uz(i,s){if(i==="change")return s}var dO=!1;if(l){var lg;if(l){var cg="oninput"in document;if(!cg){var hO=document.createElement("div");hO.setAttribute("oninput","return;"),cg=typeof hO.oninput=="function"}lg=cg}else lg=!1;dO=lg&&(!document.documentMode||9<document.documentMode)}function pO(){Jl&&(Jl.detachEvent("onpropertychange",mO),ec=Jl=null)}function mO(i){if(i.propertyName==="value"&&Nd(ec)){var s=[];fO(s,ec,i,Is(i)),dd(az,s)}}function lz(i,s,c){i==="focusin"?(pO(),Jl=s,ec=c,Jl.attachEvent("onpropertychange",mO)):i==="focusout"&&pO()}function cz(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nd(ec)}function fz(i,s){if(i==="click")return Nd(s)}function dz(i,s){if(i==="input"||i==="change")return Nd(s)}function hz(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Pr=typeof Object.is=="function"?Object.is:hz;function tc(i,s){if(Pr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!f.call(s,g)||!Pr(i[g],s[g]))return!1}return!0}function vO(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gO(i,s){var c=vO(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=s&&h>=s)return{node:c,offset:s-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=vO(c)}}function yO(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?yO(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function bO(){for(var i=window,s=Be();s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=Be(i.document)}return s}function fg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function pz(i){var s=bO(),c=i.focusedElem,h=i.selectionRange;if(s!==c&&c&&c.ownerDocument&&yO(c.ownerDocument.documentElement,c)){if(h!==null&&fg(c)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(i,c.value.length);else if(i=(s=c.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var g=c.textContent.length,D=Math.min(h.start,g);h=h.end===void 0?D:Math.min(h.end,g),!i.extend&&D>h&&(g=h,h=D,D=g),g=gO(c,D);var T=gO(c,h);g&&T&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),i.removeAllRanges(),D>h?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=c;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)i=s[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var mz=l&&"documentMode"in document&&11>=document.documentMode,eu=null,dg=null,nc=null,hg=!1;function wO(i,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;hg||eu==null||eu!==Be(h)||(h=eu,"selectionStart"in h&&fg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),nc&&tc(nc,h)||(nc=h,h=Md(dg,"onSelect"),0<h.length&&(s=new rg("onSelect","select",null,s,c),i.push({event:s,listeners:h}),s.target=eu)))}function Bd(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var tu={animationend:Bd("Animation","AnimationEnd"),animationiteration:Bd("Animation","AnimationIteration"),animationstart:Bd("Animation","AnimationStart"),transitionend:Bd("Transition","TransitionEnd")},pg={},CO={};l&&(CO=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function Fd(i){if(pg[i])return pg[i];if(!tu[i])return i;var s=tu[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in CO)return pg[i]=s[c];return i}var EO=Fd("animationend"),DO=Fd("animationiteration"),xO=Fd("animationstart"),SO=Fd("transitionend"),AO=new Map,OO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(i,s){AO.set(i,s),a(s,[i])}for(var mg=0;mg<OO.length;mg++){var vg=OO[mg],vz=vg.toLowerCase(),gz=vg[0].toUpperCase()+vg.slice(1);Bi(vz,"on"+gz)}Bi(EO,"onAnimationEnd"),Bi(DO,"onAnimationIteration"),Bi(xO,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(SO,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yz=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function TO(i,s,c){var h=i.type||"unknown-event";i.currentTarget=c,qv(h,s,void 0,i),i.currentTarget=null}function kO(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],g=h.event;h=h.listeners;e:{var D=void 0;if(s)for(var T=h.length-1;0<=T;T--){var _=h[T],z=_.instance,le=_.currentTarget;if(_=_.listener,z!==D&&g.isPropagationStopped())break e;TO(g,_,le),D=z}else for(T=0;T<h.length;T++){if(_=h[T],z=_.instance,le=_.currentTarget,_=_.listener,z!==D&&g.isPropagationStopped())break e;TO(g,_,le),D=z}}}if(Xa)throw i=Ul,Xa=!1,Ul=null,i}function Tt(i,s){var c=s[xg];c===void 0&&(c=s[xg]=new Set);var h=i+"__bubble";c.has(h)||(RO(s,i,2,!1),c.add(h))}function gg(i,s,c){var h=0;s&&(h|=4),RO(c,i,h,s)}var _d="_reactListening"+Math.random().toString(36).slice(2);function oc(i){if(!i[_d]){i[_d]=!0,r.forEach(function(c){c!=="selectionchange"&&(yz.has(c)||gg(c,!1,i),gg(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[_d]||(s[_d]=!0,gg("selectionchange",!1,s))}}function RO(i,s,c,h){switch(JA(s)){case 1:var g=I6;break;case 4:g=N6;break;default:g=eg}c=g.bind(null,s,c,i),g=void 0,!zl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,c,{capture:!0,passive:g}):i.addEventListener(s,c,!0):g!==void 0?i.addEventListener(s,c,{passive:g}):i.addEventListener(s,c,!1)}function yg(i,s,c,h,g){var D=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var _=h.stateNode.containerInfo;if(_===g||_.nodeType===8&&_.parentNode===g)break;if(T===4)for(T=h.return;T!==null;){var z=T.tag;if((z===3||z===4)&&(z=T.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;T=T.return}for(;_!==null;){if(T=js(_),T===null)return;if(z=T.tag,z===5||z===6){h=D=T;continue e}_=_.parentNode}}h=h.return}dd(function(){var le=D,we=Is(c),Ce=[];e:{var be=AO.get(i);if(be!==void 0){var _e=rg,Le=i;switch(i){case"keypress":if(Rd(c)===0)break e;case"keydown":case"keyup":_e=G6;break;case"focusin":Le="focus",_e=sg;break;case"focusout":Le="blur",_e=sg;break;case"beforeblur":case"afterblur":_e=sg;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=nO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=_6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Z6;break;case EO:case DO:case xO:_e=L6;break;case SO:_e=J6;break;case"scroll":_e=B6;break;case"wheel":_e=tz;break;case"copy":case"cut":case"paste":_e=z6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=oO}var $e=(s&4)!==0,Ut=!$e&&i==="scroll",ee=$e?be!==null?be+"Capture":null:be;$e=[];for(var W=le,ie;W!==null;){ie=W;var xe=ie.stateNode;if(ie.tag===5&&xe!==null&&(ie=xe,ee!==null&&(xe=uo(W,ee),xe!=null&&$e.push(ic(W,xe,ie)))),Ut)break;W=W.return}0<$e.length&&(be=new _e(be,Le,null,c,we),Ce.push({event:be,listeners:$e}))}}if((s&7)===0){e:{if(be=i==="mouseover"||i==="pointerover",_e=i==="mouseout"||i==="pointerout",be&&c!==Ps&&(Le=c.relatedTarget||c.fromElement)&&(js(Le)||Le[$o]))break e;if((_e||be)&&(be=we.window===we?we:(be=we.ownerDocument)?be.defaultView||be.parentWindow:window,_e?(Le=c.relatedTarget||c.toElement,_e=le,Le=Le?js(Le):null,Le!==null&&(Ut=jo(Le),Le!==Ut||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(_e=null,Le=le),_e!==Le)){if($e=nO,xe="onMouseLeave",ee="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&($e=oO,xe="onPointerLeave",ee="onPointerEnter",W="pointer"),Ut=_e==null?be:ou(_e),ie=Le==null?be:ou(Le),be=new $e(xe,W+"leave",_e,c,we),be.target=Ut,be.relatedTarget=ie,xe=null,js(we)===le&&($e=new $e(ee,W+"enter",Le,c,we),$e.target=ie,$e.relatedTarget=Ut,xe=$e),Ut=xe,_e&&Le)t:{for($e=_e,ee=Le,W=0,ie=$e;ie;ie=nu(ie))W++;for(ie=0,xe=ee;xe;xe=nu(xe))ie++;for(;0<W-ie;)$e=nu($e),W--;for(;0<ie-W;)ee=nu(ee),ie--;for(;W--;){if($e===ee||ee!==null&&$e===ee.alternate)break t;$e=nu($e),ee=nu(ee)}$e=null}else $e=null;_e!==null&&PO(Ce,be,_e,$e,!1),Le!==null&&Ut!==null&&PO(Ce,Ut,Le,$e,!0)}}e:{if(be=le?ou(le):window,_e=be.nodeName&&be.nodeName.toLowerCase(),_e==="select"||_e==="input"&&be.type==="file")var Ue=uz;else if(cO(be))if(dO)Ue=dz;else{Ue=cz;var Ke=lz}else(_e=be.nodeName)&&_e.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(Ue=fz);if(Ue&&(Ue=Ue(i,le))){fO(Ce,Ue,c,we);break e}Ke&&Ke(i,be,le),i==="focusout"&&(Ke=be._wrapperState)&&Ke.controlled&&be.type==="number"&&Ge(be,"number",be.value)}switch(Ke=le?ou(le):window,i){case"focusin":(cO(Ke)||Ke.contentEditable==="true")&&(eu=Ke,dg=le,nc=null);break;case"focusout":nc=dg=eu=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,wO(Ce,c,we);break;case"selectionchange":if(mz)break;case"keydown":case"keyup":wO(Ce,c,we)}var qe;if(ug)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Ja?uO(i,c)&&(Ze="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ze="onCompositionStart");Ze&&(iO&&c.locale!=="ko"&&(Ja||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Ja&&(qe=eO()):(Ni=we,ng="value"in Ni?Ni.value:Ni.textContent,Ja=!0)),Ke=Md(le,Ze),0<Ke.length&&(Ze=new rO(Ze,i,null,c,we),Ce.push({event:Ze,listeners:Ke}),qe?Ze.data=qe:(qe=lO(c),qe!==null&&(Ze.data=qe)))),(qe=rz?oz(i,c):iz(i,c))&&(le=Md(le,"onBeforeInput"),0<le.length&&(we=new rO("onBeforeInput","beforeinput",null,c,we),Ce.push({event:we,listeners:le}),we.data=qe))}kO(Ce,s)})}function ic(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Md(i,s){for(var c=s+"Capture",h=[];i!==null;){var g=i,D=g.stateNode;g.tag===5&&D!==null&&(g=D,D=uo(i,c),D!=null&&h.unshift(ic(i,D,g)),D=uo(i,s),D!=null&&h.push(ic(i,D,g))),i=i.return}return h}function nu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function PO(i,s,c,h,g){for(var D=s._reactName,T=[];c!==null&&c!==h;){var _=c,z=_.alternate,le=_.stateNode;if(z!==null&&z===h)break;_.tag===5&&le!==null&&(_=le,g?(z=uo(c,D),z!=null&&T.unshift(ic(c,z,_))):g||(z=uo(c,D),z!=null&&T.push(ic(c,z,_)))),c=c.return}T.length!==0&&i.push({event:s,listeners:T})}var bz=/\r\n?/g,wz=/\u0000|\uFFFD/g;function IO(i){return(typeof i=="string"?i:""+i).replace(bz,`
`).replace(wz,"")}function jd(i,s,c){if(s=IO(s),IO(i)!==s&&c)throw Error(n(425))}function Ld(){}var bg=null,wg=null;function Cg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Eg=typeof setTimeout=="function"?setTimeout:void 0,Cz=typeof clearTimeout=="function"?clearTimeout:void 0,NO=typeof Promise=="function"?Promise:void 0,Ez=typeof queueMicrotask=="function"?queueMicrotask:typeof NO<"u"?function(i){return NO.resolve(null).then(i).catch(Dz)}:Eg;function Dz(i){setTimeout(function(){throw i})}function Dg(i,s){var c=s,h=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){i.removeChild(g),Yl(s);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);Yl(s)}function Fi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function BO(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}var ru=Math.random().toString(36).slice(2),lo="__reactFiber$"+ru,sc="__reactProps$"+ru,$o="__reactContainer$"+ru,xg="__reactEvents$"+ru,xz="__reactListeners$"+ru,Sz="__reactHandles$"+ru;function js(i){var s=i[lo];if(s)return s;for(var c=i.parentNode;c;){if(s=c[$o]||c[lo]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=BO(i);i!==null;){if(c=i[lo])return c;i=BO(i)}return s}i=c,c=i.parentNode}return null}function ac(i){return i=i[lo]||i[$o],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ou(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function $d(i){return i[sc]||null}var Sg=[],iu=-1;function _i(i){return{current:i}}function kt(i){0>iu||(i.current=Sg[iu],Sg[iu]=null,iu--)}function At(i,s){iu++,Sg[iu]=i.current,i.current=s}var Mi={},hn=_i(Mi),Pn=_i(!1),Ls=Mi;function su(i,s){var c=i.type.contextTypes;if(!c)return Mi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var g={},D;for(D in c)g[D]=s[D];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=g),g}function In(i){return i=i.childContextTypes,i!=null}function zd(){kt(Pn),kt(hn)}function FO(i,s,c){if(hn.current!==Mi)throw Error(n(168));At(hn,s),At(Pn,c)}function _O(i,s,c){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in s))throw Error(n(108,Z(i)||"Unknown",g));return Q({},c,h)}function Ud(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Mi,Ls=hn.current,At(hn,i),At(Pn,Pn.current),!0}function MO(i,s,c){var h=i.stateNode;if(!h)throw Error(n(169));c?(i=_O(i,s,Ls),h.__reactInternalMemoizedMergedChildContext=i,kt(Pn),kt(hn),At(hn,i)):kt(Pn),At(Pn,c)}var zo=null,Hd=!1,Ag=!1;function jO(i){zo===null?zo=[i]:zo.push(i)}function Az(i){Hd=!0,jO(i)}function ji(){if(!Ag&&zo!==null){Ag=!0;var i=0,s=gt;try{var c=zo;for(gt=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}zo=null,Hd=!1}catch(g){throw zo!==null&&(zo=zo.slice(i+1)),gd(Ms,ji),g}finally{gt=s,Ag=!1}}return null}var au=[],uu=0,Wd=null,Vd=0,ar=[],ur=0,$s=null,Uo=1,Ho="";function zs(i,s){au[uu++]=Vd,au[uu++]=Wd,Wd=i,Vd=s}function LO(i,s,c){ar[ur++]=Uo,ar[ur++]=Ho,ar[ur++]=$s,$s=i;var h=Uo;i=Ho;var g=32-Et(h)-1;h&=~(1<<g),c+=1;var D=32-Et(s)+g;if(30<D){var T=g-g%5;D=(h&(1<<T)-1).toString(32),h>>=T,g-=T,Uo=1<<32-Et(s)+g|c<<g|h,Ho=D+i}else Uo=1<<D|c<<g|h,Ho=i}function Og(i){i.return!==null&&(zs(i,1),LO(i,1,0))}function Tg(i){for(;i===Wd;)Wd=au[--uu],au[uu]=null,Vd=au[--uu],au[uu]=null;for(;i===$s;)$s=ar[--ur],ar[ur]=null,Ho=ar[--ur],ar[ur]=null,Uo=ar[--ur],ar[ur]=null}var Yn=null,Xn=null,Bt=!1,Ir=null;function $O(i,s){var c=dr(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=i,s=i.deletions,s===null?(i.deletions=[c],i.flags|=16):s.push(c)}function zO(i,s){switch(i.tag){case 5:var c=i.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Yn=i,Xn=Fi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Yn=i,Xn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=$s!==null?{id:Uo,overflow:Ho}:null,i.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=dr(18,null,null,0),c.stateNode=s,c.return=i,i.child=c,Yn=i,Xn=null,!0):!1;default:return!1}}function kg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Rg(i){if(Bt){var s=Xn;if(s){var c=s;if(!zO(i,s)){if(kg(i))throw Error(n(418));s=Fi(c.nextSibling);var h=Yn;s&&zO(i,s)?$O(h,c):(i.flags=i.flags&-4097|2,Bt=!1,Yn=i)}}else{if(kg(i))throw Error(n(418));i.flags=i.flags&-4097|2,Bt=!1,Yn=i}}}function UO(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Yn=i}function Kd(i){if(i!==Yn)return!1;if(!Bt)return UO(i),Bt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Cg(i.type,i.memoizedProps)),s&&(s=Xn)){if(kg(i))throw HO(),Error(n(418));for(;s;)$O(i,s),s=Fi(s.nextSibling)}if(UO(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(s===0){Xn=Fi(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}i=i.nextSibling}Xn=null}}else Xn=Yn?Fi(i.stateNode.nextSibling):null;return!0}function HO(){for(var i=Xn;i;)i=Fi(i.nextSibling)}function lu(){Xn=Yn=null,Bt=!1}function Pg(i){Ir===null?Ir=[i]:Ir.push(i)}var Oz=R.ReactCurrentBatchConfig;function uc(i,s,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,i));var g=h,D=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===D?s.ref:(s=function(T){var _=g.refs;T===null?delete _[D]:_[D]=T},s._stringRef=D,s)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function qd(i,s){throw i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function WO(i){var s=i._init;return s(i._payload)}function VO(i){function s(ee,W){if(i){var ie=ee.deletions;ie===null?(ee.deletions=[W],ee.flags|=16):ie.push(W)}}function c(ee,W){if(!i)return null;for(;W!==null;)s(ee,W),W=W.sibling;return null}function h(ee,W){for(ee=new Map;W!==null;)W.key!==null?ee.set(W.key,W):ee.set(W.index,W),W=W.sibling;return ee}function g(ee,W){return ee=Ki(ee,W),ee.index=0,ee.sibling=null,ee}function D(ee,W,ie){return ee.index=ie,i?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<W?(ee.flags|=2,W):ie):(ee.flags|=2,W)):(ee.flags|=1048576,W)}function T(ee){return i&&ee.alternate===null&&(ee.flags|=2),ee}function _(ee,W,ie,xe){return W===null||W.tag!==6?(W=E0(ie,ee.mode,xe),W.return=ee,W):(W=g(W,ie),W.return=ee,W)}function z(ee,W,ie,xe){var Ue=ie.type;return Ue===I?we(ee,W,ie.props.children,xe,ie.key):W!==null&&(W.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===ve&&WO(Ue)===W.type)?(xe=g(W,ie.props),xe.ref=uc(ee,W,ie),xe.return=ee,xe):(xe=gh(ie.type,ie.key,ie.props,null,ee.mode,xe),xe.ref=uc(ee,W,ie),xe.return=ee,xe)}function le(ee,W,ie,xe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ie.containerInfo||W.stateNode.implementation!==ie.implementation?(W=D0(ie,ee.mode,xe),W.return=ee,W):(W=g(W,ie.children||[]),W.return=ee,W)}function we(ee,W,ie,xe,Ue){return W===null||W.tag!==7?(W=Ys(ie,ee.mode,xe,Ue),W.return=ee,W):(W=g(W,ie),W.return=ee,W)}function Ce(ee,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number")return W=E0(""+W,ee.mode,ie),W.return=ee,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return ie=gh(W.type,W.key,W.props,null,ee.mode,ie),ie.ref=uc(ee,null,W),ie.return=ee,ie;case L:return W=D0(W,ee.mode,ie),W.return=ee,W;case ve:var xe=W._init;return Ce(ee,xe(W._payload),ie)}if(bt(W)||G(W))return W=Ys(W,ee.mode,ie,null),W.return=ee,W;qd(ee,W)}return null}function be(ee,W,ie,xe){var Ue=W!==null?W.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ue!==null?null:_(ee,W,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case F:return ie.key===Ue?z(ee,W,ie,xe):null;case L:return ie.key===Ue?le(ee,W,ie,xe):null;case ve:return Ue=ie._init,be(ee,W,Ue(ie._payload),xe)}if(bt(ie)||G(ie))return Ue!==null?null:we(ee,W,ie,xe,null);qd(ee,ie)}return null}function _e(ee,W,ie,xe,Ue){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ee=ee.get(ie)||null,_(W,ee,""+xe,Ue);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case F:return ee=ee.get(xe.key===null?ie:xe.key)||null,z(W,ee,xe,Ue);case L:return ee=ee.get(xe.key===null?ie:xe.key)||null,le(W,ee,xe,Ue);case ve:var Ke=xe._init;return _e(ee,W,ie,Ke(xe._payload),Ue)}if(bt(xe)||G(xe))return ee=ee.get(ie)||null,we(W,ee,xe,Ue,null);qd(W,xe)}return null}function Le(ee,W,ie,xe){for(var Ue=null,Ke=null,qe=W,Ze=W=0,nn=null;qe!==null&&Ze<ie.length;Ze++){qe.index>Ze?(nn=qe,qe=null):nn=qe.sibling;var ft=be(ee,qe,ie[Ze],xe);if(ft===null){qe===null&&(qe=nn);break}i&&qe&&ft.alternate===null&&s(ee,qe),W=D(ft,W,Ze),Ke===null?Ue=ft:Ke.sibling=ft,Ke=ft,qe=nn}if(Ze===ie.length)return c(ee,qe),Bt&&zs(ee,Ze),Ue;if(qe===null){for(;Ze<ie.length;Ze++)qe=Ce(ee,ie[Ze],xe),qe!==null&&(W=D(qe,W,Ze),Ke===null?Ue=qe:Ke.sibling=qe,Ke=qe);return Bt&&zs(ee,Ze),Ue}for(qe=h(ee,qe);Ze<ie.length;Ze++)nn=_e(qe,ee,Ze,ie[Ze],xe),nn!==null&&(i&&nn.alternate!==null&&qe.delete(nn.key===null?Ze:nn.key),W=D(nn,W,Ze),Ke===null?Ue=nn:Ke.sibling=nn,Ke=nn);return i&&qe.forEach(function(qi){return s(ee,qi)}),Bt&&zs(ee,Ze),Ue}function $e(ee,W,ie,xe){var Ue=G(ie);if(typeof Ue!="function")throw Error(n(150));if(ie=Ue.call(ie),ie==null)throw Error(n(151));for(var Ke=Ue=null,qe=W,Ze=W=0,nn=null,ft=ie.next();qe!==null&&!ft.done;Ze++,ft=ie.next()){qe.index>Ze?(nn=qe,qe=null):nn=qe.sibling;var qi=be(ee,qe,ft.value,xe);if(qi===null){qe===null&&(qe=nn);break}i&&qe&&qi.alternate===null&&s(ee,qe),W=D(qi,W,Ze),Ke===null?Ue=qi:Ke.sibling=qi,Ke=qi,qe=nn}if(ft.done)return c(ee,qe),Bt&&zs(ee,Ze),Ue;if(qe===null){for(;!ft.done;Ze++,ft=ie.next())ft=Ce(ee,ft.value,xe),ft!==null&&(W=D(ft,W,Ze),Ke===null?Ue=ft:Ke.sibling=ft,Ke=ft);return Bt&&zs(ee,Ze),Ue}for(qe=h(ee,qe);!ft.done;Ze++,ft=ie.next())ft=_e(qe,ee,Ze,ft.value,xe),ft!==null&&(i&&ft.alternate!==null&&qe.delete(ft.key===null?Ze:ft.key),W=D(ft,W,Ze),Ke===null?Ue=ft:Ke.sibling=ft,Ke=ft);return i&&qe.forEach(function(sU){return s(ee,sU)}),Bt&&zs(ee,Ze),Ue}function Ut(ee,W,ie,xe){if(typeof ie=="object"&&ie!==null&&ie.type===I&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case F:e:{for(var Ue=ie.key,Ke=W;Ke!==null;){if(Ke.key===Ue){if(Ue=ie.type,Ue===I){if(Ke.tag===7){c(ee,Ke.sibling),W=g(Ke,ie.props.children),W.return=ee,ee=W;break e}}else if(Ke.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===ve&&WO(Ue)===Ke.type){c(ee,Ke.sibling),W=g(Ke,ie.props),W.ref=uc(ee,Ke,ie),W.return=ee,ee=W;break e}c(ee,Ke);break}else s(ee,Ke);Ke=Ke.sibling}ie.type===I?(W=Ys(ie.props.children,ee.mode,xe,ie.key),W.return=ee,ee=W):(xe=gh(ie.type,ie.key,ie.props,null,ee.mode,xe),xe.ref=uc(ee,W,ie),xe.return=ee,ee=xe)}return T(ee);case L:e:{for(Ke=ie.key;W!==null;){if(W.key===Ke)if(W.tag===4&&W.stateNode.containerInfo===ie.containerInfo&&W.stateNode.implementation===ie.implementation){c(ee,W.sibling),W=g(W,ie.children||[]),W.return=ee,ee=W;break e}else{c(ee,W);break}else s(ee,W);W=W.sibling}W=D0(ie,ee.mode,xe),W.return=ee,ee=W}return T(ee);case ve:return Ke=ie._init,Ut(ee,W,Ke(ie._payload),xe)}if(bt(ie))return Le(ee,W,ie,xe);if(G(ie))return $e(ee,W,ie,xe);qd(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,W!==null&&W.tag===6?(c(ee,W.sibling),W=g(W,ie),W.return=ee,ee=W):(c(ee,W),W=E0(ie,ee.mode,xe),W.return=ee,ee=W),T(ee)):c(ee,W)}return Ut}var cu=VO(!0),KO=VO(!1),Gd=_i(null),Yd=null,fu=null,Ig=null;function Ng(){Ig=fu=Yd=null}function Bg(i){var s=Gd.current;kt(Gd),i._currentValue=s}function Fg(i,s,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===c)break;i=i.return}}function du(i,s){Yd=i,Ig=fu=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(Nn=!0),i.firstContext=null)}function lr(i){var s=i._currentValue;if(Ig!==i)if(i={context:i,memoizedValue:s,next:null},fu===null){if(Yd===null)throw Error(n(308));fu=i,Yd.dependencies={lanes:0,firstContext:i}}else fu=fu.next=i;return s}var Us=null;function _g(i){Us===null?Us=[i]:Us.push(i)}function qO(i,s,c,h){var g=s.interleaved;return g===null?(c.next=c,_g(s)):(c.next=g.next,g.next=c),s.interleaved=c,Wo(i,h)}function Wo(i,s){i.lanes|=s;var c=i.alternate;for(c!==null&&(c.lanes|=s),c=i,i=i.return;i!==null;)i.childLanes|=s,c=i.alternate,c!==null&&(c.childLanes|=s),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Li=!1;function Mg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GO(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Vo(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function $i(i,s,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(ct&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,Wo(i,c)}return g=h.interleaved,g===null?(s.next=s,_g(h)):(s.next=g.next,g.next=s),h.interleaved=s,Wo(i,c)}function Xd(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,c|=h,s.lanes=c,Zv(i,c)}}function YO(i,s){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,D=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};D===null?g=D=T:D=D.next=T,c=c.next}while(c!==null);D===null?g=D=s:D=D.next=s}else g=D=s;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:D,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}function Zd(i,s,c,h){var g=i.updateQueue;Li=!1;var D=g.firstBaseUpdate,T=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var z=_,le=z.next;z.next=null,T===null?D=le:T.next=le,T=z;var we=i.alternate;we!==null&&(we=we.updateQueue,_=we.lastBaseUpdate,_!==T&&(_===null?we.firstBaseUpdate=le:_.next=le,we.lastBaseUpdate=z))}if(D!==null){var Ce=g.baseState;T=0,we=le=z=null,_=D;do{var be=_.lane,_e=_.eventTime;if((h&be)===be){we!==null&&(we=we.next={eventTime:_e,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Le=i,$e=_;switch(be=s,_e=c,$e.tag){case 1:if(Le=$e.payload,typeof Le=="function"){Ce=Le.call(_e,Ce,be);break e}Ce=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=$e.payload,be=typeof Le=="function"?Le.call(_e,Ce,be):Le,be==null)break e;Ce=Q({},Ce,be);break e;case 2:Li=!0}}_.callback!==null&&_.lane!==0&&(i.flags|=64,be=g.effects,be===null?g.effects=[_]:be.push(_))}else _e={eventTime:_e,lane:be,tag:_.tag,payload:_.payload,callback:_.callback,next:null},we===null?(le=we=_e,z=Ce):we=we.next=_e,T|=be;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;be=_,_=be.next,be.next=null,g.lastBaseUpdate=be,g.shared.pending=null}}while(!0);if(we===null&&(z=Ce),g.baseState=z,g.firstBaseUpdate=le,g.lastBaseUpdate=we,s=g.shared.interleaved,s!==null){g=s;do T|=g.lane,g=g.next;while(g!==s)}else D===null&&(g.shared.lanes=0);Vs|=T,i.lanes=T,i.memoizedState=Ce}}function XO(i,s,c){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var lc={},co=_i(lc),cc=_i(lc),fc=_i(lc);function Hs(i){if(i===lc)throw Error(n(174));return i}function jg(i,s){switch(At(fc,s),At(cc,i),At(co,lc),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=wt(s,i)}kt(co),At(co,s)}function hu(){kt(co),kt(cc),kt(fc)}function ZO(i){Hs(fc.current);var s=Hs(co.current),c=wt(s,i.type);s!==c&&(At(cc,i),At(co,c))}function Lg(i){cc.current===i&&(kt(co),kt(cc))}var jt=_i(0);function Qd(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $g=[];function zg(){for(var i=0;i<$g.length;i++)$g[i]._workInProgressVersionPrimary=null;$g.length=0}var Jd=R.ReactCurrentDispatcher,Ug=R.ReactCurrentBatchConfig,Ws=0,Lt=null,Kt=null,en=null,eh=!1,dc=!1,hc=0,Tz=0;function pn(){throw Error(n(321))}function Hg(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Pr(i[c],s[c]))return!1;return!0}function Wg(i,s,c,h,g,D){if(Ws=D,Lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Jd.current=i===null||i.memoizedState===null?Iz:Nz,i=c(h,g),dc){D=0;do{if(dc=!1,hc=0,25<=D)throw Error(n(301));D+=1,en=Kt=null,s.updateQueue=null,Jd.current=Bz,i=c(h,g)}while(dc)}if(Jd.current=rh,s=Kt!==null&&Kt.next!==null,Ws=0,en=Kt=Lt=null,eh=!1,s)throw Error(n(300));return i}function Vg(){var i=hc!==0;return hc=0,i}function fo(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Lt.memoizedState=en=i:en=en.next=i,en}function cr(){if(Kt===null){var i=Lt.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var s=en===null?Lt.memoizedState:en.next;if(s!==null)en=s,Kt=i;else{if(i===null)throw Error(n(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},en===null?Lt.memoizedState=en=i:en=en.next=i}return en}function pc(i,s){return typeof s=="function"?s(i):s}function Kg(i){var s=cr(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=Kt,g=h.baseQueue,D=c.pending;if(D!==null){if(g!==null){var T=g.next;g.next=D.next,D.next=T}h.baseQueue=g=D,c.pending=null}if(g!==null){D=g.next,h=h.baseState;var _=T=null,z=null,le=D;do{var we=le.lane;if((Ws&we)===we)z!==null&&(z=z.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),h=le.hasEagerState?le.eagerState:i(h,le.action);else{var Ce={lane:we,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};z===null?(_=z=Ce,T=h):z=z.next=Ce,Lt.lanes|=we,Vs|=we}le=le.next}while(le!==null&&le!==D);z===null?T=h:z.next=_,Pr(h,s.memoizedState)||(Nn=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=z,c.lastRenderedState=h}if(i=c.interleaved,i!==null){g=i;do D=g.lane,Lt.lanes|=D,Vs|=D,g=g.next;while(g!==i)}else g===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function qg(i){var s=cr(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,g=c.pending,D=s.memoizedState;if(g!==null){c.pending=null;var T=g=g.next;do D=i(D,T.action),T=T.next;while(T!==g);Pr(D,s.memoizedState)||(Nn=!0),s.memoizedState=D,s.baseQueue===null&&(s.baseState=D),c.lastRenderedState=D}return[D,h]}function QO(){}function JO(i,s){var c=Lt,h=cr(),g=s(),D=!Pr(h.memoizedState,g);if(D&&(h.memoizedState=g,Nn=!0),h=h.queue,Gg(nT.bind(null,c,h,i),[i]),h.getSnapshot!==s||D||en!==null&&en.memoizedState.tag&1){if(c.flags|=2048,mc(9,tT.bind(null,c,h,g,s),void 0,null),tn===null)throw Error(n(349));(Ws&30)!==0||eT(c,s,g)}return g}function eT(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Lt.updateQueue,s===null?(s={lastEffect:null,stores:null},Lt.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function tT(i,s,c,h){s.value=c,s.getSnapshot=h,rT(s)&&oT(i)}function nT(i,s,c){return c(function(){rT(s)&&oT(i)})}function rT(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Pr(i,c)}catch{return!0}}function oT(i){var s=Wo(i,1);s!==null&&_r(s,i,1,-1)}function iT(i){var s=fo();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:i},s.queue=i,i=i.dispatch=Pz.bind(null,Lt,i),[s.memoizedState,i]}function mc(i,s,c,h){return i={tag:i,create:s,destroy:c,deps:h,next:null},s=Lt.updateQueue,s===null?(s={lastEffect:null,stores:null},Lt.updateQueue=s,s.lastEffect=i.next=i):(c=s.lastEffect,c===null?s.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,s.lastEffect=i)),i}function sT(){return cr().memoizedState}function th(i,s,c,h){var g=fo();Lt.flags|=i,g.memoizedState=mc(1|s,c,void 0,h===void 0?null:h)}function nh(i,s,c,h){var g=cr();h=h===void 0?null:h;var D=void 0;if(Kt!==null){var T=Kt.memoizedState;if(D=T.destroy,h!==null&&Hg(h,T.deps)){g.memoizedState=mc(s,c,D,h);return}}Lt.flags|=i,g.memoizedState=mc(1|s,c,D,h)}function aT(i,s){return th(8390656,8,i,s)}function Gg(i,s){return nh(2048,8,i,s)}function uT(i,s){return nh(4,2,i,s)}function lT(i,s){return nh(4,4,i,s)}function cT(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function fT(i,s,c){return c=c!=null?c.concat([i]):null,nh(4,4,cT.bind(null,s,i),c)}function Yg(){}function dT(i,s){var c=cr();s=s===void 0?null:s;var h=c.memoizedState;return h!==null&&s!==null&&Hg(s,h[1])?h[0]:(c.memoizedState=[i,s],i)}function hT(i,s){var c=cr();s=s===void 0?null:s;var h=c.memoizedState;return h!==null&&s!==null&&Hg(s,h[1])?h[0]:(i=i(),c.memoizedState=[i,s],i)}function pT(i,s,c){return(Ws&21)===0?(i.baseState&&(i.baseState=!1,Nn=!0),i.memoizedState=c):(Pr(c,s)||(c=WA(),Lt.lanes|=c,Vs|=c,i.baseState=!0),s)}function kz(i,s){var c=gt;gt=c!==0&&4>c?c:4,i(!0);var h=Ug.transition;Ug.transition={};try{i(!1),s()}finally{gt=c,Ug.transition=h}}function mT(){return cr().memoizedState}function Rz(i,s,c){var h=Wi(i);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},vT(i))gT(s,c);else if(c=qO(i,s,c,h),c!==null){var g=An();_r(c,i,h,g),yT(c,s,h)}}function Pz(i,s,c){var h=Wi(i),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(vT(i))gT(s,g);else{var D=i.alternate;if(i.lanes===0&&(D===null||D.lanes===0)&&(D=s.lastRenderedReducer,D!==null))try{var T=s.lastRenderedState,_=D(T,c);if(g.hasEagerState=!0,g.eagerState=_,Pr(_,T)){var z=s.interleaved;z===null?(g.next=g,_g(s)):(g.next=z.next,z.next=g),s.interleaved=g;return}}catch{}finally{}c=qO(i,s,g,h),c!==null&&(g=An(),_r(c,i,h,g),yT(c,s,h))}}function vT(i){var s=i.alternate;return i===Lt||s!==null&&s===Lt}function gT(i,s){dc=eh=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function yT(i,s,c){if((c&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,c|=h,s.lanes=c,Zv(i,c)}}var rh={readContext:lr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},Iz={readContext:lr,useCallback:function(i,s){return fo().memoizedState=[i,s===void 0?null:s],i},useContext:lr,useEffect:aT,useImperativeHandle:function(i,s,c){return c=c!=null?c.concat([i]):null,th(4194308,4,cT.bind(null,s,i),c)},useLayoutEffect:function(i,s){return th(4194308,4,i,s)},useInsertionEffect:function(i,s){return th(4,2,i,s)},useMemo:function(i,s){var c=fo();return s=s===void 0?null:s,i=i(),c.memoizedState=[i,s],i},useReducer:function(i,s,c){var h=fo();return s=c!==void 0?c(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=Rz.bind(null,Lt,i),[h.memoizedState,i]},useRef:function(i){var s=fo();return i={current:i},s.memoizedState=i},useState:iT,useDebugValue:Yg,useDeferredValue:function(i){return fo().memoizedState=i},useTransition:function(){var i=iT(!1),s=i[0];return i=kz.bind(null,i[1]),fo().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,c){var h=Lt,g=fo();if(Bt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=s(),tn===null)throw Error(n(349));(Ws&30)!==0||eT(h,s,c)}g.memoizedState=c;var D={value:c,getSnapshot:s};return g.queue=D,aT(nT.bind(null,h,D,i),[i]),h.flags|=2048,mc(9,tT.bind(null,h,D,c,s),void 0,null),c},useId:function(){var i=fo(),s=tn.identifierPrefix;if(Bt){var c=Ho,h=Uo;c=(h&~(1<<32-Et(h)-1)).toString(32)+c,s=":"+s+"R"+c,c=hc++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=Tz++,s=":"+s+"r"+c.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Nz={readContext:lr,useCallback:dT,useContext:lr,useEffect:Gg,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:lT,useMemo:hT,useReducer:Kg,useRef:sT,useState:function(){return Kg(pc)},useDebugValue:Yg,useDeferredValue:function(i){var s=cr();return pT(s,Kt.memoizedState,i)},useTransition:function(){var i=Kg(pc)[0],s=cr().memoizedState;return[i,s]},useMutableSource:QO,useSyncExternalStore:JO,useId:mT,unstable_isNewReconciler:!1},Bz={readContext:lr,useCallback:dT,useContext:lr,useEffect:Gg,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:lT,useMemo:hT,useReducer:qg,useRef:sT,useState:function(){return qg(pc)},useDebugValue:Yg,useDeferredValue:function(i){var s=cr();return Kt===null?s.memoizedState=i:pT(s,Kt.memoizedState,i)},useTransition:function(){var i=qg(pc)[0],s=cr().memoizedState;return[i,s]},useMutableSource:QO,useSyncExternalStore:JO,useId:mT,unstable_isNewReconciler:!1};function Nr(i,s){if(i&&i.defaultProps){s=Q({},s),i=i.defaultProps;for(var c in i)s[c]===void 0&&(s[c]=i[c]);return s}return s}function Xg(i,s,c,h){s=i.memoizedState,c=c(h,s),c=c==null?s:Q({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var oh={isMounted:function(i){return(i=i._reactInternals)?jo(i)===i:!1},enqueueSetState:function(i,s,c){i=i._reactInternals;var h=An(),g=Wi(i),D=Vo(h,g);D.payload=s,c!=null&&(D.callback=c),s=$i(i,D,g),s!==null&&(_r(s,i,g,h),Xd(s,i,g))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var h=An(),g=Wi(i),D=Vo(h,g);D.tag=1,D.payload=s,c!=null&&(D.callback=c),s=$i(i,D,g),s!==null&&(_r(s,i,g,h),Xd(s,i,g))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=An(),h=Wi(i),g=Vo(c,h);g.tag=2,s!=null&&(g.callback=s),s=$i(i,g,h),s!==null&&(_r(s,i,h,c),Xd(s,i,h))}};function bT(i,s,c,h,g,D,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,D,T):s.prototype&&s.prototype.isPureReactComponent?!tc(c,h)||!tc(g,D):!0}function wT(i,s,c){var h=!1,g=Mi,D=s.contextType;return typeof D=="object"&&D!==null?D=lr(D):(g=In(s)?Ls:hn.current,h=s.contextTypes,D=(h=h!=null)?su(i,g):Mi),s=new s(c,D),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=oh,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=D),s}function CT(i,s,c,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==i&&oh.enqueueReplaceState(s,s.state,null)}function Zg(i,s,c,h){var g=i.stateNode;g.props=c,g.state=i.memoizedState,g.refs={},Mg(i);var D=s.contextType;typeof D=="object"&&D!==null?g.context=lr(D):(D=In(s)?Ls:hn.current,g.context=su(i,D)),g.state=i.memoizedState,D=s.getDerivedStateFromProps,typeof D=="function"&&(Xg(i,s,D,c),g.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&oh.enqueueReplaceState(g,g.state,null),Zd(i,c,g,h),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function pu(i,s){try{var c="",h=s;do c+=X(h),h=h.return;while(h);var g=c}catch(D){g=`
Error generating stack: `+D.message+`
`+D.stack}return{value:i,source:s,stack:g,digest:null}}function Qg(i,s,c){return{value:i,source:null,stack:c??null,digest:s??null}}function Jg(i,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var Fz=typeof WeakMap=="function"?WeakMap:Map;function ET(i,s,c){c=Vo(-1,c),c.tag=3,c.payload={element:null};var h=s.value;return c.callback=function(){fh||(fh=!0,p0=h),Jg(i,s)},c}function DT(i,s,c){c=Vo(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=s.value;c.payload=function(){return h(g)},c.callback=function(){Jg(i,s)}}var D=i.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(c.callback=function(){Jg(i,s),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),c}function xT(i,s,c){var h=i.pingCache;if(h===null){h=i.pingCache=new Fz;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(c)||(g.add(c),i=Yz.bind(null,i,s,c),s.then(i,i))}function ST(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function AT(i,s,c,h,g){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=Vo(-1,1),s.tag=2,$i(c,s,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var _z=R.ReactCurrentOwner,Nn=!1;function Sn(i,s,c,h){s.child=i===null?KO(s,null,c,h):cu(s,i.child,c,h)}function OT(i,s,c,h,g){c=c.render;var D=s.ref;return du(s,g),h=Wg(i,s,c,h,D,g),c=Vg(),i!==null&&!Nn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~g,Ko(i,s,g)):(Bt&&c&&Og(s),s.flags|=1,Sn(i,s,h,g),s.child)}function TT(i,s,c,h,g){if(i===null){var D=c.type;return typeof D=="function"&&!C0(D)&&D.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=D,kT(i,s,D,h,g)):(i=gh(c.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(D=i.child,(i.lanes&g)===0){var T=D.memoizedProps;if(c=c.compare,c=c!==null?c:tc,c(T,h)&&i.ref===s.ref)return Ko(i,s,g)}return s.flags|=1,i=Ki(D,h),i.ref=s.ref,i.return=s,s.child=i}function kT(i,s,c,h,g){if(i!==null){var D=i.memoizedProps;if(tc(D,h)&&i.ref===s.ref)if(Nn=!1,s.pendingProps=h=D,(i.lanes&g)!==0)(i.flags&131072)!==0&&(Nn=!0);else return s.lanes=i.lanes,Ko(i,s,g)}return e0(i,s,c,h,g)}function RT(i,s,c){var h=s.pendingProps,g=h.children,D=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(vu,Zn),Zn|=c;else{if((c&1073741824)===0)return i=D!==null?D.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,At(vu,Zn),Zn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=D!==null?D.baseLanes:c,At(vu,Zn),Zn|=h}else D!==null?(h=D.baseLanes|c,s.memoizedState=null):h=c,At(vu,Zn),Zn|=h;return Sn(i,s,g,c),s.child}function PT(i,s){var c=s.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function e0(i,s,c,h,g){var D=In(c)?Ls:hn.current;return D=su(s,D),du(s,g),c=Wg(i,s,c,h,D,g),h=Vg(),i!==null&&!Nn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~g,Ko(i,s,g)):(Bt&&h&&Og(s),s.flags|=1,Sn(i,s,c,g),s.child)}function IT(i,s,c,h,g){if(In(c)){var D=!0;Ud(s)}else D=!1;if(du(s,g),s.stateNode===null)sh(i,s),wT(s,c,h),Zg(s,c,h,g),h=!0;else if(i===null){var T=s.stateNode,_=s.memoizedProps;T.props=_;var z=T.context,le=c.contextType;typeof le=="object"&&le!==null?le=lr(le):(le=In(c)?Ls:hn.current,le=su(s,le));var we=c.getDerivedStateFromProps,Ce=typeof we=="function"||typeof T.getSnapshotBeforeUpdate=="function";Ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(_!==h||z!==le)&&CT(s,T,h,le),Li=!1;var be=s.memoizedState;T.state=be,Zd(s,h,T,g),z=s.memoizedState,_!==h||be!==z||Pn.current||Li?(typeof we=="function"&&(Xg(s,c,we,h),z=s.memoizedState),(_=Li||bT(s,c,_,h,be,z,le))?(Ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=z),T.props=h,T.state=z,T.context=le,h=_):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,GO(i,s),_=s.memoizedProps,le=s.type===s.elementType?_:Nr(s.type,_),T.props=le,Ce=s.pendingProps,be=T.context,z=c.contextType,typeof z=="object"&&z!==null?z=lr(z):(z=In(c)?Ls:hn.current,z=su(s,z));var _e=c.getDerivedStateFromProps;(we=typeof _e=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(_!==Ce||be!==z)&&CT(s,T,h,z),Li=!1,be=s.memoizedState,T.state=be,Zd(s,h,T,g);var Le=s.memoizedState;_!==Ce||be!==Le||Pn.current||Li?(typeof _e=="function"&&(Xg(s,c,_e,h),Le=s.memoizedState),(le=Li||bT(s,c,le,h,be,Le,z)||!1)?(we||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,Le,z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,Le,z)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||_===i.memoizedProps&&be===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&be===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Le),T.props=h,T.state=Le,T.context=z,h=le):(typeof T.componentDidUpdate!="function"||_===i.memoizedProps&&be===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&be===i.memoizedState||(s.flags|=1024),h=!1)}return t0(i,s,c,h,D,g)}function t0(i,s,c,h,g,D){PT(i,s);var T=(s.flags&128)!==0;if(!h&&!T)return g&&MO(s,c,!1),Ko(i,s,D);h=s.stateNode,_z.current=s;var _=T&&typeof c.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&T?(s.child=cu(s,i.child,null,D),s.child=cu(s,null,_,D)):Sn(i,s,_,D),s.memoizedState=h.state,g&&MO(s,c,!0),s.child}function NT(i){var s=i.stateNode;s.pendingContext?FO(i,s.pendingContext,s.pendingContext!==s.context):s.context&&FO(i,s.context,!1),jg(i,s.containerInfo)}function BT(i,s,c,h,g){return lu(),Pg(g),s.flags|=256,Sn(i,s,c,h),s.child}var n0={dehydrated:null,treeContext:null,retryLane:0};function r0(i){return{baseLanes:i,cachePool:null,transitions:null}}function FT(i,s,c){var h=s.pendingProps,g=jt.current,D=!1,T=(s.flags&128)!==0,_;if((_=T)||(_=i!==null&&i.memoizedState===null?!1:(g&2)!==0),_?(D=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),At(jt,g&1),i===null)return Rg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,i=h.fallback,D?(h=s.mode,D=s.child,T={mode:"hidden",children:T},(h&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=T):D=yh(T,h,0,null),i=Ys(i,h,c,null),D.return=s,i.return=s,D.sibling=i,s.child=D,s.child.memoizedState=r0(c),s.memoizedState=n0,i):o0(s,T));if(g=i.memoizedState,g!==null&&(_=g.dehydrated,_!==null))return Mz(i,s,T,h,_,g,c);if(D){D=h.fallback,T=s.mode,g=i.child,_=g.sibling;var z={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==g?(h=s.child,h.childLanes=0,h.pendingProps=z,s.deletions=null):(h=Ki(g,z),h.subtreeFlags=g.subtreeFlags&14680064),_!==null?D=Ki(_,D):(D=Ys(D,T,c,null),D.flags|=2),D.return=s,h.return=s,h.sibling=D,s.child=h,h=D,D=s.child,T=i.child.memoizedState,T=T===null?r0(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},D.memoizedState=T,D.childLanes=i.childLanes&~c,s.memoizedState=n0,h}return D=i.child,i=D.sibling,h=Ki(D,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=c),h.return=s,h.sibling=null,i!==null&&(c=s.deletions,c===null?(s.deletions=[i],s.flags|=16):c.push(i)),s.child=h,s.memoizedState=null,h}function o0(i,s){return s=yh({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function ih(i,s,c,h){return h!==null&&Pg(h),cu(s,i.child,null,c),i=o0(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Mz(i,s,c,h,g,D,T){if(c)return s.flags&256?(s.flags&=-257,h=Qg(Error(n(422))),ih(i,s,T,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(D=h.fallback,g=s.mode,h=yh({mode:"visible",children:h.children},g,0,null),D=Ys(D,g,T,null),D.flags|=2,h.return=s,D.return=s,h.sibling=D,s.child=h,(s.mode&1)!==0&&cu(s,i.child,null,T),s.child.memoizedState=r0(T),s.memoizedState=n0,D);if((s.mode&1)===0)return ih(i,s,T,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var _=h.dgst;return h=_,D=Error(n(419)),h=Qg(D,h,void 0),ih(i,s,T,h)}if(_=(T&i.childLanes)!==0,Nn||_){if(h=tn,h!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|T))!==0?0:g,g!==0&&g!==D.retryLane&&(D.retryLane=g,Wo(i,g),_r(h,i,g,-1))}return w0(),h=Qg(Error(n(421))),ih(i,s,T,h)}return g.data==="$?"?(s.flags|=128,s.child=i.child,s=Xz.bind(null,i),g._reactRetry=s,null):(i=D.treeContext,Xn=Fi(g.nextSibling),Yn=s,Bt=!0,Ir=null,i!==null&&(ar[ur++]=Uo,ar[ur++]=Ho,ar[ur++]=$s,Uo=i.id,Ho=i.overflow,$s=s),s=o0(s,h.children),s.flags|=4096,s)}function _T(i,s,c){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Fg(i.return,s,c)}function i0(i,s,c,h,g){var D=i.memoizedState;D===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(D.isBackwards=s,D.rendering=null,D.renderingStartTime=0,D.last=h,D.tail=c,D.tailMode=g)}function MT(i,s,c){var h=s.pendingProps,g=h.revealOrder,D=h.tail;if(Sn(i,s,h.children,c),h=jt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_T(i,c,s);else if(i.tag===19)_T(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(At(jt,h),(s.mode&1)===0)s.memoizedState=null;else switch(g){case"forwards":for(c=s.child,g=null;c!==null;)i=c.alternate,i!==null&&Qd(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=s.child,s.child=null):(g=c.sibling,c.sibling=null),i0(s,!1,g,c,D);break;case"backwards":for(c=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Qd(i)===null){s.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}i0(s,!0,c,null,D);break;case"together":i0(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function sh(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Ko(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),Vs|=s.lanes,(c&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,c=Ki(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=Ki(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function jz(i,s,c){switch(s.tag){case 3:NT(s),lu();break;case 5:ZO(s);break;case 1:In(s.type)&&Ud(s);break;case 4:jg(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,g=s.memoizedProps.value;At(Gd,h._currentValue),h._currentValue=g;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(At(jt,jt.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?FT(i,s,c):(At(jt,jt.current&1),i=Ko(i,s,c),i!==null?i.sibling:null);At(jt,jt.current&1);break;case 19:if(h=(c&s.childLanes)!==0,(i.flags&128)!==0){if(h)return MT(i,s,c);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),At(jt,jt.current),h)break;return null;case 22:case 23:return s.lanes=0,RT(i,s,c)}return Ko(i,s,c)}var jT,s0,LT,$T;jT=function(i,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},s0=function(){},LT=function(i,s,c,h){var g=i.memoizedProps;if(g!==h){i=s.stateNode,Hs(co.current);var D=null;switch(c){case"input":g=N(i,g),h=N(i,h),D=[];break;case"select":g=Q({},g,{value:void 0}),h=Q({},h,{value:void 0}),D=[];break;case"textarea":g=it(i,g),h=it(i,h),D=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Ld)}ks(c,h);var T;c=null;for(le in g)if(!h.hasOwnProperty(le)&&g.hasOwnProperty(le)&&g[le]!=null)if(le==="style"){var _=g[le];for(T in _)_.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(o.hasOwnProperty(le)?D||(D=[]):(D=D||[]).push(le,null));for(le in h){var z=h[le];if(_=g!=null?g[le]:void 0,h.hasOwnProperty(le)&&z!==_&&(z!=null||_!=null))if(le==="style")if(_){for(T in _)!_.hasOwnProperty(T)||z&&z.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in z)z.hasOwnProperty(T)&&_[T]!==z[T]&&(c||(c={}),c[T]=z[T])}else c||(D||(D=[]),D.push(le,c)),c=z;else le==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,_=_?_.__html:void 0,z!=null&&_!==z&&(D=D||[]).push(le,z)):le==="children"?typeof z!="string"&&typeof z!="number"||(D=D||[]).push(le,""+z):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(o.hasOwnProperty(le)?(z!=null&&le==="onScroll"&&Tt("scroll",i),D||_===z||(D=[])):(D=D||[]).push(le,z))}c&&(D=D||[]).push("style",c);var le=D;(s.updateQueue=le)&&(s.flags|=4)}},$T=function(i,s,c,h){c!==h&&(s.flags|=4)};function vc(i,s){if(!Bt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function mn(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(s)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=c,s}function Lz(i,s,c){var h=s.pendingProps;switch(Tg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(s),null;case 1:return In(s.type)&&zd(),mn(s),null;case 3:return h=s.stateNode,hu(),kt(Pn),kt(hn),zg(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Kd(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ir!==null&&(g0(Ir),Ir=null))),s0(i,s),mn(s),null;case 5:Lg(s);var g=Hs(fc.current);if(c=s.type,i!==null&&s.stateNode!=null)LT(i,s,c,h,g),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return mn(s),null}if(i=Hs(co.current),Kd(s)){h=s.stateNode,c=s.type;var D=s.memoizedProps;switch(h[lo]=s,h[sc]=D,i=(s.mode&1)!==0,c){case"dialog":Tt("cancel",h),Tt("close",h);break;case"iframe":case"object":case"embed":Tt("load",h);break;case"video":case"audio":for(g=0;g<rc.length;g++)Tt(rc[g],h);break;case"source":Tt("error",h);break;case"img":case"image":case"link":Tt("error",h),Tt("load",h);break;case"details":Tt("toggle",h);break;case"input":me(h,D),Tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!D.multiple},Tt("invalid",h);break;case"textarea":$t(h,D),Tt("invalid",h)}ks(c,D),g=null;for(var T in D)if(D.hasOwnProperty(T)){var _=D[T];T==="children"?typeof _=="string"?h.textContent!==_&&(D.suppressHydrationWarning!==!0&&jd(h.textContent,_,i),g=["children",_]):typeof _=="number"&&h.textContent!==""+_&&(D.suppressHydrationWarning!==!0&&jd(h.textContent,_,i),g=["children",""+_]):o.hasOwnProperty(T)&&_!=null&&T==="onScroll"&&Tt("scroll",h)}switch(c){case"input":Oe(h),De(h,D,!0);break;case"textarea":Oe(h),et(h);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(h.onclick=Ld)}h=g,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Xe(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(c,{is:h.is}):(i=T.createElement(c),c==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,c),i[lo]=s,i[sc]=h,jT(i,s,!1,!1),s.stateNode=i;e:{switch(T=Rs(c,h),c){case"dialog":Tt("cancel",i),Tt("close",i),g=h;break;case"iframe":case"object":case"embed":Tt("load",i),g=h;break;case"video":case"audio":for(g=0;g<rc.length;g++)Tt(rc[g],i);g=h;break;case"source":Tt("error",i),g=h;break;case"img":case"image":case"link":Tt("error",i),Tt("load",i),g=h;break;case"details":Tt("toggle",i),g=h;break;case"input":me(i,h),g=N(i,h),Tt("invalid",i);break;case"option":g=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},g=Q({},h,{value:void 0}),Tt("invalid",i);break;case"textarea":$t(i,h),g=it(i,h),Tt("invalid",i);break;default:g=h}ks(c,g),_=g;for(D in _)if(_.hasOwnProperty(D)){var z=_[D];D==="style"?kr(i,z):D==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&un(i,z)):D==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&Wt(i,z):typeof z=="number"&&Wt(i,""+z):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(o.hasOwnProperty(D)?z!=null&&D==="onScroll"&&Tt("scroll",i):z!=null&&P(i,D,z,T))}switch(c){case"input":Oe(i),De(i,h,!1);break;case"textarea":Oe(i),et(i);break;case"option":h.value!=null&&i.setAttribute("value",""+ae(h.value));break;case"select":i.multiple=!!h.multiple,D=h.value,D!=null?ze(i,!!h.multiple,D,!1):h.defaultValue!=null&&ze(i,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Ld)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return mn(s),null;case 6:if(i&&s.stateNode!=null)$T(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(c=Hs(fc.current),Hs(co.current),Kd(s)){if(h=s.stateNode,c=s.memoizedProps,h[lo]=s,(D=h.nodeValue!==c)&&(i=Yn,i!==null))switch(i.tag){case 3:jd(h.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&jd(h.nodeValue,c,(i.mode&1)!==0)}D&&(s.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[lo]=s,s.stateNode=h}return mn(s),null;case 13:if(kt(jt),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Bt&&Xn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)HO(),lu(),s.flags|=98560,D=!1;else if(D=Kd(s),h!==null&&h.dehydrated!==null){if(i===null){if(!D)throw Error(n(318));if(D=s.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[lo]=s}else lu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mn(s),D=!1}else Ir!==null&&(g0(Ir),Ir=null),D=!0;if(!D)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(jt.current&1)!==0?qt===0&&(qt=3):w0())),s.updateQueue!==null&&(s.flags|=4),mn(s),null);case 4:return hu(),s0(i,s),i===null&&oc(s.stateNode.containerInfo),mn(s),null;case 10:return Bg(s.type._context),mn(s),null;case 17:return In(s.type)&&zd(),mn(s),null;case 19:if(kt(jt),D=s.memoizedState,D===null)return mn(s),null;if(h=(s.flags&128)!==0,T=D.rendering,T===null)if(h)vc(D,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(T=Qd(i),T!==null){for(s.flags|=128,vc(D,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=c,c=s.child;c!==null;)D=c,i=h,D.flags&=14680066,T=D.alternate,T===null?(D.childLanes=0,D.lanes=i,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=T.childLanes,D.lanes=T.lanes,D.child=T.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=T.memoizedProps,D.memoizedState=T.memoizedState,D.updateQueue=T.updateQueue,D.type=T.type,i=T.dependencies,D.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return At(jt,jt.current&1|2),s.child}i=i.sibling}D.tail!==null&&Mt()>gu&&(s.flags|=128,h=!0,vc(D,!1),s.lanes=4194304)}else{if(!h)if(i=Qd(T),i!==null){if(s.flags|=128,h=!0,c=i.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),vc(D,!0),D.tail===null&&D.tailMode==="hidden"&&!T.alternate&&!Bt)return mn(s),null}else 2*Mt()-D.renderingStartTime>gu&&c!==1073741824&&(s.flags|=128,h=!0,vc(D,!1),s.lanes=4194304);D.isBackwards?(T.sibling=s.child,s.child=T):(c=D.last,c!==null?c.sibling=T:s.child=T,D.last=T)}return D.tail!==null?(s=D.tail,D.rendering=s,D.tail=s.sibling,D.renderingStartTime=Mt(),s.sibling=null,c=jt.current,At(jt,h?c&1|2:c&1),s):(mn(s),null);case 22:case 23:return b0(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Zn&1073741824)!==0&&(mn(s),s.subtreeFlags&6&&(s.flags|=8192)):mn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function $z(i,s){switch(Tg(s),s.tag){case 1:return In(s.type)&&zd(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return hu(),kt(Pn),kt(hn),zg(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Lg(s),null;case 13:if(kt(jt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));lu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return kt(jt),null;case 4:return hu(),null;case 10:return Bg(s.type._context),null;case 22:case 23:return b0(),null;case 24:return null;default:return null}}var ah=!1,vn=!1,zz=typeof WeakSet=="function"?WeakSet:Set,Me=null;function mu(i,s){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){zt(i,s,h)}else c.current=null}function a0(i,s,c){try{c()}catch(h){zt(i,s,h)}}var zT=!1;function Uz(i,s){if(bg=Od,i=bO(),fg(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,D=h.focusNode;h=h.focusOffset;try{c.nodeType,D.nodeType}catch{c=null;break e}var T=0,_=-1,z=-1,le=0,we=0,Ce=i,be=null;t:for(;;){for(var _e;Ce!==c||g!==0&&Ce.nodeType!==3||(_=T+g),Ce!==D||h!==0&&Ce.nodeType!==3||(z=T+h),Ce.nodeType===3&&(T+=Ce.nodeValue.length),(_e=Ce.firstChild)!==null;)be=Ce,Ce=_e;for(;;){if(Ce===i)break t;if(be===c&&++le===g&&(_=T),be===D&&++we===h&&(z=T),(_e=Ce.nextSibling)!==null)break;Ce=be,be=Ce.parentNode}Ce=_e}c=_===-1||z===-1?null:{start:_,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(wg={focusedElem:i,selectionRange:c},Od=!1,Me=s;Me!==null;)if(s=Me,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Me=i;else for(;Me!==null;){s=Me;try{var Le=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var $e=Le.memoizedProps,Ut=Le.memoizedState,ee=s.stateNode,W=ee.getSnapshotBeforeUpdate(s.elementType===s.type?$e:Nr(s.type,$e),Ut);ee.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var ie=s.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){zt(s,s.return,xe)}if(i=s.sibling,i!==null){i.return=s.return,Me=i;break}Me=s.return}return Le=zT,zT=!1,Le}function gc(i,s,c){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&i)===i){var D=g.destroy;g.destroy=void 0,D!==void 0&&a0(s,c,D)}g=g.next}while(g!==h)}}function uh(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==s)}}function u0(i){var s=i.ref;if(s!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof s=="function"?s(i):s.current=i}}function UT(i){var s=i.alternate;s!==null&&(i.alternate=null,UT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[lo],delete s[sc],delete s[xg],delete s[xz],delete s[Sz])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function HT(i){return i.tag===5||i.tag===3||i.tag===4}function WT(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||HT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function l0(i,s,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(i,s):c.insertBefore(i,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(i,c)):(s=c,s.appendChild(i)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Ld));else if(h!==4&&(i=i.child,i!==null))for(l0(i,s,c),i=i.sibling;i!==null;)l0(i,s,c),i=i.sibling}function c0(i,s,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(c0(i,s,c),i=i.sibling;i!==null;)c0(i,s,c),i=i.sibling}var ln=null,Br=!1;function zi(i,s,c){for(c=c.child;c!==null;)VT(i,s,c),c=c.sibling}function VT(i,s,c){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(tt,c)}catch{}switch(c.tag){case 5:vn||mu(c,s);case 6:var h=ln,g=Br;ln=null,zi(i,s,c),ln=h,Br=g,ln!==null&&(Br?(i=ln,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):ln.removeChild(c.stateNode));break;case 18:ln!==null&&(Br?(i=ln,c=c.stateNode,i.nodeType===8?Dg(i.parentNode,c):i.nodeType===1&&Dg(i,c),Yl(i)):Dg(ln,c.stateNode));break;case 4:h=ln,g=Br,ln=c.stateNode.containerInfo,Br=!0,zi(i,s,c),ln=h,Br=g;break;case 0:case 11:case 14:case 15:if(!vn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var D=g,T=D.destroy;D=D.tag,T!==void 0&&((D&2)!==0||(D&4)!==0)&&a0(c,s,T),g=g.next}while(g!==h)}zi(i,s,c);break;case 1:if(!vn&&(mu(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(_){zt(c,s,_)}zi(i,s,c);break;case 21:zi(i,s,c);break;case 22:c.mode&1?(vn=(h=vn)||c.memoizedState!==null,zi(i,s,c),vn=h):zi(i,s,c);break;default:zi(i,s,c)}}function KT(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new zz),s.forEach(function(h){var g=Zz.bind(null,i,h);c.has(h)||(c.add(h),h.then(g,g))})}}function Fr(i,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var D=i,T=s,_=T;e:for(;_!==null;){switch(_.tag){case 5:ln=_.stateNode,Br=!1;break e;case 3:ln=_.stateNode.containerInfo,Br=!0;break e;case 4:ln=_.stateNode.containerInfo,Br=!0;break e}_=_.return}if(ln===null)throw Error(n(160));VT(D,T,g),ln=null,Br=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(le){zt(g,s,le)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qT(s,i),s=s.sibling}function qT(i,s){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Fr(s,i),ho(i),h&4){try{gc(3,i,i.return),uh(3,i)}catch($e){zt(i,i.return,$e)}try{gc(5,i,i.return)}catch($e){zt(i,i.return,$e)}}break;case 1:Fr(s,i),ho(i),h&512&&c!==null&&mu(c,c.return);break;case 5:if(Fr(s,i),ho(i),h&512&&c!==null&&mu(c,c.return),i.flags&32){var g=i.stateNode;try{Wt(g,"")}catch($e){zt(i,i.return,$e)}}if(h&4&&(g=i.stateNode,g!=null)){var D=i.memoizedProps,T=c!==null?c.memoizedProps:D,_=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{_==="input"&&D.type==="radio"&&D.name!=null&&Se(g,D),Rs(_,T);var le=Rs(_,D);for(T=0;T<z.length;T+=2){var we=z[T],Ce=z[T+1];we==="style"?kr(g,Ce):we==="dangerouslySetInnerHTML"?un(g,Ce):we==="children"?Wt(g,Ce):P(g,we,Ce,le)}switch(_){case"input":ke(g,D);break;case"textarea":lt(g,D);break;case"select":var be=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!D.multiple;var _e=D.value;_e!=null?ze(g,!!D.multiple,_e,!1):be!==!!D.multiple&&(D.defaultValue!=null?ze(g,!!D.multiple,D.defaultValue,!0):ze(g,!!D.multiple,D.multiple?[]:"",!1))}g[sc]=D}catch($e){zt(i,i.return,$e)}}break;case 6:if(Fr(s,i),ho(i),h&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,D=i.memoizedProps;try{g.nodeValue=D}catch($e){zt(i,i.return,$e)}}break;case 3:if(Fr(s,i),ho(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Yl(s.containerInfo)}catch($e){zt(i,i.return,$e)}break;case 4:Fr(s,i),ho(i);break;case 13:Fr(s,i),ho(i),g=i.child,g.flags&8192&&(D=g.memoizedState!==null,g.stateNode.isHidden=D,!D||g.alternate!==null&&g.alternate.memoizedState!==null||(h0=Mt())),h&4&&KT(i);break;case 22:if(we=c!==null&&c.memoizedState!==null,i.mode&1?(vn=(le=vn)||we,Fr(s,i),vn=le):Fr(s,i),ho(i),h&8192){if(le=i.memoizedState!==null,(i.stateNode.isHidden=le)&&!we&&(i.mode&1)!==0)for(Me=i,we=i.child;we!==null;){for(Ce=Me=we;Me!==null;){switch(be=Me,_e=be.child,be.tag){case 0:case 11:case 14:case 15:gc(4,be,be.return);break;case 1:mu(be,be.return);var Le=be.stateNode;if(typeof Le.componentWillUnmount=="function"){h=be,c=be.return;try{s=h,Le.props=s.memoizedProps,Le.state=s.memoizedState,Le.componentWillUnmount()}catch($e){zt(h,c,$e)}}break;case 5:mu(be,be.return);break;case 22:if(be.memoizedState!==null){XT(Ce);continue}}_e!==null?(_e.return=be,Me=_e):XT(Ce)}we=we.sibling}e:for(we=null,Ce=i;;){if(Ce.tag===5){if(we===null){we=Ce;try{g=Ce.stateNode,le?(D=g.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(_=Ce.stateNode,z=Ce.memoizedProps.style,T=z!=null&&z.hasOwnProperty("display")?z.display:null,_.style.display=qn("display",T))}catch($e){zt(i,i.return,$e)}}}else if(Ce.tag===6){if(we===null)try{Ce.stateNode.nodeValue=le?"":Ce.memoizedProps}catch($e){zt(i,i.return,$e)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===i)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===i)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===i)break e;we===Ce&&(we=null),Ce=Ce.return}we===Ce&&(we=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:Fr(s,i),ho(i),h&4&&KT(i);break;case 21:break;default:Fr(s,i),ho(i)}}function ho(i){var s=i.flags;if(s&2){try{e:{for(var c=i.return;c!==null;){if(HT(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Wt(g,""),h.flags&=-33);var D=WT(i);c0(i,D,g);break;case 3:case 4:var T=h.stateNode.containerInfo,_=WT(i);l0(i,_,T);break;default:throw Error(n(161))}}catch(z){zt(i,i.return,z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Hz(i,s,c){Me=i,GT(i)}function GT(i,s,c){for(var h=(i.mode&1)!==0;Me!==null;){var g=Me,D=g.child;if(g.tag===22&&h){var T=g.memoizedState!==null||ah;if(!T){var _=g.alternate,z=_!==null&&_.memoizedState!==null||vn;_=ah;var le=vn;if(ah=T,(vn=z)&&!le)for(Me=g;Me!==null;)T=Me,z=T.child,T.tag===22&&T.memoizedState!==null?ZT(g):z!==null?(z.return=T,Me=z):ZT(g);for(;D!==null;)Me=D,GT(D),D=D.sibling;Me=g,ah=_,vn=le}YT(i)}else(g.subtreeFlags&8772)!==0&&D!==null?(D.return=g,Me=D):YT(i)}}function YT(i){for(;Me!==null;){var s=Me;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:vn||uh(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!vn)if(c===null)h.componentDidMount();else{var g=s.elementType===s.type?c.memoizedProps:Nr(s.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var D=s.updateQueue;D!==null&&XO(s,D,h);break;case 3:var T=s.updateQueue;if(T!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}XO(s,T,c)}break;case 5:var _=s.stateNode;if(c===null&&s.flags&4){c=_;var z=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var le=s.alternate;if(le!==null){var we=le.memoizedState;if(we!==null){var Ce=we.dehydrated;Ce!==null&&Yl(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vn||s.flags&512&&u0(s)}catch(be){zt(s,s.return,be)}}if(s===i){Me=null;break}if(c=s.sibling,c!==null){c.return=s.return,Me=c;break}Me=s.return}}function XT(i){for(;Me!==null;){var s=Me;if(s===i){Me=null;break}var c=s.sibling;if(c!==null){c.return=s.return,Me=c;break}Me=s.return}}function ZT(i){for(;Me!==null;){var s=Me;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{uh(4,s)}catch(z){zt(s,c,z)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var g=s.return;try{h.componentDidMount()}catch(z){zt(s,g,z)}}var D=s.return;try{u0(s)}catch(z){zt(s,D,z)}break;case 5:var T=s.return;try{u0(s)}catch(z){zt(s,T,z)}}}catch(z){zt(s,s.return,z)}if(s===i){Me=null;break}var _=s.sibling;if(_!==null){_.return=s.return,Me=_;break}Me=s.return}}var Wz=Math.ceil,lh=R.ReactCurrentDispatcher,f0=R.ReactCurrentOwner,fr=R.ReactCurrentBatchConfig,ct=0,tn=null,Vt=null,cn=0,Zn=0,vu=_i(0),qt=0,yc=null,Vs=0,ch=0,d0=0,bc=null,Bn=null,h0=0,gu=1/0,qo=null,fh=!1,p0=null,Ui=null,dh=!1,Hi=null,hh=0,wc=0,m0=null,ph=-1,mh=0;function An(){return(ct&6)!==0?Mt():ph!==-1?ph:ph=Mt()}function Wi(i){return(i.mode&1)===0?1:(ct&2)!==0&&cn!==0?cn&-cn:Oz.transition!==null?(mh===0&&(mh=WA()),mh):(i=gt,i!==0||(i=window.event,i=i===void 0?16:JA(i.type)),i)}function _r(i,s,c,h){if(50<wc)throw wc=0,m0=null,Error(n(185));Wl(i,c,h),((ct&2)===0||i!==tn)&&(i===tn&&((ct&2)===0&&(ch|=c),qt===4&&Vi(i,cn)),Fn(i,h),c===1&&ct===0&&(s.mode&1)===0&&(gu=Mt()+500,Hd&&ji()))}function Fn(i,s){var c=i.callbackNode;O6(i,s);var h=xd(i,i===tn?cn:0);if(h===0)c!==null&&yd(c),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(c!=null&&yd(c),s===1)i.tag===0?Az(JT.bind(null,i)):jO(JT.bind(null,i)),Ez(function(){(ct&6)===0&&ji()}),c=null;else{switch(VA(h)){case 1:c=Ms;break;case 4:c=B;break;case 16:c=he;break;case 536870912:c=Te;break;default:c=he}c=ak(c,QT.bind(null,i))}i.callbackPriority=s,i.callbackNode=c}}function QT(i,s){if(ph=-1,mh=0,(ct&6)!==0)throw Error(n(327));var c=i.callbackNode;if(yu()&&i.callbackNode!==c)return null;var h=xd(i,i===tn?cn:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=vh(i,h);else{s=h;var g=ct;ct|=2;var D=tk();(tn!==i||cn!==s)&&(qo=null,gu=Mt()+500,qs(i,s));do try{qz();break}catch(_){ek(i,_)}while(!0);Ng(),lh.current=D,ct=g,Vt!==null?s=0:(tn=null,cn=0,s=qt)}if(s!==0){if(s===2&&(g=Yv(i),g!==0&&(h=g,s=v0(i,g))),s===1)throw c=yc,qs(i,0),Vi(i,h),Fn(i,Mt()),c;if(s===6)Vi(i,h);else{if(g=i.current.alternate,(h&30)===0&&!Vz(g)&&(s=vh(i,h),s===2&&(D=Yv(i),D!==0&&(h=D,s=v0(i,D))),s===1))throw c=yc,qs(i,0),Vi(i,h),Fn(i,Mt()),c;switch(i.finishedWork=g,i.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:Gs(i,Bn,qo);break;case 3:if(Vi(i,h),(h&130023424)===h&&(s=h0+500-Mt(),10<s)){if(xd(i,0)!==0)break;if(g=i.suspendedLanes,(g&h)!==h){An(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Eg(Gs.bind(null,i,Bn,qo),s);break}Gs(i,Bn,qo);break;case 4:if(Vi(i,h),(h&4194240)===h)break;for(s=i.eventTimes,g=-1;0<h;){var T=31-Et(h);D=1<<T,T=s[T],T>g&&(g=T),h&=~D}if(h=g,h=Mt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Wz(h/1960))-h,10<h){i.timeoutHandle=Eg(Gs.bind(null,i,Bn,qo),h);break}Gs(i,Bn,qo);break;case 5:Gs(i,Bn,qo);break;default:throw Error(n(329))}}}return Fn(i,Mt()),i.callbackNode===c?QT.bind(null,i):null}function v0(i,s){var c=bc;return i.current.memoizedState.isDehydrated&&(qs(i,s).flags|=256),i=vh(i,s),i!==2&&(s=Bn,Bn=c,s!==null&&g0(s)),i}function g0(i){Bn===null?Bn=i:Bn.push.apply(Bn,i)}function Vz(i){for(var s=i;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],D=g.getSnapshot;g=g.value;try{if(!Pr(D(),g))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(i,s){for(s&=~d0,s&=~ch,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var c=31-Et(s),h=1<<c;i[c]=-1,s&=~h}}function JT(i){if((ct&6)!==0)throw Error(n(327));yu();var s=xd(i,0);if((s&1)===0)return Fn(i,Mt()),null;var c=vh(i,s);if(i.tag!==0&&c===2){var h=Yv(i);h!==0&&(s=h,c=v0(i,h))}if(c===1)throw c=yc,qs(i,0),Vi(i,s),Fn(i,Mt()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Gs(i,Bn,qo),Fn(i,Mt()),null}function y0(i,s){var c=ct;ct|=1;try{return i(s)}finally{ct=c,ct===0&&(gu=Mt()+500,Hd&&ji())}}function Ks(i){Hi!==null&&Hi.tag===0&&(ct&6)===0&&yu();var s=ct;ct|=1;var c=fr.transition,h=gt;try{if(fr.transition=null,gt=1,i)return i()}finally{gt=h,fr.transition=c,ct=s,(ct&6)===0&&ji()}}function b0(){Zn=vu.current,kt(vu)}function qs(i,s){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,Cz(c)),Vt!==null)for(c=Vt.return;c!==null;){var h=c;switch(Tg(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&zd();break;case 3:hu(),kt(Pn),kt(hn),zg();break;case 5:Lg(h);break;case 4:hu();break;case 13:kt(jt);break;case 19:kt(jt);break;case 10:Bg(h.type._context);break;case 22:case 23:b0()}c=c.return}if(tn=i,Vt=i=Ki(i.current,null),cn=Zn=s,qt=0,yc=null,d0=ch=Vs=0,Bn=bc=null,Us!==null){for(s=0;s<Us.length;s++)if(c=Us[s],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,D=c.pending;if(D!==null){var T=D.next;D.next=g,h.next=T}c.pending=h}Us=null}return i}function ek(i,s){do{var c=Vt;try{if(Ng(),Jd.current=rh,eh){for(var h=Lt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}eh=!1}if(Ws=0,en=Kt=Lt=null,dc=!1,hc=0,f0.current=null,c===null||c.return===null){qt=1,yc=s,Vt=null;break}e:{var D=i,T=c.return,_=c,z=s;if(s=cn,_.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var le=z,we=_,Ce=we.tag;if((we.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var be=we.alternate;be?(we.updateQueue=be.updateQueue,we.memoizedState=be.memoizedState,we.lanes=be.lanes):(we.updateQueue=null,we.memoizedState=null)}var _e=ST(T);if(_e!==null){_e.flags&=-257,AT(_e,T,_,D,s),_e.mode&1&&xT(D,le,s),s=_e,z=le;var Le=s.updateQueue;if(Le===null){var $e=new Set;$e.add(z),s.updateQueue=$e}else Le.add(z);break e}else{if((s&1)===0){xT(D,le,s),w0();break e}z=Error(n(426))}}else if(Bt&&_.mode&1){var Ut=ST(T);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),AT(Ut,T,_,D,s),Pg(pu(z,_));break e}}D=z=pu(z,_),qt!==4&&(qt=2),bc===null?bc=[D]:bc.push(D),D=T;do{switch(D.tag){case 3:D.flags|=65536,s&=-s,D.lanes|=s;var ee=ET(D,z,s);YO(D,ee);break e;case 1:_=z;var W=D.type,ie=D.stateNode;if((D.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Ui===null||!Ui.has(ie)))){D.flags|=65536,s&=-s,D.lanes|=s;var xe=DT(D,_,s);YO(D,xe);break e}}D=D.return}while(D!==null)}rk(c)}catch(Ue){s=Ue,Vt===c&&c!==null&&(Vt=c=c.return);continue}break}while(!0)}function tk(){var i=lh.current;return lh.current=rh,i===null?rh:i}function w0(){(qt===0||qt===3||qt===2)&&(qt=4),tn===null||(Vs&268435455)===0&&(ch&268435455)===0||Vi(tn,cn)}function vh(i,s){var c=ct;ct|=2;var h=tk();(tn!==i||cn!==s)&&(qo=null,qs(i,s));do try{Kz();break}catch(g){ek(i,g)}while(!0);if(Ng(),ct=c,lh.current=h,Vt!==null)throw Error(n(261));return tn=null,cn=0,qt}function Kz(){for(;Vt!==null;)nk(Vt)}function qz(){for(;Vt!==null&&!bd();)nk(Vt)}function nk(i){var s=sk(i.alternate,i,Zn);i.memoizedProps=i.pendingProps,s===null?rk(i):Vt=s,f0.current=null}function rk(i){var s=i;do{var c=s.alternate;if(i=s.return,(s.flags&32768)===0){if(c=Lz(c,s,Zn),c!==null){Vt=c;return}}else{if(c=$z(c,s),c!==null){c.flags&=32767,Vt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{qt=6,Vt=null;return}}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=i}while(s!==null);qt===0&&(qt=5)}function Gs(i,s,c){var h=gt,g=fr.transition;try{fr.transition=null,gt=1,Gz(i,s,c,h)}finally{fr.transition=g,gt=h}return null}function Gz(i,s,c,h){do yu();while(Hi!==null);if((ct&6)!==0)throw Error(n(327));c=i.finishedWork;var g=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var D=c.lanes|c.childLanes;if(T6(i,D),i===tn&&(Vt=tn=null,cn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||dh||(dh=!0,ak(he,function(){return yu(),null})),D=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||D){D=fr.transition,fr.transition=null;var T=gt;gt=1;var _=ct;ct|=4,f0.current=null,Uz(i,c),qT(c,i),pz(wg),Od=!!bg,wg=bg=null,i.current=c,Hz(c),wd(),ct=_,gt=T,fr.transition=D}else i.current=c;if(dh&&(dh=!1,Hi=i,hh=g),D=i.pendingLanes,D===0&&(Ui=null),sr(c.stateNode),Fn(i,Mt()),s!==null)for(h=i.onRecoverableError,c=0;c<s.length;c++)g=s[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(fh)throw fh=!1,i=p0,p0=null,i;return(hh&1)!==0&&i.tag!==0&&yu(),D=i.pendingLanes,(D&1)!==0?i===m0?wc++:(wc=0,m0=i):wc=0,ji(),null}function yu(){if(Hi!==null){var i=VA(hh),s=fr.transition,c=gt;try{if(fr.transition=null,gt=16>i?16:i,Hi===null)var h=!1;else{if(i=Hi,Hi=null,hh=0,(ct&6)!==0)throw Error(n(331));var g=ct;for(ct|=4,Me=i.current;Me!==null;){var D=Me,T=D.child;if((Me.flags&16)!==0){var _=D.deletions;if(_!==null){for(var z=0;z<_.length;z++){var le=_[z];for(Me=le;Me!==null;){var we=Me;switch(we.tag){case 0:case 11:case 15:gc(8,we,D)}var Ce=we.child;if(Ce!==null)Ce.return=we,Me=Ce;else for(;Me!==null;){we=Me;var be=we.sibling,_e=we.return;if(UT(we),we===le){Me=null;break}if(be!==null){be.return=_e,Me=be;break}Me=_e}}}var Le=D.alternate;if(Le!==null){var $e=Le.child;if($e!==null){Le.child=null;do{var Ut=$e.sibling;$e.sibling=null,$e=Ut}while($e!==null)}}Me=D}}if((D.subtreeFlags&2064)!==0&&T!==null)T.return=D,Me=T;else e:for(;Me!==null;){if(D=Me,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:gc(9,D,D.return)}var ee=D.sibling;if(ee!==null){ee.return=D.return,Me=ee;break e}Me=D.return}}var W=i.current;for(Me=W;Me!==null;){T=Me;var ie=T.child;if((T.subtreeFlags&2064)!==0&&ie!==null)ie.return=T,Me=ie;else e:for(T=W;Me!==null;){if(_=Me,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:uh(9,_)}}catch(Ue){zt(_,_.return,Ue)}if(_===T){Me=null;break e}var xe=_.sibling;if(xe!==null){xe.return=_.return,Me=xe;break e}Me=_.return}}if(ct=g,ji(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(tt,i)}catch{}h=!0}return h}finally{gt=c,fr.transition=s}}return!1}function ok(i,s,c){s=pu(c,s),s=ET(i,s,1),i=$i(i,s,1),s=An(),i!==null&&(Wl(i,1,s),Fn(i,s))}function zt(i,s,c){if(i.tag===3)ok(i,i,c);else for(;s!==null;){if(s.tag===3){ok(s,i,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ui===null||!Ui.has(h))){i=pu(c,i),i=DT(s,i,1),s=$i(s,i,1),i=An(),s!==null&&(Wl(s,1,i),Fn(s,i));break}}s=s.return}}function Yz(i,s,c){var h=i.pingCache;h!==null&&h.delete(s),s=An(),i.pingedLanes|=i.suspendedLanes&c,tn===i&&(cn&c)===c&&(qt===4||qt===3&&(cn&130023424)===cn&&500>Mt()-h0?qs(i,0):d0|=c),Fn(i,s)}function ik(i,s){s===0&&((i.mode&1)===0?s=1:(s=Dd,Dd<<=1,(Dd&130023424)===0&&(Dd=4194304)));var c=An();i=Wo(i,s),i!==null&&(Wl(i,s,c),Fn(i,c))}function Xz(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),ik(i,c)}function Zz(i,s){var c=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),ik(i,c)}var sk;sk=function(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps||Pn.current)Nn=!0;else{if((i.lanes&c)===0&&(s.flags&128)===0)return Nn=!1,jz(i,s,c);Nn=(i.flags&131072)!==0}else Nn=!1,Bt&&(s.flags&1048576)!==0&&LO(s,Vd,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;sh(i,s),i=s.pendingProps;var g=su(s,hn.current);du(s,c),g=Wg(null,s,h,i,g,c);var D=Vg();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,In(h)?(D=!0,Ud(s)):D=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Mg(s),g.updater=oh,s.stateNode=g,g._reactInternals=s,Zg(s,h,i,c),s=t0(null,s,h,!0,D,c)):(s.tag=0,Bt&&D&&Og(s),Sn(null,s,g,c),s=s.child),s;case 16:h=s.elementType;e:{switch(sh(i,s),i=s.pendingProps,g=h._init,h=g(h._payload),s.type=h,g=s.tag=Jz(h),i=Nr(h,i),g){case 0:s=e0(null,s,h,i,c);break e;case 1:s=IT(null,s,h,i,c);break e;case 11:s=OT(null,s,h,i,c);break e;case 14:s=TT(null,s,h,Nr(h.type,i),c);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:Nr(h,g),e0(i,s,h,g,c);case 1:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:Nr(h,g),IT(i,s,h,g,c);case 3:e:{if(NT(s),i===null)throw Error(n(387));h=s.pendingProps,D=s.memoizedState,g=D.element,GO(i,s),Zd(s,h,null,c);var T=s.memoizedState;if(h=T.element,D.isDehydrated)if(D={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=D,s.memoizedState=D,s.flags&256){g=pu(Error(n(423)),s),s=BT(i,s,h,c,g);break e}else if(h!==g){g=pu(Error(n(424)),s),s=BT(i,s,h,c,g);break e}else for(Xn=Fi(s.stateNode.containerInfo.firstChild),Yn=s,Bt=!0,Ir=null,c=KO(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(lu(),h===g){s=Ko(i,s,c);break e}Sn(i,s,h,c)}s=s.child}return s;case 5:return ZO(s),i===null&&Rg(s),h=s.type,g=s.pendingProps,D=i!==null?i.memoizedProps:null,T=g.children,Cg(h,g)?T=null:D!==null&&Cg(h,D)&&(s.flags|=32),PT(i,s),Sn(i,s,T,c),s.child;case 6:return i===null&&Rg(s),null;case 13:return FT(i,s,c);case 4:return jg(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=cu(s,null,h,c):Sn(i,s,h,c),s.child;case 11:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:Nr(h,g),OT(i,s,h,g,c);case 7:return Sn(i,s,s.pendingProps,c),s.child;case 8:return Sn(i,s,s.pendingProps.children,c),s.child;case 12:return Sn(i,s,s.pendingProps.children,c),s.child;case 10:e:{if(h=s.type._context,g=s.pendingProps,D=s.memoizedProps,T=g.value,At(Gd,h._currentValue),h._currentValue=T,D!==null)if(Pr(D.value,T)){if(D.children===g.children&&!Pn.current){s=Ko(i,s,c);break e}}else for(D=s.child,D!==null&&(D.return=s);D!==null;){var _=D.dependencies;if(_!==null){T=D.child;for(var z=_.firstContext;z!==null;){if(z.context===h){if(D.tag===1){z=Vo(-1,c&-c),z.tag=2;var le=D.updateQueue;if(le!==null){le=le.shared;var we=le.pending;we===null?z.next=z:(z.next=we.next,we.next=z),le.pending=z}}D.lanes|=c,z=D.alternate,z!==null&&(z.lanes|=c),Fg(D.return,c,s),_.lanes|=c;break}z=z.next}}else if(D.tag===10)T=D.type===s.type?null:D.child;else if(D.tag===18){if(T=D.return,T===null)throw Error(n(341));T.lanes|=c,_=T.alternate,_!==null&&(_.lanes|=c),Fg(T,c,s),T=D.sibling}else T=D.child;if(T!==null)T.return=D;else for(T=D;T!==null;){if(T===s){T=null;break}if(D=T.sibling,D!==null){D.return=T.return,T=D;break}T=T.return}D=T}Sn(i,s,g.children,c),s=s.child}return s;case 9:return g=s.type,h=s.pendingProps.children,du(s,c),g=lr(g),h=h(g),s.flags|=1,Sn(i,s,h,c),s.child;case 14:return h=s.type,g=Nr(h,s.pendingProps),g=Nr(h.type,g),TT(i,s,h,g,c);case 15:return kT(i,s,s.type,s.pendingProps,c);case 17:return h=s.type,g=s.pendingProps,g=s.elementType===h?g:Nr(h,g),sh(i,s),s.tag=1,In(h)?(i=!0,Ud(s)):i=!1,du(s,c),wT(s,h,g),Zg(s,h,g,c),t0(null,s,h,!0,i,c);case 19:return MT(i,s,c);case 22:return RT(i,s,c)}throw Error(n(156,s.tag))};function ak(i,s){return gd(i,s)}function Qz(i,s,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(i,s,c,h){return new Qz(i,s,c,h)}function C0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Jz(i){if(typeof i=="function")return C0(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===se)return 14}return 2}function Ki(i,s){var c=i.alternate;return c===null?(c=dr(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function gh(i,s,c,h,g,D){var T=2;if(h=i,typeof i=="function")C0(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case I:return Ys(c.children,g,D,s);case q:T=8,g|=8;break;case ue:return i=dr(12,c,s,g|2),i.elementType=ue,i.lanes=D,i;case H:return i=dr(13,c,s,g),i.elementType=H,i.lanes=D,i;case V:return i=dr(19,c,s,g),i.elementType=V,i.lanes=D,i;case oe:return yh(c,g,D,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:T=10;break e;case re:T=9;break e;case U:T=11;break e;case se:T=14;break e;case ve:T=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return s=dr(T,c,s,g),s.elementType=i,s.type=h,s.lanes=D,s}function Ys(i,s,c,h){return i=dr(7,i,h,s),i.lanes=c,i}function yh(i,s,c,h){return i=dr(22,i,h,s),i.elementType=oe,i.lanes=c,i.stateNode={isHidden:!1},i}function E0(i,s,c){return i=dr(6,i,null,s),i.lanes=c,i}function D0(i,s,c){return s=dr(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function eU(i,s,c,h,g){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xv(0),this.expirationTimes=Xv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xv(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function x0(i,s,c,h,g,D,T,_,z){return i=new eU(i,s,c,_,z),s===1?(s=1,D===!0&&(s|=8)):s=0,D=dr(3,null,null,s),i.current=D,D.stateNode=i,D.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(D),i}function tU(i,s,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:h==null?null:""+h,children:i,containerInfo:s,implementation:c}}function uk(i){if(!i)return Mi;i=i._reactInternals;e:{if(jo(i)!==i||i.tag!==1)throw Error(n(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(In(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(In(c))return _O(i,c,s)}return s}function lk(i,s,c,h,g,D,T,_,z){return i=x0(c,h,!0,i,g,D,T,_,z),i.context=uk(null),c=i.current,h=An(),g=Wi(c),D=Vo(h,g),D.callback=s??null,$i(c,D,g),i.current.lanes=g,Wl(i,g,h),Fn(i,h),i}function bh(i,s,c,h){var g=s.current,D=An(),T=Wi(g);return c=uk(c),s.context===null?s.context=c:s.pendingContext=c,s=Vo(D,T),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=$i(g,s,T),i!==null&&(_r(i,g,T,D),Xd(i,g,T)),T}function wh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function ck(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function S0(i,s){ck(i,s),(i=i.alternate)&&ck(i,s)}function nU(){return null}var fk=typeof reportError=="function"?reportError:function(i){console.error(i)};function A0(i){this._internalRoot=i}Ch.prototype.render=A0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));bh(i,s,null,null)},Ch.prototype.unmount=A0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ks(function(){bh(null,i,null,null)}),s[$o]=null}};function Ch(i){this._internalRoot=i}Ch.prototype.unstable_scheduleHydration=function(i){if(i){var s=GA();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Ii.length&&s!==0&&s<Ii[c].priority;c++);Ii.splice(c,0,i),c===0&&ZA(i)}};function O0(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Eh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function dk(){}function rU(i,s,c,h,g){if(g){if(typeof h=="function"){var D=h;h=function(){var le=wh(T);D.call(le)}}var T=lk(s,h,i,0,null,!1,!1,"",dk);return i._reactRootContainer=T,i[$o]=T.current,oc(i.nodeType===8?i.parentNode:i),Ks(),T}for(;g=i.lastChild;)i.removeChild(g);if(typeof h=="function"){var _=h;h=function(){var le=wh(z);_.call(le)}}var z=x0(i,0,!1,null,null,!1,!1,"",dk);return i._reactRootContainer=z,i[$o]=z.current,oc(i.nodeType===8?i.parentNode:i),Ks(function(){bh(s,z,c,h)}),z}function Dh(i,s,c,h,g){var D=c._reactRootContainer;if(D){var T=D;if(typeof g=="function"){var _=g;g=function(){var z=wh(T);_.call(z)}}bh(s,T,i,g)}else T=rU(c,s,i,g,h);return wh(T)}KA=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var c=Hl(s.pendingLanes);c!==0&&(Zv(s,c|1),Fn(s,Mt()),(ct&6)===0&&(gu=Mt()+500,ji()))}break;case 13:Ks(function(){var h=Wo(i,1);if(h!==null){var g=An();_r(h,i,1,g)}}),S0(i,1)}},Qv=function(i){if(i.tag===13){var s=Wo(i,134217728);if(s!==null){var c=An();_r(s,i,134217728,c)}S0(i,134217728)}},qA=function(i){if(i.tag===13){var s=Wi(i),c=Wo(i,s);if(c!==null){var h=An();_r(c,i,s,h)}S0(i,s)}},GA=function(){return gt},YA=function(i,s){var c=gt;try{return gt=i,s()}finally{gt=c}},Ns=function(i,s,c){switch(s){case"input":if(ke(i,c),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==i&&h.form===i.form){var g=$d(h);if(!g)throw Error(n(90));Ie(h),ke(h,g)}}}break;case"textarea":lt(i,c);break;case"select":s=c.value,s!=null&&ze(i,!!c.multiple,s,!1)}},fd=y0,Ll=Ks;var oU={usingClientEntryPoint:!1,Events:[ac,ou,$d,Bs,jl,y0]},Cc={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iU={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=md(i),i===null?null:i.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||nU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{tt=xh.inject(iU),nt=xh}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oU,On.createPortal=function(i,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O0(s))throw Error(n(200));return tU(i,s,null,c)},On.createRoot=function(i,s){if(!O0(i))throw Error(n(299));var c=!1,h="",g=fk;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=x0(i,1,!1,null,null,c,!1,h,g),i[$o]=s.current,oc(i.nodeType===8?i.parentNode:i),new A0(s)},On.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=md(s),i=i===null?null:i.stateNode,i},On.flushSync=function(i){return Ks(i)},On.hydrate=function(i,s,c){if(!Eh(s))throw Error(n(200));return Dh(null,i,s,!0,c)},On.hydrateRoot=function(i,s,c){if(!O0(i))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,g=!1,D="",T=fk;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(D=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),s=lk(s,null,i,1,c??null,g,!1,D,T),i[$o]=s.current,oc(i),h)for(i=0;i<h.length;i++)c=h[i],g=c._getVersion,g=g(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,g]:s.mutableSourceEagerHydrationData.push(c,g);return new Ch(s)},On.render=function(i,s,c){if(!Eh(s))throw Error(n(200));return Dh(null,i,s,!1,c)},On.unmountComponentAtNode=function(i){if(!Eh(i))throw Error(n(40));return i._reactRootContainer?(Ks(function(){Dh(null,null,i,!1,function(){i._reactRootContainer=null,i[$o]=null})}),!0):!1},On.unstable_batchedUpdates=y0,On.unstable_renderSubtreeIntoContainer=function(i,s,c,h){if(!Eh(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Dh(i,s,c,!1,h)},On.version="18.3.1-next-f1338f8080-20240426",On}var U0;function H0(){if(U0)return Rh.exports;U0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rh.exports=Lk(),Rh.exports}var W0;function $k(){if(W0)return Sc;W0=1;var e=H0();return Sc.createRoot=e.createRoot,Sc.hydrateRoot=e.hydrateRoot,Sc}var zk=$k(),Uk=Object.defineProperty,Hk=(e,t)=>{for(var n in t)Uk(e,n,{get:t[n],enumerable:!0})},Wk="@liveblocks/core",Nh="2.24.4",Vk="esm",Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Kk="https://liveblocks.io/docs/errors/dupes",qk=" ";function Gk(e){console.error(e)}function Bh(e,t,n){const r=Symbol.for(e),o=`${t} (${n})`;if(!Ac[r])Ac[r]=o;else if(Ac[r]!==o){const a=[`Multiple copies of Liveblocks are being loaded in your project. This will cause issues! See ${Kk+qk}`,"","Conflicts:",`- ${e} ${Ac[r]} (already loaded)`,`- ${e} ${o} (trying to load this now)`].join(`
`);Gk(a)}}function Fh(e){const t=e.editedAt?new Date(e.editedAt):void 0,n=new Date(e.createdAt),r=e.reactions.map(o=>({...o,createdAt:new Date(o.createdAt)}));if(e.body)return{...e,reactions:r,createdAt:n,editedAt:t};{const o=new Date(e.deletedAt);return{...e,reactions:r,createdAt:n,editedAt:t,deletedAt:o}}}function Go(e){const t=new Date(e.createdAt),n=new Date(e.updatedAt),r=e.comments.map(o=>Fh(o));return{...e,createdAt:t,updatedAt:n,comments:r}}function Yk(e){return{...e,createdAt:new Date(e.createdAt)}}function Gi(e){const t=new Date(e.notifiedAt),n=e.readAt?new Date(e.readAt):null;if("activities"in e){const r=e.activities.map(o=>({...o,createdAt:new Date(o.createdAt)}));return{...e,notifiedAt:t,readAt:n,activities:r}}return{...e,notifiedAt:t,readAt:n}}function Yo(e){const t=new Date(e.createdAt);return{...e,createdAt:t}}function _h(e){const t=new Date(e.deletedAt);return{...e,deletedAt:t}}function Mh(e){const t=new Date(e.deletedAt);return{...e,deletedAt:t}}function jh(e){const t=new Date(e.deletedAt);return{...e,deletedAt:t}}var Xo={};Hk(Xo,{error:()=>Du,errorWithTitle:()=>G0,warn:()=>_n,warnWithTitle:()=>Zk});var V0="background:#0e0d12;border-radius:9999px;color:#fff;padding:3px 7px;font-family:sans-serif;font-weight:600;",Xk="font-weight:600";function K0(e){return typeof window>"u"?console[e]:((t,...n)=>console[e]("%cLiveblocks",V0,t,...n))}var _n=K0("warn"),Du=K0("error");function q0(e){return typeof window>"u"?console[e]:((t,n,...r)=>console[e](`%cLiveblocks%c ${t}`,V0,Xk,n,...r))}var Zk=q0("warn"),G0=q0("error");function po(e){return e!==null&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"}function Lh(e){return po(e)&&typeof e.startsWith=="string"}function mo(e){throw new Error(e)}function $h(e){return Object.entries(e)}function Qk(e){return Object.keys(e)}function Jk(e,t){return typeof t<"u"?Object.create(e,t):Object.create(e)}function Oc(e){try{return JSON.parse(e)}catch{return}}function xu(e){return JSON.parse(JSON.stringify(e))}function eR(e){try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(t).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""))}catch{return atob(e)}}function zh(e){return e.filter(t=>t!=null)}function Su(e){const t={...e};return Object.keys(e).forEach(n=>{const r=n;t[r]===void 0&&delete t[r]}),t}function tR(e){return new Promise(t=>setTimeout(t,e))}async function Y0(e,t,n){let r;const o=new Promise((a,u)=>{r=setTimeout(()=>{u(new Error(n))},t)});return Promise.race([e,o]).finally(()=>clearTimeout(r))}function X0(e){let t=null;return()=>(t===null&&(t=e().catch(n=>{throw setTimeout(()=>{t=null},5e3),n})),t)}var Qs=class pk extends Error{constructor(n,r,o){super(n);yt(this,"response");yt(this,"details");this.name="HttpError",this.response=r,this.details=o}static async fromResponse(n){let r;try{r=await n.text()}catch{}const o=r?Oc(r):void 0;let a;po(o)&&(a=o);let u="";u||(u=typeof(a==null?void 0:a.message)=="string"?a.message:""),u||(u=typeof(a==null?void 0:a.error)=="string"?a.error:""),o===void 0&&(u||(u=r||"")),u||(u=n.statusText);let l;try{l=new URL(n.url).pathname}catch{}u+=l!==void 0?` (got status ${n.status} from ${l})`:` (got status ${n.status})`;const f=a;return new pk(u,n,f)}get status(){return this.response.status}},nR=e=>e instanceof Qs&&e.status>=400&&e.status<500;async function Au(e,t,n,r=nR){const o=n.length>0?n[n.length-1]:0;let a=0;for(;;){a++;try{return await e()}catch(l){if(r(l))throw l;if(a>=t)throw new Error(`Failed after ${t} attempts: ${String(l)}`)}const u=n[a-1]??o;_n(`Attempt ${a} was unsuccessful. Retrying in ${u} milliseconds.`),await tR(u)}}function Z0(){let e,t;return[new Promise((r,o)=>{e=r,t=o}),e,t]}function Q0(){const[e,t,n]=Z0();return{promise:e,resolve:t,reject:n}}function mt(){const e=new Set;function t(u){return e.add(u),()=>e.delete(u)}function n(u){const l=t(f=>(l(),u(f)));return l}async function r(u){let l;return new Promise(f=>{l=t(d=>{(u===void 0||u(d))&&f(d)})}).finally(()=>l==null?void 0:l())}function o(u){let l=!1;for(const f of e)f(u),l=!0;return l}function a(){return e.size}return{notify:o,subscribe:t,subscribeOnce:n,count:a,waitUntil:r,dispose(){e.clear()},observable:{subscribe:t,subscribeOnce:n,waitUntil:r}}}function rR(){const e=mt();let t=null;function n(){t=[]}function r(){if(t!==null){for(const a of t)e.notify(a);t=null}}function o(a){return t!==null?(t.push(a),!1):e.notify(a)}return{...e,notify:o,pause:n,unpause:r,dispose(){e.dispose(),t!==null&&(t.length=0)}}}var Zo=(e=>e),Yi=Symbol("kSinks"),Tc=Symbol("kTrigger"),Js=null,Mn=null;function gn(e){if(Js!==null){e();return}Js=new Set;try{e()}finally{for(const t of Js)t[Tc]();Js=null}}function Uh(e){Js||mo("Expected to be in an active batch"),Js.add(e)}function J0(e,t){let n=!1;const r={...e};return Object.keys(t).forEach(o=>{const a=o,u=t[a];r[a]!==u&&(u===void 0?delete r[a]:r[a]=u,n=!0)}),n?r:e}var Hh=(OA=class{constructor(e){yt(this,"equals");Re(this,Jr);yt(this,AA);this.equals=e??Object.is,ge(this,Jr,mt()),this[Yi]=new Set,this.get=this.get.bind(this),this.subscribe=this.subscribe.bind(this),this.subscribeOnce=this.subscribeOnce.bind(this)}dispose(){k(this,Jr).dispose(),ge(this,Jr,"(disposed)"),this.equals="(disposed)"}get hasWatchers(){if(k(this,Jr).count()>0)return!0;for(const e of this[Yi])if(e.hasWatchers)return!0;return!1}[(AA=Yi,Tc)](){k(this,Jr).notify();for(const e of this[Yi])Uh(e)}subscribe(e){return k(this,Jr).count()===0&&this.get(),k(this,Jr).subscribe(e)}subscribeOnce(e){const t=this.subscribe(()=>(t(),e()));return t}waitUntil(){throw new Error("waitUntil not supported on Signals")}markSinksDirty(){for(const e of this[Yi])e.markDirty()}addSink(e){this[Yi].add(e)}removeSink(e){this[Yi].delete(e)}asReadonly(){return this}},Jr=new WeakMap,OA),jr=(TA=class extends Hh{constructor(t,n){super(n);Re(this,Oo);ge(this,Oo,Zo(t))}dispose(){super.dispose(),ge(this,Oo,"(disposed)")}get(){return Mn==null||Mn.add(this),k(this,Oo)}set(t){gn(()=>{typeof t=="function"&&(t=t(k(this,Oo))),this.equals(k(this,Oo),t)||(ge(this,Oo,Zo(t)),this.markSinksDirty(),Uh(this))})}},Oo=new WeakMap,TA),oR=class extends jr{constructor(e){super(Zo(Su(e)))}set(){throw new Error("Don't call .set() directly, use .patch()")}patch(e){super.set(t=>J0(t,e))}},iR=Symbol(),Gt=(ys=class extends Hh{constructor(n,r,o){super(o);Re(this,Sl);Re(this,mi);Re(this,To);Re(this,eo);Re(this,ja);Re(this,La);ge(this,To,!0),ge(this,mi,iR),ge(this,ja,n),ge(this,eo,new Set),ge(this,La,r)}static from(...n){const r=n.pop();if(typeof r!="function"&&mo("Invalid .from() call, last argument expected to be a function"),typeof n[n.length-1]=="function"){const o=r,a=n.pop();return new ys(n,a,o)}else{const o=r;return new ys(n,o)}}dispose(){for(const n of k(this,eo))n.removeSink(this);ge(this,mi,"(disposed)"),ge(this,eo,"(disposed)"),ge(this,ja,"(disposed)"),ge(this,La,"(disposed)")}get isDirty(){return k(this,To)}markDirty(){k(this,To)||(ge(this,To,!0),this.markSinksDirty())}get(){return k(this,To)&&je(this,Sl,k0).call(this),Mn==null||Mn.add(this),k(this,mi)}[Tc](){if(!this.hasWatchers)return;je(this,Sl,k0).call(this)&&super[Tc]()}},mi=new WeakMap,To=new WeakMap,eo=new WeakMap,ja=new WeakMap,La=new WeakMap,Sl=new WeakSet,k0=function(){const n=Mn;let r;Mn=new Set;try{r=k(this,La).call(this,...k(this,ja).map(o=>o.get()))}finally{const o=k(this,eo);ge(this,eo,new Set);for(const a of Mn)k(this,eo).add(a),o.delete(a);for(const a of o)a.removeSink(this);for(const a of k(this,eo))a.addSink(this);Mn=n}return ge(this,To,!1),this.equals(k(this,mi),r)?!1:(ge(this,mi,r),!0)},ys),Qo=(kA=class extends Hh{constructor(t){super();Re(this,bs);ge(this,bs,t)}dispose(){super.dispose(),ge(this,bs,"(disposed)")}get(){return Mn==null||Mn.add(this),k(this,bs)}mutate(t){gn(()=>{const n=t?t(k(this,bs)):!0;n!==null&&typeof n=="object"&&"then"in n&&mo("MutableSignal.mutate() does not support async callbacks"),n!==!1&&(this.markSinksDirty(),Uh(this))})}},bs=new WeakMap,kA);function sR(e,t){return t!==null&&typeof t=="object"&&!Array.isArray(t)?Object.keys(t).sort().reduce((n,r)=>(n[r]=t[r],n),{}):t}function ea(e){return JSON.stringify(e,sR)}function vo(e){try{return JSON.stringify(e)}catch(t){throw console.error(`Could not stringify: ${t.message}`),console.error(e),t}}var aR=50,uR=class{constructor(e){yt(this,"input");yt(this,"resolve");yt(this,"reject");yt(this,"promise");this.input=e;const{promise:t,resolve:n,reject:r}=Q0();this.promise=t,this.resolve=n,this.reject=r}},Ou=(RA=class{constructor(e,t){Re(this,no);Re(this,to,[]);Re(this,Al);Re(this,Ol);Re(this,Tl);Re(this,ws);yt(this,"error",!1);ge(this,Al,e),ge(this,Ol,t.size??aR),ge(this,Tl,t.delay)}get(e){const t=k(this,to).find(r=>ea(r.input)===ea(e));if(t)return t.promise;const n=new uR(e);return k(this,to).push(n),je(this,no,mk).call(this),n.promise}clear(){ge(this,to,[]),this.error=!1,je(this,no,R0).call(this)}},to=new WeakMap,Al=new WeakMap,Ol=new WeakMap,Tl=new WeakMap,ws=new WeakMap,no=new WeakSet,R0=function(){k(this,ws)!==void 0&&(clearTimeout(k(this,ws)),ge(this,ws,void 0))},mk=function(){k(this,to).length===k(this,Ol)?je(this,no,P0).call(this):k(this,to).length===1&&(je(this,no,R0).call(this),ge(this,ws,setTimeout(()=>void je(this,no,P0).call(this),k(this,Tl))))},P0=async function(){if(k(this,to).length===0)return;const e=k(this,to).splice(0),t=e.map(n=>n.input);try{const n=await k(this,Al).call(this,t);this.error=!1,e.forEach((r,o)=>{const a=n==null?void 0:n[o];Array.isArray(n)?e.length!==n.length?r.reject(new Error(`Callback must return an array of the same length as the number of provided items. Expected ${e.length}, but got ${n.length}.`)):a instanceof Error?r.reject(a):r.resolve(a):r.reject(new Error("Callback must return an array."))})}catch(n){this.error=!0,e.forEach(r=>{r.reject(n)})}},RA);function Wh(e){const t=new Qo(new Map);function n(f){return ea(f)}function r(f,d){t.mutate(p=>{p.set(f,d)})}function o(f){t.mutate(d=>{if(Array.isArray(f))for(const p of f)d.delete(n(p));else d.clear()})}async function a(f){const d=n(f);if(!t.get().has(d))try{r(d,{isLoading:!0});const v=await e.get(f);r(d,{isLoading:!1,data:v})}catch(v){r(d,{isLoading:!1,error:v})}}function u(f){const d=n(f);return t.get().get(d)}function l(){return[...t.get().keys()]}return{subscribe:t.subscribe,enqueue:a,getItemState:u,invalidate:o,batch:e,_cacheKeys:l}}function lR(e,t){const n=[];for(let r=0,o=e.length;r<o;r+=t)n.push(e.slice(r,r+t));return n}var ta=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>t+=(n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n<63?"_":"-",""),cR="th",fR="cm",dR="at";function Vh(e){return`${e}_${ta()}`}function ey(){return Vh(cR)}function kc(){return Vh(fR)}function ty(){return Vh(dR)}var hr=(PA=class extends Map{constructor(t,n){super(n);Re(this,kl);ge(this,kl,t)}getOrCreate(t,n){if(super.has(t))return super.get(t);{const o=(n??k(this,kl)??mo("DefaultMap used without a factory function"))(t);return this.set(t,o),o}}},kl=new WeakMap,PA),hR=/^[a-zA-Z_][a-zA-Z0-9_]*$/;function ny(e){let t=[];const n=Object.entries(e),r=[],o=[],a=[];return n.forEach(([u,l])=>{if(!hR.test(u))throw new Error("Key must only contain letters, numbers, _");iy(l)?r.push([u,l]):po(l)&&(Lh(l)?o.push([u,l]):a.push([u,l]))}),t=[...ry(r),...oy(o)],a.forEach(([u,l])=>{const f=Object.entries(l),d=[],p=[];f.forEach(([v,y])=>{if(pR(v))throw new Error("Key cannot be empty");iy(y)?d.push([sy(u,v),y]):Lh(y)&&p.push([sy(u,v),y])}),t=[...t,...ry(d),...oy(p)]}),t.map(({key:u,operator:l,value:f})=>`${u}${l}${ay(f)}`).join(" ")}var ry=e=>{const t=[];return e.forEach(([n,r])=>{t.push({key:n,operator:":",value:r})}),t},oy=e=>{const t=[];return e.forEach(([n,r])=>{"startsWith"in r&&typeof r.startsWith=="string"&&t.push({key:n,operator:"^",value:r.startsWith})}),t},iy=e=>typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null,sy=(e,t)=>t?`${e}[${ay(t)}]`:e,pR=e=>!e||e.toString().trim()==="";function ay(e){const t=JSON.stringify(e);return typeof e!="string"||t.includes("'")?t:`'${t.slice(1,-1).replace(/\\"/g,'"')}'`}function mR(e){const t=new URLSearchParams;for(const[n,r]of Object.entries(e))r!=null&&t.set(n,r.toString());return t}function vR(e,t,n){const r=new URL(t,e);return n!==void 0&&(r.search=(n instanceof URLSearchParams?n:mR(n)).toString()),r.toString()}function Qe(e,...t){return e.reduce((n,r,o)=>n+encodeURIComponent(t[o-1]??"")+r)}function gR({baseUrl:e,authManager:t,fetchPolyfill:n}){const r=new yR(e,n);async function o(N){const me=await r.get(Qe`/v2/c/rooms/${N.roomId}/threads/delta`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),{since:N.since.toISOString()},{signal:N.signal});return{threads:{updated:me.data.map(Go),deleted:me.deletedThreads.map(_h)},inboxNotifications:{updated:me.inboxNotifications.map(Gi),deleted:me.deletedInboxNotifications.map(Mh)},subscriptions:{updated:me.subscriptions.map(Yo),deleted:me.deletedSubscriptions.map(jh)},requestedAt:new Date(me.meta.requestedAt),permissionHints:me.meta.permissionHints}}async function a(N){let me;N.query&&(me=ny(N.query));const Se=50;try{const ke=await r.get(Qe`/v2/c/rooms/${N.roomId}/threads`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),{cursor:N.cursor,query:me,limit:Se});return{threads:ke.data.map(Go),inboxNotifications:ke.inboxNotifications.map(Gi),subscriptions:ke.subscriptions.map(Yo),nextCursor:ke.meta.nextCursor,requestedAt:new Date(ke.meta.requestedAt),permissionHints:ke.meta.permissionHints}}catch(ke){if(ke instanceof Qs&&ke.status===404)return{threads:[],inboxNotifications:[],subscriptions:[],nextCursor:null,requestedAt:new Date(Date.now()-360*60*1e3),permissionHints:{}};throw ke}}async function u(N){const me=N.commentId??kc(),Se=N.threadId??ey(),ke=await r.post(Qe`/v2/c/rooms/${N.roomId}/threads`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),{id:Se,comment:{id:me,body:N.body,attachmentIds:N.attachmentIds},metadata:N.metadata});return Go(ke)}async function l(N){await r.delete(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}))}async function f(N){const me=await r.rawGet(Qe`/v2/c/rooms/${N.roomId}/thread-with-notification/${N.threadId}`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}));if(me.ok){const Se=await me.json();return{thread:Go(Se.thread),inboxNotification:Se.inboxNotification?Gi(Se.inboxNotification):void 0,subscription:Se.subscription?Yo(Se.subscription):void 0}}else{if(me.status===404)return{thread:void 0,inboxNotification:void 0,subscription:void 0};throw new Error(`There was an error while getting thread ${N.threadId}.`)}}async function d(N){return await r.post(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}/metadata`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),N.metadata)}async function p(N){const me=N.commentId??kc(),Se=await r.post(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}/comments`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),{id:me,body:N.body,attachmentIds:N.attachmentIds});return Fh(Se)}async function v(N){const me=await r.post(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}/comments/${N.commentId}`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),{body:N.body,attachmentIds:N.attachmentIds});return Fh(me)}async function y(N){await r.delete(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}/comments/${N.commentId}`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}))}async function C(N){const me=await r.post(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}/comments/${N.commentId}/reactions`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),{emoji:N.emoji});return Yk(me)}async function x(N){await r.delete(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}/comments/${N.commentId}/reactions/${N.emoji}`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}))}async function E(N){await r.post(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}/mark-as-resolved`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}))}async function b(N){await r.post(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}/mark-as-unresolved`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}))}async function O(N){const me=await r.post(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}/subscribe`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}));return Yo(me)}async function A(N){await r.post(Qe`/v2/c/rooms/${N.roomId}/threads/${N.threadId}/unsubscribe`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}))}async function P(N){const me=N.roomId,Se=N.signal,ke=N.attachment,De=Se?new DOMException(`Upload of attachment ${N.attachment.id} was aborted.`,"AbortError"):void 0;if(Se!=null&&Se.aborted)throw De;const Ge=lt=>{if(Se!=null&&Se.aborted)throw De;if(lt instanceof Qs&&lt.status===413)throw lt;return!1},bt=5*1024*1024,ze=10,it=[2e3,2e3,2e3,2e3,2e3,2e3,2e3,2e3,2e3,2e3];function $t(lt){const et=[];let Xe=0;for(;Xe<lt.size;){const wt=Math.min(Xe+bt,lt.size);et.push({partNumber:et.length+1,part:lt.slice(Xe,wt)}),Xe=wt}return et}if(ke.size<=bt)return Au(async()=>r.putBlob(Qe`/v2/c/rooms/${me}/attachments/${ke.id}/upload/${encodeURIComponent(ke.name)}`,await t.getAuthValue({requestedScope:"comments:read",roomId:me}),ke.file,{fileSize:ke.size},{signal:Se}),ze,it,Ge);{let lt;const et=[],Xe=await Au(async()=>r.post(Qe`/v2/c/rooms/${me}/attachments/${ke.id}/multipart/${encodeURIComponent(ke.name)}`,await t.getAuthValue({requestedScope:"comments:read",roomId:me}),void 0,{signal:Se},{fileSize:ke.size}),ze,it,Ge);try{lt=Xe.uploadId;const wt=$t(ke.file);if(Se!=null&&Se.aborted)throw De;const Ot=lR(wt,5);for(const Wt of Ot){const Nt=[];for(const{part:ao,partNumber:qn}of Wt)Nt.push(Au(async()=>r.putBlob(Qe`/v2/c/rooms/${me}/attachments/${ke.id}/multipart/${Xe.uploadId}/${String(qn)}`,await t.getAuthValue({requestedScope:"comments:read",roomId:me}),ao,void 0,{signal:Se}),ze,it,Ge));et.push(...await Promise.all(Nt))}if(Se!=null&&Se.aborted)throw De;const un=et.sort((Wt,Nt)=>Wt.partNumber-Nt.partNumber);return r.post(Qe`/v2/c/rooms/${me}/attachments/${ke.id}/multipart/${lt}/complete`,await t.getAuthValue({requestedScope:"comments:read",roomId:me}),{parts:un},{signal:Se})}catch(wt){if(lt&&(wt!=null&&wt.name)&&(wt.name==="AbortError"||wt.name==="TimeoutError"))try{await r.rawDelete(Qe`/v2/c/rooms/${me}/attachments/${ke.id}/multipart/${lt}`,await t.getAuthValue({requestedScope:"comments:read",roomId:me}))}catch{}throw wt}}}const R=new hr(N=>{const me=new Ou(async Se=>{const ke=Se.flat(),{urls:De}=await r.post(Qe`/v2/c/rooms/${N}/attachments/presigned-urls`,await t.getAuthValue({requestedScope:"comments:read",roomId:N}),{attachmentIds:ke});return De.map(Ge=>Ge??new Error("There was an error while getting this attachment's URL"))},{delay:50});return Wh(me)});function F(N){return R.getOrCreate(N)}function L(N){return F(N.roomId).batch.get(N.attachmentId)}async function I(N){return r.get(Qe`/v2/c/rooms/${N.roomId}/subscription-settings`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),void 0,{signal:N.signal})}async function q(N){return r.post(Qe`/v2/c/rooms/${N.roomId}/subscription-settings`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),N.settings)}const ue=new hr(N=>new Ou(async me=>{const Se=me.flat();return await r.post(Qe`/v2/c/rooms/${N}/inbox-notifications/read`,await t.getAuthValue({requestedScope:"comments:read",roomId:N}),{inboxNotificationIds:Se}),Se},{delay:50}));async function Y(N){return ue.getOrCreate(N.roomId).get(N.inboxNotificationId)}async function re(N){await r.rawPost(Qe`/v2/c/rooms/${N.roomId}/text-mentions`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),{userId:N.userId,mentionId:N.mentionId})}async function U(N){await r.rawDelete(Qe`/v2/c/rooms/${N.roomId}/text-mentions/${N.mentionId}`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}))}async function H(N){return r.rawGet(Qe`/v2/c/rooms/${N.roomId}/y-version/${N.versionId}`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}))}async function V(N){await r.rawPost(Qe`/v2/c/rooms/${N.roomId}/version`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}))}async function se(N){await r.rawPost(Qe`/v2/c/rooms/${N.roomId}/text-metadata`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),{type:N.type,rootKey:N.rootKey})}async function ve(N){const me=await r.post(Qe`/v2/c/rooms/${N.roomId}/ai/contextual-prompt`,await t.getAuthValue({requestedScope:"room:read",roomId:N.roomId}),{prompt:N.prompt,context:{beforeSelection:N.context.beforeSelection,selection:N.context.selection,afterSelection:N.context.afterSelection},previous:N.previous},{signal:N.signal});if(!me||me.content.length===0)throw new Error("No content returned from server");return me.content[0].text}async function oe(N){const me=await r.get(Qe`/v2/c/rooms/${N.roomId}/versions`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}));return{versions:me.versions.map(({createdAt:Se,...ke})=>({createdAt:new Date(Se),...ke})),requestedAt:new Date(me.meta.requestedAt)}}async function K(N){const me=await r.get(Qe`/v2/c/rooms/${N.roomId}/versions/delta`,await t.getAuthValue({requestedScope:"comments:read",roomId:N.roomId}),{since:N.since.toISOString()},{signal:N.signal});return{versions:me.versions.map(({createdAt:Se,...ke})=>({createdAt:new Date(Se),...ke})),requestedAt:new Date(me.meta.requestedAt)}}async function G(N){return await(await r.rawGet(Qe`/v2/c/rooms/${N.roomId}/storage`,await t.getAuthValue({requestedScope:"room:read",roomId:N.roomId}))).json()}async function Q(N){return r.rawPost(Qe`/v2/c/rooms/${N.roomId}/send-message`,await t.getAuthValue({requestedScope:"room:read",roomId:N.roomId}),{nonce:N.nonce,messages:N.messages})}async function M(N){const Se=await r.get(Qe`/v2/c/inbox-notifications`,await t.getAuthValue({requestedScope:"comments:read"}),{cursor:N==null?void 0:N.cursor,limit:50});return{inboxNotifications:Se.inboxNotifications.map(Gi),threads:Se.threads.map(Go),subscriptions:Se.subscriptions.map(Yo),nextCursor:Se.meta.nextCursor,requestedAt:new Date(Se.meta.requestedAt)}}async function J(N){const me=await r.get(Qe`/v2/c/inbox-notifications/delta`,await t.getAuthValue({requestedScope:"comments:read"}),{since:N.since.toISOString()},{signal:N.signal});return{inboxNotifications:{updated:me.inboxNotifications.map(Gi),deleted:me.deletedInboxNotifications.map(Mh)},threads:{updated:me.threads.map(Go),deleted:me.deletedThreads.map(_h)},subscriptions:{updated:me.subscriptions.map(Yo),deleted:me.deletedSubscriptions.map(jh)},requestedAt:new Date(me.meta.requestedAt)}}async function te(){const{count:N}=await r.get(Qe`/v2/c/inbox-notifications/count`,await t.getAuthValue({requestedScope:"comments:read"}));return N}async function fe(){await r.post(Qe`/v2/c/inbox-notifications/read`,await t.getAuthValue({requestedScope:"comments:read"}),{inboxNotificationIds:"all"})}async function X(N){await r.post(Qe`/v2/c/inbox-notifications/read`,await t.getAuthValue({requestedScope:"comments:read"}),{inboxNotificationIds:N})}const j=new Ou(async N=>{const me=N.flat();return await X(me),me},{delay:50});async function Z(N){await j.get(N)}async function ae(){await r.delete(Qe`/v2/c/inbox-notifications`,await t.getAuthValue({requestedScope:"comments:read"}))}async function ce(N){await r.delete(Qe`/v2/c/inbox-notifications/${N}`,await t.getAuthValue({requestedScope:"comments:read"}))}async function Pe(N){return r.get(Qe`/v2/c/notification-settings`,await t.getAuthValue({requestedScope:"comments:read"}),void 0,{signal:N==null?void 0:N.signal})}async function Oe(N){return r.post(Qe`/v2/c/notification-settings`,await t.getAuthValue({requestedScope:"comments:read"}),N)}async function Ie(N){let me;N!=null&&N.query&&(me=ny(N.query));const ke=await r.get(Qe`/v2/c/threads`,await t.getAuthValue({requestedScope:"comments:read"}),{cursor:N==null?void 0:N.cursor,query:me,limit:50});return{threads:ke.threads.map(Go),inboxNotifications:ke.inboxNotifications.map(Gi),subscriptions:ke.subscriptions.map(Yo),nextCursor:ke.meta.nextCursor,requestedAt:new Date(ke.meta.requestedAt),permissionHints:ke.meta.permissionHints}}async function Be(N){const me=await r.get(Qe`/v2/c/threads/delta`,await t.getAuthValue({requestedScope:"comments:read"}),{since:N.since.toISOString()},{signal:N.signal});return{threads:{updated:me.threads.map(Go),deleted:me.deletedThreads.map(_h)},inboxNotifications:{updated:me.inboxNotifications.map(Gi),deleted:me.deletedInboxNotifications.map(Mh)},subscriptions:{updated:me.subscriptions.map(Yo),deleted:me.deletedSubscriptions.map(jh)},requestedAt:new Date(me.meta.requestedAt),permissionHints:me.meta.permissionHints}}return{getThreads:a,getThreadsSince:o,createThread:u,getThread:f,deleteThread:l,editThreadMetadata:d,createComment:p,editComment:v,deleteComment:y,addReaction:C,removeReaction:x,markThreadAsResolved:E,markThreadAsUnresolved:b,subscribeToThread:O,unsubscribeFromThread:A,markRoomInboxNotificationAsRead:Y,getSubscriptionSettings:I,updateSubscriptionSettings:q,createTextMention:re,deleteTextMention:U,getTextVersion:H,createTextVersion:V,reportTextEditor:se,listTextVersions:oe,listTextVersionsSince:K,getAttachmentUrl:L,uploadAttachment:P,getOrCreateAttachmentUrlsStore:F,streamStorage:G,sendMessages:Q,getInboxNotifications:M,getInboxNotificationsSince:J,getUnreadInboxNotificationsCount:te,markAllInboxNotificationsAsRead:fe,markInboxNotificationAsRead:Z,deleteAllInboxNotifications:ae,deleteInboxNotification:ce,getNotificationSettings:Pe,updateNotificationSettings:Oe,getUserThreads_experimental:Ie,getUserThreadsSince_experimental:Be,executeContextualPrompt:ve}}function uy(e){return e.type==="public"?e.publicApiKey:e.token.raw}var yR=(IA=class{constructor(e,t){Re(this,nr);Re(this,Rl);Re(this,Pl);ge(this,Rl,e),ge(this,Pl,t)}async rawGet(e,t,n,r){return await je(this,nr,Ec).call(this,e,t,r,n)}async rawPost(e,t,n){return await je(this,nr,Ec).call(this,e,t,{method:"POST",body:vo(n)})}async rawDelete(e,t){return await je(this,nr,Ec).call(this,e,t,{method:"DELETE"})}async get(e,t,n,r){return await je(this,nr,Dc).call(this,e,t,r,n)}async post(e,t,n,r,o){return await je(this,nr,Dc).call(this,e,t,{...r,method:"POST",body:vo(n)},o)}async delete(e,t){return await je(this,nr,Dc).call(this,e,t,{method:"DELETE"})}async putBlob(e,t,n,r,o){return await je(this,nr,Dc).call(this,e,t,{...o,method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:n},r)}},Rl=new WeakMap,Pl=new WeakMap,nr=new WeakSet,Ec=async function(e,t,n,r){e.startsWith("/v2/c/")||mo("This client can only be used to make /v2/c/* requests");const o=vR(k(this,Rl),e,r);return await k(this,Pl).call(this,o,{...n,headers:{"Content-Type":"application/json; charset=utf-8",...n==null?void 0:n.headers,Authorization:`Bearer ${uy(t)}`,"X-LB-Client":Nh}})},Dc=async function(e,t,n,r){const o=await je(this,nr,Ec).call(this,e,t,n,r);if(!o.ok)throw await Qs.fromResponse(o);let a;try{a=await o.json()}catch{a={}}return a},IA);function jn(e,t){throw new Error(t)}function lU(e,t){}function We(e,t="Expected value to be non-nullable"){return e}function bR(e,t){if(e===t)return[0,0];const n=e.split("."),r=t.split("."),o=Math.min(n.length,r.length);let a=0;for(;a<o&&n[a]===r[a];a++);const u=n.length-a,l=r.length-a;return[u,l]}function wR(e,t){const n=e.split(".");if(t<1||t>n.length+1)throw new Error("Invalid number of levels");const r=[];t>n.length&&r.push("*");for(let o=n.length-t+1;o<n.length;o++){const a=n.slice(0,o);a.length>0&&r.push(a.join(".")+".*")}return r.push(e),r}var CR=(NA=class{constructor(e){Re(this,vi);ge(this,vi,e)}get current(){return k(this,vi)}allowPatching(e){const t=this;let n=!0;const r={...k(this,vi),patch(o){if(n){ge(t,vi,Object.assign({},k(t,vi),o));for(const a of Object.entries(o)){const[u,l]=a;u!=="patch"&&(this[u]=l)}}else throw new Error("Can no longer patch stale context")}};e(r),n=!1}},vi=new WeakMap,NA),ER=1,ly=(BA=class{constructor(e){Re(this,Ht);yt(this,"id");Re(this,Wn);Re(this,Ar);Re(this,ro);Re(this,ko);Re(this,Cs);Re(this,xn);yt(this,"events");Re(this,gi);Re(this,Es);Re(this,$a);this.id=ER++,ge(this,Wn,0),ge(this,ko,null),ge(this,ro,new Set),ge(this,Es,new Map),ge(this,gi,[]),ge(this,$a,new Set),ge(this,Cs,new Map),ge(this,Ar,new CR(e)),ge(this,xn,{didReceiveEvent:mt(),willTransition:mt(),didIgnoreEvent:mt(),willExitState:mt(),didEnterState:mt()}),this.events={didReceiveEvent:k(this,xn).didReceiveEvent.observable,willTransition:k(this,xn).willTransition.observable,didIgnoreEvent:k(this,xn).didIgnoreEvent.observable,willExitState:k(this,xn).willExitState.observable,didEnterState:k(this,xn).didEnterState.observable}}get currentState(){if(k(this,ko)===null)throw k(this,Wn)===0?new Error("Not started yet"):new Error("Already stopped");return k(this,ko)}start(){if(k(this,Wn)!==0)throw new Error("State machine has already started");return ge(this,Wn,1),ge(this,ko,k(this,Ht,vk)),je(this,Ht,N0).call(this,null),this}stop(){if(k(this,Wn)!==1)throw new Error("Cannot stop a state machine that hasn't started yet");je(this,Ht,I0).call(this,null),ge(this,Wn,2),ge(this,ko,null)}get context(){return k(this,Ar).current}addState(e){if(k(this,Wn)!==0)throw new Error("Already started");return k(this,ro).add(e),this}onEnter(e,t){if(k(this,Wn)!==0)throw new Error("Already started");if(k(this,Es).has(e))throw new Error(`enter/exit function for ${e} already exists`);return k(this,Es).set(e,t),this}onEnterAsync(e,t,n,r,o){return this.onEnter(e,()=>{const a=new AbortController,u=a.signal,l=o?setTimeout(()=>{const d=new Error("Timed out");je(this,Ht,bu).call(this,{type:"ASYNC_ERROR",reason:d},r)},o):void 0;let f=!1;return t(k(this,Ar).current,u).then(d=>{u.aborted||(f=!0,je(this,Ht,bu).call(this,{type:"ASYNC_OK",data:d},n))},d=>{u.aborted||(f=!0,je(this,Ht,bu).call(this,{type:"ASYNC_ERROR",reason:d},r))}),()=>{clearTimeout(l),f||a.abort()}})}addTransitions(e,t){if(k(this,Wn)!==0)throw new Error("Already started");for(const n of je(this,Ht,gk).call(this,e)){let r=k(this,Cs).get(n);r===void 0&&(r=new Map,k(this,Cs).set(n,r));for(const[o,a]of Object.entries(t)){if(r.has(o))throw new Error(`Trying to set transition "${o}" on "${n}" (via "${e}"), but a transition already exists there.`);const u=a;if(k(this,$a).add(o),u!==void 0){const l=typeof u=="function"?u:()=>u;r.set(o,l)}}}return this}addTimedTransition(e,t,n){return this.onEnter(e,()=>{const r=typeof t=="function"?t(k(this,Ar).current):t,o=setTimeout(()=>{je(this,Ht,bu).call(this,{type:"TIMER"},n)},r);return()=>{clearTimeout(o)}})}send(e){if(!k(this,$a).has(e.type))throw new Error(`Invalid event ${JSON.stringify(e.type)}`);if(k(this,Wn)===2)return;const t=je(this,Ht,yk).call(this,e.type);if(t!==void 0)return je(this,Ht,bu).call(this,e,t);k(this,xn).didIgnoreEvent.notify(e)}},Wn=new WeakMap,Ar=new WeakMap,ro=new WeakMap,ko=new WeakMap,Cs=new WeakMap,xn=new WeakMap,gi=new WeakMap,Es=new WeakMap,$a=new WeakMap,Ht=new WeakSet,vk=function(){const e=k(this,ro).values()[Symbol.iterator]().next();if(e.done)throw new Error("No states defined yet");return e.value},gk=function(e){const t=[];if(e==="*")for(const n of k(this,ro))t.push(n);else if(e.endsWith(".*")){const n=e.slice(0,-1);for(const r of k(this,ro))r.startsWith(n)&&t.push(r)}else{const n=e;k(this,ro).has(n)&&t.push(n)}if(t.length===0)throw new Error(`No states match ${JSON.stringify(e)}`);return t},yk=function(e){var t;return(t=k(this,Cs).get(this.currentState))==null?void 0:t.get(e)},I0=function(e){k(this,xn).willExitState.notify(this.currentState),k(this,Ar).allowPatching(t=>{var n;e=e??k(this,gi).length;for(let r=0;r<e;r++)(n=k(this,gi).pop())==null||n(t)})},N0=function(e){const t=wR(this.currentState,e??this.currentState.split(".").length+1);k(this,Ar).allowPatching(n=>{for(const r of t){const o=k(this,Es).get(r),a=o==null?void 0:o(n);typeof a=="function"?k(this,gi).push(a):k(this,gi).push(null)}}),k(this,xn).didEnterState.notify(this.currentState)},bu=function(e,t){k(this,xn).didReceiveEvent.notify(e);const n=this.currentState,o=(typeof t=="function"?t:()=>t)(e,k(this,Ar).current);let a,u;if(o===null){k(this,xn).didIgnoreEvent.notify(e);return}if(typeof o=="string"?a=o:(a=o.target,u=Array.isArray(o.effect)?o.effect:[o.effect]),!k(this,ro).has(a))throw new Error(`Invalid next state name: ${JSON.stringify(a)}`);k(this,xn).willTransition.notify({from:n,to:a});const[l,f]=bR(this.currentState,a);if(l>0&&je(this,Ht,I0).call(this,l),ge(this,ko,a),u!==void 0){const d=u;k(this,Ar).allowPatching(p=>{for(const v of d)typeof v=="function"?v(p,e):p.patch(v)})}f>0&&je(this,Ht,N0).call(this,f)},BA),go=(e=>(e[e.UPDATE_PRESENCE=100]="UPDATE_PRESENCE",e[e.USER_JOINED=101]="USER_JOINED",e[e.USER_LEFT=102]="USER_LEFT",e[e.BROADCASTED_EVENT=103]="BROADCASTED_EVENT",e[e.ROOM_STATE=104]="ROOM_STATE",e[e.INITIAL_STORAGE_STATE=200]="INITIAL_STORAGE_STATE",e[e.UPDATE_STORAGE=201]="UPDATE_STORAGE",e[e.REJECT_STORAGE_OP=299]="REJECT_STORAGE_OP",e[e.UPDATE_YDOC=300]="UPDATE_YDOC",e[e.THREAD_CREATED=400]="THREAD_CREATED",e[e.THREAD_DELETED=407]="THREAD_DELETED",e[e.THREAD_METADATA_UPDATED=401]="THREAD_METADATA_UPDATED",e[e.THREAD_UPDATED=408]="THREAD_UPDATED",e[e.COMMENT_CREATED=402]="COMMENT_CREATED",e[e.COMMENT_EDITED=403]="COMMENT_EDITED",e[e.COMMENT_DELETED=404]="COMMENT_DELETED",e[e.COMMENT_REACTION_ADDED=405]="COMMENT_REACTION_ADDED",e[e.COMMENT_REACTION_REMOVED=406]="COMMENT_REACTION_REMOVED",e))(go||{});function cy(e){return e===4999||e>=4e3&&e<4100}function DR(e){return e>=4100&&e<4200}function fy(e){return e===1013||e>=4200&&e<4300}function xR(e){return e==="initial"||e==="disconnected"}function dy(e){const t=e.currentState;switch(t){case"@ok.connected":case"@ok.awaiting-pong":return"connected";case"@idle.initial":return"initial";case"@auth.busy":case"@auth.backoff":case"@connecting.busy":case"@connecting.backoff":case"@idle.zombie":return e.context.successCount>0?"reconnecting":"connecting";case"@idle.failed":return"disconnected";default:return jn(t,"Unknown state")}}var hy=[250,500,1e3,2e3,4e3,8e3,1e4],Rc=hy[0]-1,SR=[2e3,3e4,6e4,3e5],AR=3e4,OR=2e3,TR=1e4,kR=1e4,Xi=class extends Error{constructor(e){super(e)}};function py(e,t){return t.find(n=>n>e)??t[t.length-1]}function na(e){e.patch({backoffDelay:py(e.backoffDelay,hy)})}function my(e){e.patch({backoffDelay:py(e.backoffDelay,SR)})}function vy(e){e.patch({successCount:0})}function ra(e,t){const n=e===2?Du:e===1?_n:(()=>{});return()=>{n(t)}}function gy(e){const t="Connection to Liveblocks websocket server";return n=>{e instanceof Error?_n(`${t} could not be established. ${String(e)}`):_n(yy(e)?`${t} closed prematurely (code: ${e.code}). Retrying in ${n.backoffDelay}ms.`:`${t} could not be established.`)}}function Kh(e){const t=[`code: ${e.code}`];return e.reason&&t.push(`reason: ${e.reason}`),n=>{_n(`Connection to Liveblocks websocket server closed (${t.join(", ")}). Retrying in ${n.backoffDelay}ms.`)}}var RR=ra(1,"Connection to WebSocket closed permanently. Won't retry.");function yy(e){return!(e instanceof Error)&&e.type==="close"}function PR(e){const t=new Date().getTime();function n(...o){_n(`${((new Date().getTime()-t)/1e3).toFixed(2)} [FSM #${e.id}]`,...o)}const r=[e.events.didReceiveEvent.subscribe(o=>n(`Event ${o.type}`)),e.events.willTransition.subscribe(({from:o,to:a})=>n("Transitioning",o,"",a)),e.events.didIgnoreEvent.subscribe(o=>n("Ignored event",o.type,o,"(current state won't handle it)"))];return()=>{for(const o of r)o()}}function IR(e){const t=mt(),n=mt(),r=mt();let o=null;const a=e.events.didEnterState.subscribe(()=>{const u=dy(e);u!==o&&t.notify(u),o==="connected"&&u!=="connected"?r.notify():o!=="connected"&&u==="connected"&&n.notify(),o=u});return{statusDidChange:t.observable,didConnect:n.observable,didDisconnect:r.observable,unsubscribe:a}}var Pc=e=>t=>t.patch(e);function NR(e,t){const n=rR();n.pause();const r=mt();function o(A,P){return()=>{r.notify({message:A,code:P})}}const a={successCount:0,authValue:null,socket:null,backoffDelay:Rc},u=new ly(a).addState("@idle.initial").addState("@idle.failed").addState("@idle.zombie").addState("@auth.busy").addState("@auth.backoff").addState("@connecting.busy").addState("@connecting.backoff").addState("@ok.connected").addState("@ok.awaiting-pong");u.addTransitions("*",{RECONNECT:{target:"@auth.backoff",effect:[na,vy]},DISCONNECT:"@idle.initial"}),u.onEnter("@idle.*",vy).addTransitions("@idle.*",{CONNECT:(A,P)=>P.authValue!==null?"@connecting.busy":"@auth.busy"}),u.addTransitions("@auth.backoff",{NAVIGATOR_ONLINE:{target:"@auth.busy",effect:Pc({backoffDelay:Rc})}}).addTimedTransition("@auth.backoff",A=>A.backoffDelay,"@auth.busy").onEnterAsync("@auth.busy",()=>Y0(e.authenticate(),TR,"Timed out during auth"),A=>({target:"@connecting.busy",effect:Pc({authValue:A.data})}),A=>A.reason instanceof Xi?{target:"@idle.failed",effect:[ra(2,A.reason.message),o(A.reason.message,-1)]}:{target:"@auth.backoff",effect:[na,ra(2,`Authentication failed: ${A.reason instanceof Error?A.reason.message:String(A.reason)}`)]});const l=A=>u.send({type:"EXPLICIT_SOCKET_ERROR",event:A}),f=A=>u.send({type:"EXPLICIT_SOCKET_CLOSE",event:A}),d=A=>A.data==="pong"?u.send({type:"PONG"}):n.notify(A);function p(A){A&&(A.removeEventListener("error",l),A.removeEventListener("close",f),A.removeEventListener("message",d),A.close())}u.addTransitions("@connecting.backoff",{NAVIGATOR_ONLINE:{target:"@connecting.busy",effect:Pc({backoffDelay:Rc})}}).addTimedTransition("@connecting.backoff",A=>A.backoffDelay,"@connecting.busy").onEnterAsync("@connecting.busy",async(A,P)=>{let R=null,F=null;const L=new Promise((I,q)=>{if(A.authValue===null)throw new Error("No auth authValue");const ue=e.createSocket(A.authValue);F=ue;function Y(V){R=V,ue.removeEventListener("message",d),q(V)}const[re,U]=Z0();t.waitForActorId||U();function H(V){const se=Oc(V.data);(se==null?void 0:se.type)===104&&U()}ue.addEventListener("message",d),t.waitForActorId&&ue.addEventListener("message",H),ue.addEventListener("error",Y),ue.addEventListener("close",Y),ue.addEventListener("open",()=>{ue.addEventListener("error",l),ue.addEventListener("close",f);const V=()=>{ue.removeEventListener("error",Y),ue.removeEventListener("close",Y),ue.removeEventListener("message",H)};re.then(()=>{I([ue,V])})})});return Y0(L,kR,"Timed out during websocket connection").then(([I,q])=>{if(q(),P.aborted)throw new Error("Aborted");if(R)throw R;return I}).catch(I=>{throw p(F),I})},A=>({target:"@ok.connected",effect:Pc({socket:A.data,backoffDelay:Rc})}),A=>{const P=A.reason;if(P instanceof Xi)return{target:"@idle.failed",effect:[ra(2,P.message),o(P.message,-1)]};if(yy(P)){if(P.code===4109)return"@auth.busy";if(fy(P.code))return{target:"@connecting.backoff",effect:[my,gy(P)]};if(cy(P.code))return{target:"@idle.failed",effect:[ra(2,P.reason),o(P.reason,P.code)]}}return{target:"@auth.backoff",effect:[na,gy(P)]}});const v={target:"@ok.awaiting-pong",effect:A=>{var P;(P=A.socket)==null||P.send("ping")}},y=()=>{const A=typeof document<"u"?document:void 0;return(A==null?void 0:A.visibilityState)==="hidden"&&e.canZombie()?"@idle.zombie":v};if(u.addTimedTransition("@ok.connected",AR,y).addTransitions("@ok.connected",{NAVIGATOR_OFFLINE:y,WINDOW_GOT_FOCUS:v}),u.addTransitions("@idle.zombie",{WINDOW_GOT_FOCUS:"@connecting.backoff"}),u.onEnter("@ok.*",A=>{A.patch({successCount:A.successCount+1});const P=setTimeout(n.unpause,0);return R=>{p(R.socket),R.patch({socket:null}),clearTimeout(P),n.pause()}}).addTransitions("@ok.awaiting-pong",{PONG:"@ok.connected"}).addTimedTransition("@ok.awaiting-pong",OR,{target:"@connecting.busy",effect:ra(1,"Received no pong from server, assume implicit connection loss.")}).addTransitions("@ok.*",{EXPLICIT_SOCKET_ERROR:(A,P)=>{var R;return((R=P.socket)==null?void 0:R.readyState)===1?null:{target:"@connecting.backoff",effect:na}},EXPLICIT_SOCKET_CLOSE:A=>cy(A.event.code)?{target:"@idle.failed",effect:[RR,o(A.event.reason,A.event.code)]}:DR(A.event.code)?A.event.code===4109?"@auth.busy":{target:"@auth.backoff",effect:[na,Kh(A.event)]}:fy(A.event.code)?{target:"@connecting.backoff",effect:[my,Kh(A.event)]}:{target:"@connecting.backoff",effect:[na,Kh(A.event)]}}),typeof document<"u"){const A=typeof document<"u"?document:void 0,P=typeof window<"u"?window:void 0,R=P??A;u.onEnter("*",F=>{function L(){u.send({type:"NAVIGATOR_OFFLINE"})}function I(){u.send({type:"NAVIGATOR_ONLINE"})}function q(){(A==null?void 0:A.visibilityState)==="visible"&&u.send({type:"WINDOW_GOT_FOCUS"})}return P==null||P.addEventListener("online",I),P==null||P.addEventListener("offline",L),R==null||R.addEventListener("visibilitychange",q),()=>{R==null||R.removeEventListener("visibilitychange",q),P==null||P.removeEventListener("online",I),P==null||P.removeEventListener("offline",L),p(F.socket)}})}const C=[],{statusDidChange:x,didConnect:E,didDisconnect:b,unsubscribe:O}=IR(u);return C.push(O),t.enableDebugLogging&&C.push(PR(u)),u.start(),{machine:u,cleanups:C,events:{statusDidChange:x,didConnect:E,didDisconnect:b,onMessage:n.observable,onConnectionError:r.observable}}}var BR=(FA=class{constructor(e,t=!1,n=!0){Re(this,rr);Re(this,Il);yt(this,"events");const{machine:r,events:o,cleanups:a}=NR(e,{waitForActorId:n,enableDebugLogging:t});ge(this,rr,r),this.events=o,ge(this,Il,a)}getStatus(){try{return dy(k(this,rr))}catch{return"initial"}}get authValue(){return k(this,rr).context.authValue}connect(){k(this,rr).send({type:"CONNECT"})}reconnect(){k(this,rr).send({type:"RECONNECT"})}disconnect(){k(this,rr).send({type:"DISCONNECT"})}destroy(){k(this,rr).stop();let e;for(;e=k(this,Il).pop();)e()}send(e){var n;const t=(n=k(this,rr).context)==null?void 0:n.socket;t===null?_n("Cannot send: not connected yet",e):t.readyState!==1?_n("Cannot send: WebSocket no longer open",e):t.send(e)}_privateSendMachineEvent(e){k(this,rr).send(e)}},rr=new WeakMap,Il=new WeakMap,FA),Zi=(e=>(e.Read="room:read",e.Write="room:write",e.PresenceWrite="room:presence:write",e.CommentsWrite="comments:write",e.CommentsRead="comments:read",e))(Zi||{});function qh(e){return e.includes("room:write")}function by(e){return e.includes("comments:write")||e.includes("room:write")}function FR(e){return po(e)&&(e.k==="acc"||e.k==="id"||e.k==="sec-legacy")}function wy(e){const t=e.split(".");if(t.length!==3)throw new Error("Authentication error: invalid JWT token");const n=Oc(eR(t[1]));if(!(n&&FR(n)))throw new Error("Authentication error: expected a valid token but did not get one. Hint: if you are using a callback, ensure the room is passed when creating the token. For more information: https://liveblocks.io/docs/api-reference/liveblocks-client#createClientCallback");return{raw:e,parsed:n}}function _R(e,t){const n=MR(e),r=new Set,o=[],a=[],u=new Map;function l(){r.clear(),o.length=0,a.length=0,u.clear()}function f(y,C){return y==="comments:read"?C.includes("comments:read")||C.includes("comments:write")||C.includes("room:read")||C.includes("room:write"):y==="room:read"?C.includes("room:read")||C.includes("room:write"):!1}function d(y){const C=Math.ceil(Date.now()/1e3);for(let x=o.length-1;x>=0;x--){const E=o[x];if(a[x]<=C){o.splice(x,1),a.splice(x,1);continue}if(E.parsed.k==="id")return E;if(E.parsed.k==="acc"){if(!y.roomId&&Object.entries(E.parsed.perms).length===0)return E;for(const[O,A]of Object.entries(E.parsed.perms))if(y.roomId){if(O.includes("*")&&y.roomId.startsWith(O.replace("*",""))||y.roomId===O&&f(y.requestedScope,A))return E}else if(O.includes("*")&&f(y.requestedScope,A))return E}}}async function p(y){var x;const C=((x=e.polyfills)==null?void 0:x.fetch)??(typeof window>"u"?void 0:window.fetch);if(n.type==="private"){if(C===void 0)throw new Xi("To use Liveblocks client in a non-DOM environment with a url as auth endpoint, you need to provide a fetch polyfill.");const E=await jR(C,n.url,{room:y.roomId}),b=wy(E.token);if(r.has(b.raw))throw new Xi("The same Liveblocks auth token was issued from the backend before. Caching Liveblocks tokens is not supported.");return t==null||t(b.parsed),b}if(n.type==="custom"){const E=await n.callback(y.roomId);if(E&&typeof E=="object"){if(typeof E.token=="string"){const b=wy(E.token);return t==null||t(b.parsed),b}else if(typeof E.error=="string"){const b=`Authentication failed: ${"reason"in E&&typeof E.reason=="string"?E.reason:"Forbidden"}`;throw E.error==="forbidden"?new Xi(b):new Error(b)}}throw new Error('Your authentication callback function should return a token, but it did not. Hint: the return value should look like: { token: "..." }')}throw new Error("Unexpected authentication type. Must be private or custom.")}async function v(y){if(n.type==="public")return{type:"public",publicApiKey:n.publicApiKey};const C=d(y);if(C!==void 0)return{type:"secret",token:C};let x;y.roomId?(x=u.get(y.roomId),x===void 0&&(x=p(y),u.set(y.roomId,x))):(x=u.get("liveblocks-user-token"),x===void 0&&(x=p(y),u.set("liveblocks-user-token",x)));try{const E=await x,O=Math.floor(Date.now()/1e3)+(E.parsed.exp-E.parsed.iat)-30;return r.add(E.raw),E.parsed.k!=="sec-legacy"&&(o.push(E),a.push(O)),{type:"secret",token:E}}finally{y.roomId?u.delete(y.roomId):u.delete("liveblocks-user-token")}}return{reset:l,getAuthValue:v}}function MR(e){const{publicApiKey:t,authEndpoint:n}=e;if(n!==void 0&&t!==void 0)throw new Error("You cannot simultaneously use `publicApiKey` and `authEndpoint` options. Please pick one and leave the other option unspecified. For more information: https://liveblocks.io/docs/api-reference/liveblocks-client#createClient");if(typeof t=="string"){if(t.startsWith("sk_"))throw new Error("Invalid `publicApiKey` option. The value you passed is a secret key, which should not be used from the client. Please only ever pass a public key here. For more information: https://liveblocks.io/docs/api-reference/liveblocks-client#createClientPublicKey");if(!t.startsWith("pk_"))throw new Error("Invalid key. Please use the public key format: pk_<public key>. For more information: https://liveblocks.io/docs/api-reference/liveblocks-client#createClientPublicKey");return{type:"public",publicApiKey:t}}if(typeof n=="string")return{type:"private",url:n};if(typeof n=="function")return{type:"custom",callback:n};throw n!==void 0?new Error("The `authEndpoint` option must be a string or a function. For more information: https://liveblocks.io/docs/api-reference/liveblocks-client#createClientAuthEndpoint"):new Error("Invalid Liveblocks client options. Please provide either a `publicApiKey` or `authEndpoint` option. They cannot both be empty. For more information: https://liveblocks.io/docs/api-reference/liveblocks-client#createClient")}async function jR(e,t,n){const r=await e(t,{method:"POST",headers:{"Content-Type":"application/json"},body:vo(n)});if(!r.ok){const u=`${(await r.text()).trim()||"reason not provided in auth response"} (${r.status} returned by POST ${t})`;throw r.status===401||r.status===403?new Xi(`Unauthorized: ${u}`):new Error(`Failed to authenticate: ${u}`)}let o;try{o=await r.json()}catch(u){throw new Error(`Expected a JSON response when doing a POST request on "${t}". ${String(u)}`)}if(!po(o)||typeof o.token!="string")throw new Error(`Expected a JSON response of the form \`{ token: "..." }\` when doing a POST request on "${t}", but got ${vo(o)}`);const{token:a}=o;return{token:a}}var LR="https://api.liveblocks.io",rt=Symbol(),$R=mt();$R.observable;function cU(e){}var Tu=Symbol("notification-settings-plain");function Ic(e){const t=["email","slack","teams","webPush"],n={[Tu]:{value:e,enumerable:!1}};for(const r of t)n[r]={enumerable:!0,get(){const o=this[Tu][r];return typeof o>"u"?(Du(`In order to use the '${r}' channel, please set up your project first. For more information: https://liveblocks.io/docs/errors/enable-a-notification-channel`),null):o}};return Jk(null,n)}function zR(e,t){const n=Ic({...e[Tu]});for(const r of Qk(t)){const o=t[r];if(o!==void 0){const a=Object.fromEntries($h(o).filter(([,u])=>u!==void 0));n[Tu][r]={...n[Tu][r],...a}}}return n}var pr=32,Jo=126,UR=Jo-pr+1,Gh=Yh(0),Nc=Yh(1),HR=Gh+Yh(-1);function Yh(e){const t=pr+(e<0?UR+e:e);if(t<pr||t>Jo)throw new Error(`Invalid n value: ${e}`);return String.fromCharCode(t)}function yo(e,t){return e!==void 0&&t!==void 0?KR(e,t):e!==void 0?VR(e):t!==void 0?WR(t):Nc}function WR(e){const t=e.length-1;for(let n=0;n<=t;n++){const r=e.charCodeAt(n);if(!(r<=pr))return n===t?r===pr+1?e.substring(0,n)+HR:e.substring(0,n)+String.fromCharCode(r-1):e.substring(0,n+1)}return Nc}function VR(e){for(let t=0;t<=e.length-1;t++){const n=e.charCodeAt(t);if(!(n>=Jo))return e.substring(0,t)+String.fromCharCode(n+1)}return e+Nc}function KR(e,t){if(e<t)return Xh(e,t);if(e>t)return Xh(t,e);throw new Error("Cannot compute value between two equal positions")}function Xh(e,t){let n=0;const r=e.length,o=t.length;for(;;){const a=n<r?e.charCodeAt(n):pr,u=n<o?t.charCodeAt(n):Jo;if(a===u){n++;continue}if(u-a===1){const l=n+1;let f=e.substring(0,l);f.length<l&&(f+=Gh.repeat(l-f.length));const d=e.substring(l);return f+Xh(d,"")}else return qR(e,n)+String.fromCharCode(u+a>>1)}}function qR(e,t){return t<e.length?e.substring(0,t):e+Gh.repeat(t-e.length)}var GR=pr+1;function YR(e){if(e==="")return!1;const t=e.length-1,n=e.charCodeAt(t);if(n<GR||n>Jo)return!1;for(let r=0;r<t;r++){const o=e.charCodeAt(r);if(o<pr||o>Jo)return!1}return!0}function XR(e){const t=[];for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t.push(r<pr?pr:r>Jo?Jo:r)}for(;t.length>0&&t[t.length-1]===pr;)t.length--;return t.length>0?String.fromCharCode(...t):Nc}function ku(e){return YR(e)?e:XR(e)}function ZR(e){return e.type===5&&e.id==="ACK"}function QR(e,t){const{getCurrentConnectionId:n,onDispatch:r,isStorageWritable:o=()=>!0}=t;let a=0,u=0;const l=new Map;return{roomId:e,nodes:l,getNode:f=>l.get(f),addNode:(f,d)=>void l.set(f,d),deleteNode:f=>void l.delete(f),generateId:()=>`${n()}:${a++}`,generateOpId:()=>`${n()}:${u++}`,dispatch(f,d,p){r==null||r(f,d,p)},assertStorageIsWritable:()=>{if(!o())throw new Error("Cannot write to storage with a read only user, please ensure the user has write permissions")}}}function fU(e){return e}function Cy(e,t,n=ku(t)){return Object.freeze({type:"HasParent",node:e,key:t,pos:n})}var Ey=Object.freeze({type:"NoParent"});function JR(e,t=ku(e)){return Object.freeze({type:"Orphaned",oldKey:e,oldPos:t})}var Bc=(_A=class{constructor(){Re(this,Or);Re(this,yi);Re(this,bi,Ey);Re(this,wi);Re(this,Nl);Re(this,Ci)}_getParentKeyOrThrow(){switch(this.parent.type){case"HasParent":return this.parent.key;case"NoParent":throw new Error("Parent key is missing");case"Orphaned":return this.parent.oldKey;default:return jn(this.parent,"Unknown state")}}get _parentPos(){switch(this.parent.type){case"HasParent":return this.parent.pos;case"NoParent":throw new Error("Parent key is missing");case"Orphaned":return this.parent.oldPos;default:return jn(this.parent,"Unknown state")}}get _pool(){return k(this,Or)}get roomId(){return k(this,Or)?k(this,Or).roomId:null}get _id(){return k(this,yi)}get parent(){return k(this,bi)}get _parentKey(){switch(this.parent.type){case"HasParent":return this.parent.key;case"NoParent":return null;case"Orphaned":return this.parent.oldKey;default:return jn(this.parent,"Unknown state")}}_apply(e,t){switch(e.type){case 5:return this.parent.type==="HasParent"?this.parent.node._detachChild(this):{modified:!1}}return{modified:!1}}_setParentLink(e,t){switch(this.parent.type){case"HasParent":if(this.parent.node!==e)throw new Error("Cannot set parent: node already has a parent");ge(this,bi,Cy(e,t));return;case"Orphaned":case"NoParent":{ge(this,bi,Cy(e,t));return}default:return jn(this.parent,"Unknown state")}}_attach(e,t){if(k(this,yi)||k(this,Or))throw new Error("Cannot attach node: already attached");t.addNode(e,this),ge(this,yi,e),ge(this,Or,t)}_detach(){switch(k(this,Or)&&k(this,yi)&&k(this,Or).deleteNode(k(this,yi)),this.parent.type){case"HasParent":{ge(this,bi,JR(this.parent.key,this.parent.pos));break}case"NoParent":{ge(this,bi,Ey);break}case"Orphaned":break;default:jn(this.parent,"Unknown state")}ge(this,Or,void 0)}invalidate(){(k(this,wi)!==void 0||k(this,Ci)!==void 0)&&(ge(this,wi,void 0),ge(this,Ci,void 0),this.parent.type==="HasParent"&&this.parent.node.invalidate())}toTreeNode(e){return(k(this,Ci)===void 0||k(this,Nl)!==e)&&(ge(this,Nl,e),ge(this,Ci,this._toTreeNode(e))),k(this,Ci)}toImmutable(){return k(this,wi)===void 0&&ge(this,wi,this._toImmutable()),k(this,wi)}},Or=new WeakMap,yi=new WeakMap,bi=new WeakMap,wi=new WeakMap,Nl=new WeakMap,Ci=new WeakMap,_A);function eP(e){return e.type===0&&!tP(e)}function tP(e){return e.parentId!==void 0&&e.parentKey!==void 0}var ei=(za=class extends Bc{constructor(n){super();Re(this,Ds);ge(this,Ds,n)}get data(){return k(this,Ds)}static _deserialize([n,r],o,a){const u=new za(r.data);return u._attach(n,a),u}_toOps(n,r,o){if(this._id===void 0)throw new Error("Cannot serialize register if parentId or parentKey is undefined");return[{type:8,opId:o==null?void 0:o.generateOpId(),id:this._id,parentId:n,parentKey:r,data:this.data}]}_serialize(){if(this.parent.type!=="HasParent")throw new Error("Cannot serialize LiveRegister if parent is missing");return{type:3,parentId:We(this.parent.node._id,"Parent node expected to have ID"),parentKey:this.parent.key,data:this.data}}_attachChild(n){throw new Error("Method not implemented.")}_detachChild(n){throw new Error("Method not implemented.")}_apply(n,r){return super._apply(n,r)}_toTreeNode(n){return{type:"Json",id:this._id??ta(),key:n,payload:k(this,Ds)}}_toImmutable(){return k(this,Ds)}clone(){return xu(this.data)}},Ds=new WeakMap,za);function nP(e,t){const n=e._parentPos,r=t._parentPos;return n===r?0:n<r?-1:1}var oa=(xs=class extends Bc{constructor(n){super();Re(this,ut);Re(this,Ae);Re(this,Rn);Re(this,Ro);ge(this,Ae,[]),ge(this,Rn,new WeakSet),ge(this,Ro,new Map);let r;for(const o of n){const a=yo(r),u=ua(o);u._setParentLink(this,a),k(this,Ae).push(u),r=a}}static _deserialize([n],r,o){const a=new xs([]);a._attach(n,o);const u=r.get(n);if(u===void 0)return a;for(const[l,f]of u){const d=Sy([l,f],r,o);d._setParentLink(a,f.parentKey),a._insertAndSort(d)}return a}_toOps(n,r,o){if(this._id===void 0)throw new Error("Cannot serialize item is not attached");const a=[],u={id:this._id,opId:o==null?void 0:o.generateOpId(),type:2,parentId:n,parentKey:r};a.push(u);for(const l of k(this,Ae)){const f=l._getParentKeyOrThrow(),d=_c(l._toOps(this._id,f,o),void 0),p=d[0].opId;p!==void 0&&k(this,Ro).set(f,p),a.push(...d)}return a}_insertAndSort(n){k(this,Ae).push(n),this._sortItems()}_sortItems(){k(this,Ae).sort(nP),this.invalidate()}_indexOfPosition(n){return k(this,Ae).findIndex(r=>r._getParentKeyOrThrow()===n)}_attach(n,r){super._attach(n,r);for(const o of k(this,Ae))o._attach(r.generateId(),r)}_detach(){super._detach();for(const n of k(this,Ae))n._detach()}_attachChild(n,r){if(this._pool===void 0)throw new Error("Can't attach child if managed pool is not present");let o;return n.intent==="set"?r===1?o=je(this,ut,bk).call(this,n):r===2?o=je(this,ut,wk).call(this,n):o=je(this,ut,xk).call(this,n):r===1?o=je(this,ut,Ck).call(this,n):r===2?o=je(this,ut,Ek).call(this,n):o=je(this,ut,Dk).call(this,n),o.modified!==!1&&this.invalidate(),o}_detachChild(n){if(n){const r=We(n._parentKey),o=n._toOps(We(this._id),r,this._pool),a=k(this,Ae).indexOf(n);if(a===-1)return{modified:!1};const[u]=k(this,Ae).splice(a,1);return this.invalidate(),n._detach(),{modified:Dt(this,[Fc(a,u)]),reverse:o}}return{modified:!1}}_setChildKey(n,r,o){return o===1?je(this,ut,Sk).call(this,n,r):o===2?je(this,ut,Ak).call(this,n,r):je(this,ut,Ok).call(this,n,r)}_apply(n,r){return super._apply(n,r)}_serialize(){if(this.parent.type!=="HasParent")throw new Error("Cannot serialize LiveList if parent is missing");return{type:1,parentId:We(this.parent.node._id,"Parent node expected to have ID"),parentKey:this.parent.key}}get length(){return k(this,Ae).length}push(n){var r;return(r=this._pool)==null||r.assertStorageIsWritable(),this.insert(n,this.length)}insert(n,r){var f;if((f=this._pool)==null||f.assertStorageIsWritable(),r<0||r>k(this,Ae).length)throw new Error(`Cannot insert list item at index "${r}". index should be between 0 and ${k(this,Ae).length}`);const o=k(this,Ae)[r-1]?k(this,Ae)[r-1]._parentPos:void 0,a=k(this,Ae)[r]?k(this,Ae)[r]._parentPos:void 0,u=yo(o,a),l=ua(n);if(l._setParentLink(this,u),this._insertAndSort(l),this._pool&&this._id){const d=this._pool.generateId();l._attach(d,this._pool),this._pool.dispatch(l._toOps(this._id,u,this._pool),[{type:5,id:d}],new Map([[this._id,Dt(this,[Lr(r,l)])]]))}}move(n,r){var d;if((d=this._pool)==null||d.assertStorageIsWritable(),r<0)throw new Error("targetIndex cannot be less than 0");if(r>=k(this,Ae).length)throw new Error("targetIndex cannot be greater or equal than the list length");if(n<0)throw new Error("index cannot be less than 0");if(n>=k(this,Ae).length)throw new Error("index cannot be greater or equal than the list length");let o=null,a=null;n<r?(a=r===k(this,Ae).length-1?void 0:k(this,Ae)[r+1]._parentPos,o=k(this,Ae)[r]._parentPos):(a=k(this,Ae)[r]._parentPos,o=r===0?void 0:k(this,Ae)[r-1]._parentPos);const u=yo(o,a),l=k(this,Ae)[n],f=l._getParentKeyOrThrow();if(l._setParentLink(this,u),this._sortItems(),this._pool&&this._id){const p=new Map([[this._id,Dt(this,[Qi(n,r,l)])]]);this._pool.dispatch([{type:1,id:We(l._id),opId:this._pool.generateOpId(),parentKey:u}],[{type:1,id:We(l._id),parentKey:f}],p)}}delete(n){var a;if((a=this._pool)==null||a.assertStorageIsWritable(),n<0||n>=k(this,Ae).length)throw new Error(`Cannot delete list item at index "${n}". index should be between 0 and ${k(this,Ae).length-1}`);const r=k(this,Ae)[n];r._detach();const[o]=k(this,Ae).splice(n,1);if(this.invalidate(),this._pool){const u=r._id;if(u){const l=new Map;l.set(We(this._id),Dt(this,[Fc(n,o)])),this._pool.dispatch([{id:u,opId:this._pool.generateOpId(),type:5}],r._toOps(We(this._id),r._getParentKeyOrThrow()),l)}}}clear(){var n;if((n=this._pool)==null||n.assertStorageIsWritable(),this._pool){const r=[],o=[],a=[];for(const l of k(this,Ae)){l._detach();const f=l._id;f&&(r.push({type:5,id:f,opId:this._pool.generateOpId()}),o.push(...l._toOps(We(this._id),l._getParentKeyOrThrow())),a.push(Fc(0,l)))}ge(this,Ae,[]),this.invalidate();const u=new Map;u.set(We(this._id),Dt(this,a)),this._pool.dispatch(r,o,u)}else{for(const r of k(this,Ae))r._detach();ge(this,Ae,[]),this.invalidate()}}set(n,r){var f;if((f=this._pool)==null||f.assertStorageIsWritable(),n<0||n>=k(this,Ae).length)throw new Error(`Cannot set list item at index "${n}". index should be between 0 and ${k(this,Ae).length-1}`);const o=k(this,Ae)[n],a=o._getParentKeyOrThrow(),u=o._id;o._detach();const l=ua(r);if(l._setParentLink(this,a),k(this,Ae)[n]=l,this.invalidate(),this._pool&&this._id){const d=this._pool.generateId();l._attach(d,this._pool);const p=new Map;p.set(this._id,Dt(this,[ia(n,l)]));const v=_c(l._toOps(this._id,a,this._pool),u);k(this,Ro).set(a,We(v[0].opId));const y=_c(o._toOps(this._id,a,void 0),d);this._pool.dispatch(v,y,p)}}toArray(){return k(this,Ae).map(n=>es(n))}every(n){return this.toArray().every(n)}filter(n){return this.toArray().filter(n)}find(n){return this.toArray().find(n)}findIndex(n){return this.toArray().findIndex(n)}forEach(n){return this.toArray().forEach(n)}get(n){if(!(n<0||n>=k(this,Ae).length))return es(k(this,Ae)[n])}indexOf(n,r){return this.toArray().indexOf(n,r)}lastIndexOf(n,r){return this.toArray().lastIndexOf(n,r)}map(n){return k(this,Ae).map((r,o)=>n(es(r),o))}some(n){return this.toArray().some(n)}[Symbol.iterator](){return new rP(k(this,Ae))}_toTreeNode(n){return{type:"LiveList",id:this._id??ta(),key:n,payload:k(this,Ae).map((r,o)=>r.toTreeNode(o.toString()))}}toImmutable(){return super.toImmutable()}_toImmutable(){return k(this,Ae).map(r=>r.toImmutable())}clone(){return new xs(k(this,Ae).map(n=>n.clone()))}},Ae=new WeakMap,Rn=new WeakMap,Ro=new WeakMap,ut=new WeakSet,bk=function(n){if(this._pool===void 0)throw new Error("Can't attach child if managed pool is not present");const{id:r,parentKey:o}=n,a=Ru(n);a._attach(r,this._pool),a._setParentLink(this,o);const u=n.deletedId,l=this._indexOfPosition(o);if(l!==-1){const f=k(this,Ae)[l];if(f._id===u)return f._detach(),k(this,Ae)[l]=a,{modified:Dt(this,[ia(l,a)]),reverse:[]};{k(this,Rn).add(f),k(this,Ae)[l]=a;const d=[ia(l,a)],p=je(this,ut,wu).call(this,n.deletedId);return p&&d.push(p),{modified:Dt(this,d),reverse:[]}}}else{const f=[],d=je(this,ut,wu).call(this,n.deletedId);return d&&f.push(d),this._insertAndSort(a),f.push(Lr(this._indexOfPosition(o),a)),{reverse:[],modified:Dt(this,f)}}},wk=function(n){if(this._pool===void 0)throw new Error("Can't attach child if managed pool is not present");const r=[],o=je(this,ut,wu).call(this,n.deletedId);o&&r.push(o);const a=k(this,Ro).get(n.parentKey);if(a!==void 0){if(a!==n.opId)return r.length===0?{modified:!1}:{modified:Dt(this,r),reverse:[]};k(this,Ro).delete(n.parentKey)}const u=this._indexOfPosition(n.parentKey),l=k(this,Ae).find(f=>f._id===n.id);if(l!==void 0){if(l._parentKey===n.parentKey)return{modified:r.length>0?Dt(this,r):!1,reverse:[]};if(u!==-1){k(this,Rn).add(k(this,Ae)[u]);const[p]=k(this,Ae).splice(u,1);r.push(Fc(u,p))}const f=k(this,Ae).indexOf(l);l._setParentLink(this,n.parentKey),this._sortItems();const d=k(this,Ae).indexOf(l);return d!==f&&r.push(Qi(f,d,l)),{modified:r.length>0?Dt(this,r):!1,reverse:[]}}else{const f=this._pool.getNode(n.id);if(f&&k(this,Rn).has(f)){f._setParentLink(this,n.parentKey),k(this,Rn).delete(f),this._insertAndSort(f);const d=k(this,Ae).indexOf(f);return{modified:Dt(this,[u===-1?Lr(d,f):ia(d,f),...r]),reverse:[]}}else{u!==-1&&k(this,Ae).splice(u,1);const{newItem:d,newIndex:p}=je(this,ut,Sh).call(this,n,n.parentKey);return{modified:Dt(this,[u===-1?Lr(p,d):ia(p,d),...r]),reverse:[]}}}},wu=function(n){if(n===void 0||this._pool===void 0)return null;const r=this._pool.getNode(n);if(r===void 0)return null;const o=this._detachChild(r);return o.modified===!1?null:o.modified.updates[0]},Ck=function(n){if(this._pool===void 0)throw new Error("Can't attach child if managed pool is not present");const r=ku(n.parentKey),o=this._indexOfPosition(r);o!==-1&&je(this,ut,Ah).call(this,o,r);const{newItem:a,newIndex:u}=je(this,ut,Sh).call(this,n,r);return{modified:Dt(this,[Lr(u,a)]),reverse:[]}},Ek=function(n){const r=k(this,Ae).find(u=>u._id===n.id),o=ku(n.parentKey),a=this._indexOfPosition(o);if(r){if(r._parentKey===o)return{modified:!1};{const u=k(this,Ae).indexOf(r);a!==-1&&je(this,ut,Ah).call(this,a,o),r._setParentLink(this,o),this._sortItems();const l=this._indexOfPosition(o);return l===u?{modified:!1}:{modified:Dt(this,[Qi(u,l,r)]),reverse:[]}}}else{const u=We(this._pool).getNode(n.id);if(u&&k(this,Rn).has(u)){u._setParentLink(this,o),k(this,Rn).delete(u),this._insertAndSort(u);const l=this._indexOfPosition(o);return{modified:Dt(this,[Lr(l,u)]),reverse:[]}}else{a!==-1&&je(this,ut,Ah).call(this,a,o);const{newItem:l,newIndex:f}=je(this,ut,Sh).call(this,n,o);return{modified:Dt(this,[Lr(f,l)]),reverse:[]}}}},Dk=function(n){var d,p,v;const{id:r,parentKey:o}=n,a=Ru(n);if(((d=this._pool)==null?void 0:d.getNode(r))!==void 0)return{modified:!1};a._attach(r,We(this._pool)),a._setParentLink(this,o);const u=this._indexOfPosition(o);let l=o;if(u!==-1){const y=(p=k(this,Ae)[u])==null?void 0:p._parentPos,C=(v=k(this,Ae)[u+1])==null?void 0:v._parentPos;l=yo(y,C),a._setParentLink(this,l)}this._insertAndSort(a);const f=this._indexOfPosition(l);return{modified:Dt(this,[Lr(f,a)]),reverse:[{type:5,id:r}]}},xk=function(n){var f;const{id:r,parentKey:o}=n,a=Ru(n);if(((f=this._pool)==null?void 0:f.getNode(r))!==void 0)return{modified:!1};k(this,Ro).set(o,We(n.opId));const u=this._indexOfPosition(o);a._attach(r,We(this._pool)),a._setParentLink(this,o);const l=o;if(u!==-1){const d=k(this,Ae)[u];d._detach(),k(this,Ae)[u]=a;const p=_c(d._toOps(We(this._id),o,this._pool),n.id),v=[ia(u,a)],y=je(this,ut,wu).call(this,n.deletedId);return y&&v.push(y),{modified:Dt(this,v),reverse:p}}else{this._insertAndSort(a),je(this,ut,wu).call(this,n.deletedId);const d=this._indexOfPosition(l);return{reverse:[{type:5,id:r}],modified:Dt(this,[Lr(d,a)])}}},Sk=function(n,r){var u;if(k(this,Rn).has(r)){k(this,Rn).delete(r),r._setParentLink(this,n),this._insertAndSort(r);const l=k(this,Ae).indexOf(r);return{modified:Dt(this,[Lr(l,r)]),reverse:[]}}const o=r._parentKey;if(n===o)return{modified:!1};const a=this._indexOfPosition(n);if(a===-1){const l=k(this,Ae).indexOf(r);r._setParentLink(this,n),this._sortItems();const f=k(this,Ae).indexOf(r);return f===l?{modified:!1}:{modified:Dt(this,[Qi(l,f,r)]),reverse:[]}}else{k(this,Ae)[a]._setParentLink(this,yo(n,(u=k(this,Ae)[a+1])==null?void 0:u._parentPos));const l=k(this,Ae).indexOf(r);r._setParentLink(this,n),this._sortItems();const f=k(this,Ae).indexOf(r);return f===l?{modified:!1}:{modified:Dt(this,[Qi(l,f,r)]),reverse:[]}}},Ak=function(n,r){var a,u;const o=We(r._parentKey);if(k(this,Rn).has(r)){const l=this._indexOfPosition(n);return k(this,Rn).delete(r),l!==-1&&k(this,Ae)[l]._setParentLink(this,yo(n,(a=k(this,Ae)[l+1])==null?void 0:a._parentPos)),r._setParentLink(this,n),this._insertAndSort(r),{modified:!1}}else{if(n===o)return{modified:!1};const l=k(this,Ae).indexOf(r),f=this._indexOfPosition(n);f!==-1&&k(this,Ae)[f]._setParentLink(this,yo(n,(u=k(this,Ae)[f+1])==null?void 0:u._parentPos)),r._setParentLink(this,n),this._sortItems();const d=k(this,Ae).indexOf(r);return l===d?{modified:!1}:{modified:Dt(this,[Qi(l,d,r)]),reverse:[]}}},Ok=function(n,r){var f;const o=We(r._parentKey),a=k(this,Ae).indexOf(r),u=this._indexOfPosition(n);u!==-1&&k(this,Ae)[u]._setParentLink(this,yo(n,(f=k(this,Ae)[u+1])==null?void 0:f._parentPos)),r._setParentLink(this,n),this._sortItems();const l=k(this,Ae).indexOf(r);return a===l?{modified:!1}:{modified:Dt(this,[Qi(a,l,r)]),reverse:[{type:1,id:We(r._id),parentKey:o}]}},Sh=function(n,r){const o=Ru(n);o._attach(n.id,We(this._pool)),o._setParentLink(this,r),this._insertAndSort(o);const a=this._indexOfPosition(r);return{newItem:o,newIndex:a}},Ah=function(n,r){var a;const o=yo(r,k(this,Ae).length>n+1?(a=k(this,Ae)[n+1])==null?void 0:a._parentPos:void 0);k(this,Ae)[n]._setParentLink(this,o)},xs),rP=(MA=class{constructor(e){Re(this,Bl);ge(this,Bl,e[Symbol.iterator]())}[Symbol.iterator](){return this}next(){const e=k(this,Bl).next();return e.done?{done:!0,value:void 0}:{value:es(e.value)}}},Bl=new WeakMap,MA);function Dt(e,t){return{node:e,type:"LiveList",updates:t}}function ia(e,t){return{index:e,type:"set",item:t instanceof ei?t.data:t}}function Fc(e,t){return{type:"delete",index:e,deletedItem:t instanceof ei?t.data:t}}function Lr(e,t){return{index:e,type:"insert",item:t instanceof ei?t.data:t}}function Qi(e,t,n){return{type:"move",index:t,item:n instanceof ei?n.data:n,previousIndex:e}}function _c(e,t){return e.map((n,r)=>r===0?{...n,intent:"set",deletedId:t}:n)}var sa=(Ss=class extends Bc{constructor(n){super();Re(this,St);Re(this,Ei);if(ge(this,Ei,new Map),n){const r=[];for(const[o,a]of n){const u=ua(a);u._setParentLink(this,o),r.push([o,u])}ge(this,St,new Map(r))}else ge(this,St,new Map)}_toOps(n,r,o){if(this._id===void 0)throw new Error("Cannot serialize item is not attached");const a=[],u={id:this._id,opId:o==null?void 0:o.generateOpId(),type:7,parentId:n,parentKey:r};a.push(u);for(const[l,f]of k(this,St))a.push(...f._toOps(this._id,l,o));return a}static _deserialize([n,r],o,a){const u=new Ss;u._attach(n,a);const l=o.get(n);if(l===void 0)return u;for(const[f,d]of l){const p=Sy([f,d],o,a);p._setParentLink(u,d.parentKey),k(u,St).set(d.parentKey,p),u.invalidate()}return u}_attach(n,r){super._attach(n,r);for(const[o,a]of k(this,St))Yt(a)&&a._attach(r.generateId(),r)}_attachChild(n,r){if(this._pool===void 0)throw new Error("Can't attach child if managed pool is not present");const{id:o,parentKey:a,opId:u}=n,l=a,f=Ru(n);if(this._pool.getNode(o)!==void 0)return{modified:!1};if(r===2){const v=k(this,Ei).get(l);if(v===u)return k(this,Ei).delete(l),{modified:!1};if(v!==void 0)return{modified:!1}}else r===1&&k(this,Ei).delete(l);const d=k(this,St).get(l);let p;if(d){const v=We(this._id);p=d._toOps(v,l),d._detach()}else p=[{type:5,id:o}];return f._setParentLink(this,l),f._attach(o,this._pool),k(this,St).set(l,f),this.invalidate(),{modified:{node:this,type:"LiveMap",updates:{[l]:{type:"update"}}},reverse:p}}_detach(){super._detach();for(const n of k(this,St).values())n._detach()}_detachChild(n){const r=We(this._id),o=We(n._parentKey),a=n._toOps(r,o,this._pool);for(const[l,f]of k(this,St))f===n&&(k(this,St).delete(l),this.invalidate());return n._detach(),{modified:{node:this,type:"LiveMap",updates:{[o]:{type:"delete"}}},reverse:a}}_serialize(){if(this.parent.type!=="HasParent")throw new Error("Cannot serialize LiveMap if parent is missing");return{type:2,parentId:We(this.parent.node._id,"Parent node expected to have ID"),parentKey:this.parent.key}}get(n){const r=k(this,St).get(n);if(r!==void 0)return es(r)}set(n,r){var u;(u=this._pool)==null||u.assertStorageIsWritable();const o=k(this,St).get(n);o&&o._detach();const a=ua(r);if(a._setParentLink(this,n),k(this,St).set(n,a),this.invalidate(),this._pool&&this._id){const l=this._pool.generateId();a._attach(l,this._pool);const f=new Map;f.set(this._id,{node:this,type:"LiveMap",updates:{[n]:{type:"update"}}});const d=a._toOps(this._id,n,this._pool);k(this,Ei).set(n,We(d[0].opId)),this._pool.dispatch(a._toOps(this._id,n,this._pool),o?o._toOps(this._id,n):[{type:5,id:l}],f)}}get size(){return k(this,St).size}has(n){return k(this,St).has(n)}delete(n){var o;(o=this._pool)==null||o.assertStorageIsWritable();const r=k(this,St).get(n);if(r===void 0)return!1;if(r._detach(),k(this,St).delete(n),this.invalidate(),this._pool&&r._id){const a=We(this._id),u=new Map;u.set(a,{node:this,type:"LiveMap",updates:{[n]:{type:"delete"}}}),this._pool.dispatch([{type:5,id:r._id,opId:this._pool.generateOpId()}],r._toOps(a,n),u)}return!0}entries(){const n=k(this,St).entries();return{[Symbol.iterator](){return this},next(){const r=n.next();if(r.done)return{done:!0,value:void 0};const a=r.value[0],u=es(r.value[1]);return{value:[a,u]}}}}[Symbol.iterator](){return this.entries()}keys(){return k(this,St).keys()}values(){const n=k(this,St).values();return{[Symbol.iterator](){return this},next(){const r=n.next();return r.done?{done:!0,value:void 0}:{value:es(r.value)}}}}forEach(n){for(const r of this)n(r[1],r[0],this)}_toTreeNode(n){return{type:"LiveMap",id:this._id??ta(),key:n,payload:Array.from(k(this,St).entries()).map(([r,o])=>o.toTreeNode(r))}}toImmutable(){return super.toImmutable()}_toImmutable(){const n=new Map;for(const[r,o]of k(this,St))n.set(r,o.toImmutable());return Zo(n)}clone(){return new Ss(Array.from(k(this,St)).map(([n,r])=>[n,r.clone()]))}},St=new WeakMap,Ei=new WeakMap,Ss),Ji=(oo=class extends Bc{constructor(n={}){super();Re(this,Ua);Re(this,ht);Re(this,sn);ge(this,sn,new Map);const r=Su(n);for(const o of Object.keys(r)){const a=r[o];Yt(a)&&a._setParentLink(this,o)}ge(this,ht,new Map(Object.entries(r)))}static _fromItems(n,r){var u;const[o,a]=je(u=oo,cd,Tk).call(u,n);return oo._deserialize(o,a,r)}_toOps(n,r,o){if(this._id===void 0)throw new Error("Cannot serialize item is not attached");const a=o==null?void 0:o.generateOpId(),u=[],l={type:4,id:this._id,opId:a,parentId:n,parentKey:r,data:{}};u.push(l);for(const[f,d]of k(this,ht))Yt(d)?u.push(...d._toOps(this._id,f,o)):l.data[f]=d;return u}static _deserialize([n,r],o,a){const u=new oo(r.data);return u._attach(n,a),this._deserializeChildren(u,o,a)}static _deserializeChildren(n,r,o){const a=r.get(We(n._id));if(a===void 0)return n;for(const[u,l]of a){const f=oP([u,l],r,o);aa(f)&&f._setParentLink(n,l.parentKey),k(n,ht).set(l.parentKey,f),n.invalidate()}return n}_attach(n,r){super._attach(n,r);for(const[o,a]of k(this,ht))Yt(a)&&a._attach(r.generateId(),r)}_attachChild(n,r){if(this._pool===void 0)throw new Error("Can't attach child if managed pool is not present");const{id:o,opId:a,parentKey:u}=n,l=Dy(n);if(this._pool.getNode(o)!==void 0)return k(this,sn).get(u)===a&&k(this,sn).delete(u),{modified:!1};if(r===0)k(this,sn).set(u,We(a));else if(k(this,sn).get(u)!==void 0)return k(this,sn).get(u)===a?(k(this,sn).delete(u),{modified:!1}):{modified:!1};const f=We(this._id),d=k(this,ht).get(u);let p;return Yt(d)?(p=d._toOps(f,u),d._detach()):d===void 0?p=[{type:6,id:f,key:u}]:p=[{type:3,id:f,data:{[u]:d}}],k(this,ht).set(u,l),this.invalidate(),aa(l)&&(l._setParentLink(this,u),l._attach(o,this._pool)),{reverse:p,modified:{node:this,type:"LiveObject",updates:{[u]:{type:"update"}}}}}_detachChild(n){if(n){const r=We(this._id),o=We(n._parentKey),a=n._toOps(r,o,this._pool);for(const[l,f]of k(this,ht))f===n&&(k(this,ht).delete(l),this.invalidate());return n._detach(),{modified:{node:this,type:"LiveObject",updates:{[o]:{type:"delete"}}},reverse:a}}return{modified:!1}}_detach(){super._detach();for(const n of k(this,ht).values())Yt(n)&&n._detach()}_apply(n,r){return n.type===3?je(this,Ua,kk).call(this,n,r):n.type===6?je(this,Ua,Rk).call(this,n,r):super._apply(n,r)}_serialize(){const n={};for(const[r,o]of k(this,ht))Yt(o)||(n[r]=o);return this.parent.type==="HasParent"&&this.parent.node._id?{type:0,parentId:this.parent.node._id,parentKey:this.parent.key,data:n}:{type:0,data:n}}toObject(){return Object.fromEntries(k(this,ht))}set(n,r){var o;(o=this._pool)==null||o.assertStorageIsWritable(),this.update({[n]:r})}get(n){return k(this,ht).get(n)}delete(n){var l;(l=this._pool)==null||l.assertStorageIsWritable();const r=n,o=k(this,ht).get(r);if(o===void 0)return;if(this._pool===void 0||this._id===void 0){Yt(o)&&o._detach(),k(this,ht).delete(r),this.invalidate();return}let a;Yt(o)?(o._detach(),a=o._toOps(this._id,r)):a=[{type:3,data:{[r]:o},id:this._id}],k(this,ht).delete(r),this.invalidate();const u=new Map;u.set(this._id,{node:this,type:"LiveObject",updates:{[n]:{type:"delete"}}}),this._pool.dispatch([{type:6,key:r,id:this._id,opId:this._pool.generateOpId()}],a,u)}update(n){var p;if((p=this._pool)==null||p.assertStorageIsWritable(),this._pool===void 0||this._id===void 0){for(const v in n){const y=n[v];if(y===void 0)continue;const C=k(this,ht).get(v);Yt(C)&&C._detach(),Yt(y)&&y._setParentLink(this,v),k(this,ht).set(v,y),this.invalidate()}return}const r=[],o=[],a=this._pool.generateOpId(),u={},l={id:this._id,type:3,data:{}},f={};for(const v in n){const y=n[v];if(y===void 0)continue;const C=k(this,ht).get(v);if(Yt(C)?(o.push(...C._toOps(this._id,v)),C._detach()):C===void 0?o.push({type:6,id:this._id,key:v}):l.data[v]=C,Yt(y)){y._setParentLink(this,v),y._attach(this._pool.generateId(),this._pool);const x=y._toOps(this._id,v,this._pool),E=x.find(b=>b.parentId===this._id);E&&k(this,sn).set(v,We(E.opId)),r.push(...x)}else u[v]=y,k(this,sn).set(v,a);k(this,ht).set(v,y),this.invalidate(),f[v]={type:"update"}}Object.keys(l.data).length!==0&&o.unshift(l),Object.keys(u).length!==0&&r.unshift({opId:a,id:this._id,type:3,data:u});const d=new Map;d.set(this._id,{node:this,type:"LiveObject",updates:f}),this._pool.dispatch(r,o,d)}toImmutable(){return super.toImmutable()}toTreeNode(n){return super.toTreeNode(n)}_toTreeNode(n){const r=this._id??ta();return{type:"LiveObject",id:r,key:n,payload:Array.from(k(this,ht).entries()).map(([o,a])=>Yt(a)?a.toTreeNode(o):{type:"Json",id:`${r}:${o}`,key:o,payload:a})}}_toImmutable(){const n={};for(const[r,o]of k(this,ht))n[r]=aa(o)?o.toImmutable():o;return n}clone(){return new oo(Object.fromEntries(Array.from(k(this,ht)).map(([n,r])=>[n,aa(r)?r.clone():xu(r)])))}},ht=new WeakMap,sn=new WeakMap,cd=new WeakSet,Tk=function(n){const r=new Map;let o=null;for(const[a,u]of n)if(eP(u))o=[a,u];else{const l=[a,u],f=r.get(u.parentId);f!==void 0?f.push(l):r.set(u.parentId,[l])}if(o===null)throw new Error("Root can't be null");return[o,r]},Ua=new WeakSet,kk=function(n,r){let o=!1;const a=We(this._id),u=[],l={type:3,id:a,data:{}};for(const d in n.data){const p=k(this,ht).get(d);Yt(p)?(u.push(...p._toOps(a,d)),p._detach()):p!==void 0?l.data[d]=p:p===void 0&&u.push({type:6,id:a,key:d})}const f={};for(const d in n.data){const p=n.data[d];if(p===void 0)continue;if(r)k(this,sn).set(d,We(n.opId));else if(k(this,sn).get(d)===void 0)o=!0;else if(k(this,sn).get(d)===n.opId){k(this,sn).delete(d);continue}else continue;const v=k(this,ht).get(d);Yt(v)&&v._detach(),o=!0,f[d]={type:"update"},k(this,ht).set(d,p),this.invalidate()}return Object.keys(l.data).length!==0&&u.unshift(l),o?{modified:{node:this,type:"LiveObject",updates:f},reverse:u}:{modified:!1}},Rk=function(n,r){const o=n.key;if(k(this,ht).has(o)===!1)return{modified:!1};if(!r&&k(this,sn).get(o)!==void 0)return{modified:!1};const a=k(this,ht).get(o),u=We(this._id);let l=[];return Yt(a)?(l=a._toOps(u,n.key),a._detach()):a!==void 0&&(l=[{type:3,id:u,data:{[o]:a}}]),k(this,ht).delete(o),this.invalidate(),{modified:{node:this,type:"LiveObject",updates:{[n.key]:{type:"delete"}}},reverse:l}},Re(oo,cd),oo);function Ru(e){return ua(Dy(e))}function Dy(e){switch(e.type){case 8:return e.data;case 4:return new Ji(e.data);case 7:return new sa;case 2:return new oa([]);default:return jn(e,"Unknown creation Op")}}function xy(e,t){return e===t?!0:e.parent.type==="HasParent"?xy(e.parent.node,t):!1}function Sy([e,t],n,r){switch(t.type){case 0:return Ji._deserialize([e,t],n,r);case 1:return oa._deserialize([e,t],n,r);case 2:return sa._deserialize([e,t],n,r);case 3:return ei._deserialize([e,t],n,r);default:throw new Error("Unexpected CRDT type")}}function oP([e,t],n,r){switch(t.type){case 0:return Ji._deserialize([e,t],n,r);case 1:return oa._deserialize([e,t],n,r);case 2:return sa._deserialize([e,t],n,r);case 3:return t.data;default:throw new Error("Unexpected CRDT type")}}function aa(e){return Ay(e)||iP(e)||sP(e)}function Yt(e){return aa(e)||aP(e)}function Ay(e){return e instanceof oa}function iP(e){return e instanceof sa}function sP(e){return e instanceof Ji}function aP(e){return e instanceof ei}function uP(e){return e===void 0?void 0:aa(e)?e.clone():xu(e)}function es(e){return e instanceof ei?e.data:e instanceof oa||e instanceof sa||e instanceof Ji?e:jn(e,"Unknown AbstractCrdt")}function ua(e){return e instanceof Ji||e instanceof sa||e instanceof oa?e:new ei(e)}function lP(e,t){const n=[];return e.forEach((r,o)=>{t.get(o)||n.push({type:5,id:o})}),t.forEach((r,o)=>{const a=e.get(o);if(a)r.type===0&&(a.type!==0||vo(r.data)!==vo(a.data))&&n.push({type:3,id:o,data:r.data}),r.parentKey!==a.parentKey&&n.push({type:1,id:o,parentKey:We(r.parentKey,"Parent key must not be missing")});else switch(r.type){case 3:n.push({type:8,id:o,parentId:r.parentId,parentKey:r.parentKey,data:r.data});break;case 1:n.push({type:2,id:o,parentId:r.parentId,parentKey:r.parentKey});break;case 0:if(r.parentId===void 0||r.parentKey===void 0)throw new Error("Internal error. Cannot serialize storage root into an operation");n.push({type:4,id:o,parentId:r.parentId,parentKey:r.parentKey,data:r.data});break;case 2:n.push({type:7,id:o,parentId:r.parentId,parentKey:r.parentKey});break}}),n}function cP(e,t){const n=e.updates;for(const[r,o]of $h(t.updates))n[r]=o;return{...t,updates:n}}function fP(e,t){const n=e.updates;for(const[r,o]of $h(t.updates))n[r]=o;return{...t,updates:n}}function dP(e,t){const n=e.updates;return{...t,updates:n.concat(t.updates)}}function Zh(e,t){return e===void 0?t:e.type==="LiveObject"&&t.type==="LiveObject"?cP(e,t):e.type==="LiveMap"&&t.type==="LiveMap"?fP(e,t):e.type==="LiveList"&&t.type==="LiveList"?dP(e,t):t}var Qh=(jA=class{constructor(){Re(this,Tr);Re(this,io);Re(this,Po);Re(this,or);ge(this,Tr,{}),ge(this,io,0),ge(this,Po,1),ge(this,or,0)}get length(){return k(this,or)}*[Symbol.iterator](){const e=k(this,or),t=k(this,io);for(let n=0;n<e;n++)yield k(this,Tr)[t+n]}push(e){const t=Array.isArray(e)?e:[e];k(this,Po)>Number.MAX_SAFE_INTEGER-t.length-1&&mo("Deque full");for(const n of t)k(this,Tr)[Xs(this,Po)._++-1]=n;ge(this,or,k(this,or)+t.length)}pop(){if(k(this,or)<1)return;Xs(this,Po)._--;const e=k(this,Tr)[k(this,Po)-1];return delete k(this,Tr)[k(this,Po)-1],Xs(this,or)._--,e}pushLeft(e){const t=Array.isArray(e)?e:[e];k(this,io)<Number.MIN_SAFE_INTEGER+t.length&&mo("Deque full");for(let n=t.length-1;n>=0;n--)k(this,Tr)[--Xs(this,io)._]=t[n];ge(this,or,k(this,or)+t.length)}popLeft(){if(k(this,or)<1)return;const e=k(this,Tr)[k(this,io)];return delete k(this,Tr)[k(this,io)],Xs(this,io)._++,Xs(this,or)._--,e}},Tr=new WeakMap,io=new WeakMap,Po=new WeakMap,or=new WeakMap,jA);function hP(e){return e===null||typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function Oy(e){return Array.isArray(e)}function pP(e){return!hP(e)&&!Oy(e)}function mP(e,t){const{connectionId:n,id:r,info:o}=e,a=qh(e.scopes);return Zo(Su({connectionId:n,id:r,info:o,canWrite:a,canComment:by(e.scopes),isReadOnly:!a,presence:t}))}var vP=(LA=class{constructor(){Re(this,Io);Re(this,Vn);Re(this,Di);yt(this,"signal");ge(this,Vn,new Qo({connections:new Map,presences:new Map})),this.signal=Gt.from(k(this,Vn),e=>zh(Array.from(k(this,Vn).get().presences.keys()).map(t=>this.getUser(Number(t))))),ge(this,Di,new Map)}get(){return this.signal.get()}connectionIds(){return k(this,Vn).get().connections.keys()}clearOthers(){k(this,Vn).mutate(e=>{e.connections.clear(),e.presences.clear(),k(this,Di).clear()})}getUser(e){const t=k(this,Di).get(e);if(t)return t;const n=je(this,Io,Pk).call(this,e);if(n)return k(this,Di).set(e,n),n}setConnection(e,t,n,r){k(this,Vn).mutate(o=>(o.connections.set(e,Zo({connectionId:e,id:t,info:n,scopes:r})),o.presences.has(e)?je(this,Io,xc).call(this,e):!1))}removeConnection(e){k(this,Vn).mutate(t=>{t.connections.delete(e),t.presences.delete(e),je(this,Io,xc).call(this,e)})}setOther(e,t){k(this,Vn).mutate(n=>(n.presences.set(e,Zo(Su(t))),n.connections.has(e)?je(this,Io,xc).call(this,e):!1))}patchOther(e,t){k(this,Vn).mutate(n=>{const r=n.presences.get(e);if(r===void 0)return!1;const o=J0(r,t);return r===o?!1:(n.presences.set(e,Zo(o)),je(this,Io,xc).call(this,e))})}},Vn=new WeakMap,Di=new WeakMap,Io=new WeakSet,Pk=function(e){const t=k(this,Vn).get(),n=t.connections.get(e),r=t.presences.get(e);if(n!==void 0&&r!==void 0)return mP(n,r)},xc=function(e){k(this,Di).delete(e)},LA),Ty=class Ik extends Error{constructor(n,r,o){super(n,{cause:o});yt(this,"context");this.context=r,this.name="LiveblocksError"}get roomId(){return this.context.roomId}get code(){return this.context.code}static from(n,r){return new Ik(gP(n),n,r)}};function gP(e){switch(e.type){case"ROOM_CONNECTION_ERROR":switch(e.code){case 4001:return"Not allowed to connect to the room";case 4005:return"Room is already full";case 4006:return"Kicked out of the room, because the room ID changed";default:return"Could not connect to the room"}case"CREATE_THREAD_ERROR":return"Could not create new thread";case"DELETE_THREAD_ERROR":return"Could not delete thread";case"EDIT_THREAD_METADATA_ERROR":return"Could not edit thread metadata";case"MARK_THREAD_AS_RESOLVED_ERROR":return"Could not mark thread as resolved";case"MARK_THREAD_AS_UNRESOLVED_ERROR":return"Could not mark thread as unresolved";case"SUBSCRIBE_TO_THREAD_ERROR":return"Could not subscribe to thread";case"UNSUBSCRIBE_FROM_THREAD_ERROR":return"Could not unsubscribe from thread";case"CREATE_COMMENT_ERROR":return"Could not create new comment";case"EDIT_COMMENT_ERROR":return"Could not edit comment";case"DELETE_COMMENT_ERROR":return"Could not delete comment";case"ADD_REACTION_ERROR":return"Could not add reaction";case"REMOVE_REACTION_ERROR":return"Could not remove reaction";case"MARK_INBOX_NOTIFICATION_AS_READ_ERROR":return"Could not mark inbox notification as read";case"DELETE_INBOX_NOTIFICATION_ERROR":return"Could not delete inbox notification";case"MARK_ALL_INBOX_NOTIFICATIONS_AS_READ_ERROR":return"Could not mark all inbox notifications as read";case"DELETE_ALL_INBOX_NOTIFICATIONS_ERROR":return"Could not delete all inbox notifications";case"UPDATE_NOTIFICATION_SETTINGS_ERROR":return"Could not update notification settings";case"UPDATE_ROOM_SUBSCRIPTION_SETTINGS_ERROR":return"Could not update room subscription settings";case"UPDATE_USER_NOTIFICATION_SETTINGS_ERROR":return"Could not update notification settings";default:return jn(e,"Unhandled case")}}var ky=1024*1024-512;function yP(e){let t=0;return()=>`${e}:${t++}`}function Ry(e,t){return{type:"User",id:`${t.connectionId}`,key:e,payload:{connectionId:t.connectionId,id:t.id,info:t.info,presence:t.presence,isReadOnly:!t.canWrite}}}function bP(){const e=typeof document<"u"?document:void 0,t={current:null};function n(){(e==null?void 0:e.visibilityState)==="hidden"?t.current=t.current??Date.now():t.current=null}return e==null||e.addEventListener("visibilitychange",n),[t,()=>{e==null||e.removeEventListener("visibilitychange",n)}]}function wP(e,t){const n=t.roomId,r=e.initialPresence,o=e.initialStorage,a=t.roomHttpClient,[u,l]=bP(),f={...t.delegates,canZombie(){return t.backgroundKeepAliveTimeout!==void 0&&u.current!==null&&Date.now()>u.current+t.backgroundKeepAliveTimeout&&Rr()!=="synchronizing"}},d=new BR(f,t.enableDebugLogging),p={buffer:{flushTimerID:void 0,lastFlushedAt:0,presenceUpdates:{type:"full",data:r},messages:[],storageOperations:[]},staticSessionInfoSig:new jr(null),dynamicSessionInfoSig:new jr(null),myPresence:new oR(r),others:new vP,initialStorage:o,idFactory:null,yjsProvider:void 0,yjsProviderDidChange:mt(),pool:QR(n,{getCurrentConnectionId:j,onDispatch:A,isStorageWritable:P}),root:void 0,undoStack:[],redoStack:[],pausedHistory:null,activeBatch:null,unacknowledgedOps:new Map};let v;function y(B){const he=d.authValue;if(he!==null){const ye=uy(he);if(ye!==v)if(v=ye,he.type==="secret"){const Te=he.token.parsed;p.staticSessionInfoSig.set({userId:Te.k==="sec-legacy"?Te.id:Te.uid,userInfo:Te.k==="sec-legacy"?Te.info:Te.ui})}else p.staticSessionInfoSig.set({userId:void 0,userInfo:void 0})}R.status.notify(B),G()}let C,x=!1;function E(B){B==="reconnecting"?C=setTimeout(()=>{R.lostConnection.notify("lost"),x=!0,p.others.clearOthers(),X({others:[{type:"reset"}]})},t.lostConnectionTimeout):(clearTimeout(C),x&&(B==="disconnected"?R.lostConnection.notify("failed"):R.lostConnection.notify("restored"),x=!1))}function b(){p.buffer.presenceUpdates={type:"full",data:{...p.myPresence.get()}},Xe!==null&&Wt({flush:!1}),ze()}function O(){clearTimeout(p.buffer.flushTimerID)}d.events.onMessage.subscribe(bt),d.events.statusDidChange.subscribe(y),d.events.statusDidChange.subscribe(E),d.events.didConnect.subscribe(b),d.events.didDisconnect.subscribe(O),d.events.onConnectionError.subscribe(({message:B,code:he})=>{const ye="ROOM_CONNECTION_ERROR",Te=new Ty(B,{type:ye,code:he,roomId:n});t.errorEventSource.notify(Te)});function A(B,he,ye){if(p.activeBatch){for(const Te of B)p.activeBatch.ops.push(Te);for(const[Te,tt]of ye)p.activeBatch.updates.storageUpdates.set(Te,Zh(p.activeBatch.updates.storageUpdates.get(Te),tt));p.activeBatch.reverseOps.pushLeft(he)}else fe(he),p.redoStack.length=0,et(B),X({storageUpdates:ye})}function P(){var he;const B=(he=p.dynamicSessionInfoSig.get())==null?void 0:he.scopes;return B!==void 0?qh(B):!0}const R={status:mt(),lostConnection:mt(),customEvent:mt(),self:mt(),myPresence:mt(),others:mt(),storageBatch:mt(),history:mt(),storageDidLoad:mt(),storageStatus:mt(),ydoc:mt(),comments:mt(),roomWillDestroy:mt()};async function F(B,he){return a.createTextMention({roomId:n,userId:B,mentionId:he})}async function L(B){return a.deleteTextMention({roomId:n,mentionId:B})}async function I(B,he){await a.reportTextEditor({roomId:n,type:B,rootKey:he})}async function q(){return a.listTextVersions({roomId:n})}async function ue(B){return a.listTextVersionsSince({roomId:n,since:B.since,signal:B.signal})}async function Y(B){return a.getTextVersion({roomId:n,versionId:B})}async function re(){return a.createTextVersion({roomId:n})}async function U(B){return a.executeContextualPrompt({roomId:n,...B})}function*H(B){const{ops:he,...ye}=B;if(he.length<2)throw new Error("Cannot split ops into smaller chunks");const Te=Math.floor(he.length/2),tt=he.slice(0,Te),nt=he.slice(Te);for(const sr of[tt,nt]){const Et={ops:sr,...ye},Lo=vo([Et]);se(Lo)?yield*H(Et):yield Lo}}function*V(B){if(B.length<2)if(B[0].type===201){yield*H(B[0]);return}else throw new Error("Cannot split into chunks smaller than the allowed message size");const he=Math.floor(B.length/2),ye=B.slice(0,he),Te=B.slice(he);for(const tt of[ye,Te]){const nt=vo(tt);se(nt)?yield*V(tt):yield nt}}function se(B){return B.length*4<ky?!1:new TextEncoder().encode(B).length>=ky}function ve(B){var Te;const he=t.largeMessageStrategy??"default",ye=vo(B);if(!se(ye))return d.send(ye);switch(he){case"default":{Du("Message is too large for websockets, not sending. Configure largeMessageStrategy option to deal with this.");return}case"split":{_n("Message is too large for websockets, splitting into smaller chunks");for(const tt of V(B))d.send(tt);return}case"experimental-fallback-to-http":{_n("Message is too large for websockets, so sending over HTTP instead");const tt=((Te=p.dynamicSessionInfoSig.get())==null?void 0:Te.nonce)??mo("Session is not authorized to send message over HTTP");a.sendMessages({roomId:n,nonce:tt,messages:B}).then(nt=>{!nt.ok&&nt.status===403&&d.reconnect()});return}}}const oe=Gt.from(p.staticSessionInfoSig,p.dynamicSessionInfoSig,p.myPresence,(B,he,ye)=>{if(B===null||he===null)return null;{const Te=qh(he.scopes);return{connectionId:he.actor,id:B.userId,info:B.userInfo,presence:ye,canWrite:Te,canComment:by(he.scopes)}}});let K;function G(){const B=oe.get();B!==null&&B!==K&&(R.self.notify(B),K=B)}const Q=Gt.from(oe,B=>B!==null?Ry("Me",B):null);function M(B){var Te;if(B.items.length===0)throw new Error("Internal error: cannot load storage without items");p.root!==void 0?J(B.items):p.root=Ji._fromItems(B.items,p.pool);const he=((Te=oe.get())==null?void 0:Te.canWrite)??!0,ye=p.undoStack.length;for(const tt in p.initialStorage)p.root.get(tt)===void 0&&(he?p.root.set(tt,uP(p.initialStorage[tt])):_n(`Attempted to populate missing storage key '${tt}', but current user has no write access`));p.undoStack.length=ye}function J(B){if(p.root===void 0)return;const he=new Map;for(const[tt,nt]of p.pool.nodes)he.set(tt,nt._serialize());const ye=lP(he,new Map(B)),Te=Z(ye,!1);X(Te.updates)}function te(B){p.undoStack.length>=50&&p.undoStack.shift(),p.undoStack.push(B),me()}function fe(B){p.pausedHistory!==null?p.pausedHistory.pushLeft(B):te(B)}function X(B){const he=B.storageUpdates,ye=B.others;if(ye!==void 0&&ye.length>0){const Te=p.others.get();for(const tt of ye)R.others.notify({...tt,others:Te})}if((B.presence??!1)&&(G(),R.myPresence.notify(p.myPresence.get())),he!==void 0&&he.size>0){const Te=Array.from(he.values());R.storageBatch.notify(Te)}Bs()}function j(){const B=p.dynamicSessionInfoSig.get();if(B)return B.actor;throw new Error("Internal. Tried to get connection id but connection was never open")}function Z(B,he){const ye={reverse:new Qh,storageUpdates:new Map,presence:!1},Te=new Set,tt=B.map(nt=>nt.type!=="presence"&&!nt.opId?{...nt,opId:p.pool.generateOpId()}:nt);for(const nt of tt)if(nt.type==="presence"){const sr={type:"presence",data:{}};for(const Et in nt.data)sr.data[Et]=p.myPresence.get()[Et];if(p.myPresence.patch(nt.data),p.buffer.presenceUpdates===null)p.buffer.presenceUpdates={type:"partial",data:nt.data};else for(const Et in nt.data)p.buffer.presenceUpdates.data[Et]=nt.data[Et];ye.reverse.pushLeft(sr),ye.presence=!0}else{let sr;if(he)sr=0;else{const Lo=We(nt.opId);sr=p.unacknowledgedOps.delete(Lo)?2:1}const Et=ae(nt,sr);if(Et.modified){const Lo=Et.modified.node._id;Lo&&Te.has(Lo)||(ye.storageUpdates.set(We(Et.modified.node._id),Zh(ye.storageUpdates.get(We(Et.modified.node._id)),Et.modified)),ye.reverse.pushLeft(Et.reverse)),(nt.type===2||nt.type===7||nt.type===4)&&Te.add(We(nt.id))}}return{ops:tt,reverse:Array.from(ye.reverse),updates:{storageUpdates:ye.storageUpdates,presence:ye.presence}}}function ae(B,he){if(ZR(B))return{modified:!1};switch(B.type){case 6:case 3:case 5:{const ye=p.pool.nodes.get(B.id);return ye===void 0?{modified:!1}:ye._apply(B,he===0)}case 1:{const ye=p.pool.nodes.get(B.id);return ye===void 0?{modified:!1}:ye.parent.type==="HasParent"&&Ay(ye.parent.node)?ye.parent.node._setChildKey(ku(B.parentKey),ye,he):{modified:!1}}case 4:case 2:case 7:case 8:{if(B.parentId===void 0)return{modified:!1};const ye=p.pool.nodes.get(B.parentId);return ye===void 0?{modified:!1}:ye._attachChild(B,he)}}}function ce(B,he){const ye={};p.buffer.presenceUpdates===null&&(p.buffer.presenceUpdates={type:"partial",data:{}});for(const Te in B){const tt=B[Te];tt!==void 0&&(p.buffer.presenceUpdates.data[Te]=tt,ye[Te]=p.myPresence.get()[Te])}p.myPresence.patch(B),p.activeBatch?(he!=null&&he.addToHistory&&p.activeBatch.reverseOps.pushLeft({type:"presence",data:ye}),p.activeBatch.updates.presence=!0):(ze(),he!=null&&he.addToHistory&&fe([{type:"presence",data:ye}]),X({presence:!0}))}function Pe(B){if(B.targetActor!==void 0){const ye=p.others.getUser(B.actor);p.others.setOther(B.actor,B.data);const Te=p.others.getUser(B.actor);if(ye===void 0&&Te!==void 0)return{type:"enter",user:Te}}else p.others.patchOther(B.actor,B.data);const he=p.others.getUser(B.actor);if(he)return{type:"update",updates:B.data,user:he}}function Oe(B){const he=p.others.getUser(B.actor);return he?(p.others.removeConnection(B.actor),{type:"leave",user:he}):null}function Ie(B){p.dynamicSessionInfoSig.set({actor:B.actor,nonce:B.nonce,scopes:B.scopes}),p.idFactory=yP(B.actor),G();for(const he of p.others.connectionIds())B.users[he]===void 0&&p.others.removeConnection(he);for(const he in B.users){const ye=B.users[he],Te=Number(he);p.others.setConnection(Te,ye.id,ye.info,ye.scopes)}return{type:"reset"}}function Be(){return p.undoStack.length>0}function N(){return p.redoStack.length>0}function me(){R.history.notify({canUndo:Be(),canRedo:N()})}function Se(B){p.others.setConnection(B.actor,B.id,B.info,B.scopes),p.buffer.messages.push({type:100,data:p.myPresence.get(),targetActor:B.actor}),ze();const he=p.others.getUser(B.actor);return he?{type:"enter",user:he}:void 0}function ke(B){return pP(B)?B:null}function De(B){const he=Oc(B);return he===void 0?null:Oy(he)?zh(he.map(ye=>ke(ye))):zh([ke(he)])}function Ge(B){if(B.size===0)return;const he=[],ye=Array.from(B.values()),Te=Z(ye,!0);he.push({type:201,ops:Te.ops}),X(Te.updates),ve(he)}function bt(B){if(typeof B.data!="string")return;const he=De(B.data);if(he===null||he.length===0)return;const ye={storageUpdates:new Map,others:[]};for(const Te of he)switch(Te.type){case 101:{const tt=Se(Te);tt&&ye.others.push(tt);break}case 100:{const tt=Pe(Te);tt&&ye.others.push(tt);break}case 103:{const tt=p.others.get();R.customEvent.notify({connectionId:Te.actor,user:Te.actor<0?null:tt.find(nt=>nt.connectionId===Te.actor)??null,event:Te.event});break}case 102:{const tt=Oe(Te);tt&&ye.others.push(tt);break}case 300:{R.ydoc.notify(Te);break}case 104:{ye.others.push(Ie(Te));break}case 200:{Ot(Te);break}case 201:{const tt=Z(Te.ops,!1);for(const[nt,sr]of tt.updates.storageUpdates)ye.storageUpdates.set(nt,Zh(ye.storageUpdates.get(nt),sr));break}case 299:{G0("Storage mutation rejection error",Te.reason);break}case 400:case 407:case 401:case 408:case 405:case 406:case 402:case 403:case 404:{R.comments.notify(Te);break}}X(ye)}function ze(){const B=p.buffer.storageOperations;if(B.length>0){for(const Te of B)p.unacknowledgedOps.set(We(Te.opId),Te);Bs()}if(d.getStatus()!=="connected"){p.buffer.storageOperations=[];return}const he=Date.now(),ye=he-p.buffer.lastFlushedAt;if(ye>=t.throttleDelay){const Te=it();if(Te.length===0)return;ve(Te),p.buffer={flushTimerID:void 0,lastFlushedAt:he,messages:[],storageOperations:[],presenceUpdates:null}}else clearTimeout(p.buffer.flushTimerID),p.buffer.flushTimerID=setTimeout(ze,t.throttleDelay-ye)}function it(){const B=[];p.buffer.presenceUpdates&&B.push(p.buffer.presenceUpdates.type==="full"?{type:100,targetActor:-1,data:p.buffer.presenceUpdates.data}:{type:100,data:p.buffer.presenceUpdates.data});for(const he of p.buffer.messages)B.push(he);return p.buffer.storageOperations.length>0&&B.push({type:201,ops:p.buffer.storageOperations}),B}function $t(B,he,ye){const Te={type:301,update:B,guid:he,v2:ye};p.buffer.messages.push(Te),R.ydoc.notify(Te),ze()}function lt(B,he={shouldQueueEventIfNotReady:!1}){d.getStatus()!=="connected"&&!he.shouldQueueEventIfNotReady||(p.buffer.messages.push({type:103,event:B}),ze())}function et(B){const{storageOperations:he}=p.buffer;for(const ye of B)he.push(ye);ze()}let Xe=null,wt=null;function Ot(B){const he=new Map(p.unacknowledgedOps);M(B),Ge(he),wt==null||wt(),Bs(),R.storageDidLoad.notify()}async function un(){if(!d.authValue)return;const B=await a.streamStorage({roomId:n});Ot({items:B})}function Wt(B){const he=p.buffer.messages;t.unstable_streamData?un():he.some(ye=>ye.type===200)||he.push({type:200}),B.flush&&ze()}function Nt(){return Xe===null&&(Wt({flush:!0}),Xe=new Promise(B=>{wt=B}),Bs()),Xe}function ao(){const B=p.root;return B!==void 0?B:(Nt(),null)}async function qn(){return p.root!==void 0?Promise.resolve({root:p.root}):(await Nt(),{root:We(p.root)})}function kr(B,he,ye){p.buffer.messages.find(Te=>Te.type===300&&Te.vector===B&&Te.guid===he&&Te.v2===ye)||p.buffer.messages.push({type:300,vector:B,guid:he,v2:ye}),ze()}function _l(){if(p.activeBatch)throw new Error("undo is not allowed during a batch");const B=p.undoStack.pop();if(B===void 0)return;p.pausedHistory=null;const he=Z(B,!0);X(he.updates),p.redoStack.push(he.reverse),me();for(const ye of he.ops)ye.type!=="presence"&&p.buffer.storageOperations.push(ye);ze()}function ks(){if(p.activeBatch)throw new Error("redo is not allowed during a batch");const B=p.redoStack.pop();if(B===void 0)return;p.pausedHistory=null;const he=Z(B,!0);X(he.updates),p.undoStack.push(he.reverse),me();for(const ye of he.ops)ye.type!=="presence"&&p.buffer.storageOperations.push(ye);ze()}function Rs(){p.undoStack.length=0,p.redoStack.length=0}function Ps(B){if(p.activeBatch)return B();let he;p.activeBatch={ops:[],updates:{storageUpdates:new Map,presence:!1,others:[]},reverseOps:new Qh};try{he=B()}finally{const ye=p.activeBatch;p.activeBatch=null,ye.reverseOps.length>0&&fe(Array.from(ye.reverseOps)),ye.ops.length>0&&(p.redoStack.length=0),ye.ops.length>0&&et(ye.ops),X(ye.updates),ze()}return he}function Is(){p.pausedHistory===null&&(p.pausedHistory=new Qh)}function Ns(){const B=p.pausedHistory;p.pausedHistory=null,B!==null&&B.length>0&&te(Array.from(B))}const Mo=t.createSyncSource();function Rr(){return p.root===void 0?Xe===null?"not-loaded":"loading":p.unacknowledgedOps.size===0?"synchronized":"synchronizing"}let Ml=Rr();function Bs(){const B=Rr();Ml!==B&&(Ml=B,R.storageStatus.notify(B)),Mo.setSyncStatus(B==="synchronizing"?"synchronizing":"synchronized")}function jl(){return oe.get()!==null}async function fd(){for(;!jl();){const{promise:B,resolve:he}=Q0(),ye=uo.self.subscribeOnce(he),Te=uo.status.subscribeOnce(he);await B,ye(),Te()}}function Ll(){return ao()!==null}async function $l(){for(;!Ll();)await qn()}const dd=Gt.from(p.others.signal,B=>B.map((he,ye)=>Ry(`Other ${ye}`,he))),uo={status:R.status.observable,lostConnection:R.lostConnection.observable,customEvent:R.customEvent.observable,others:R.others.observable,self:R.self.observable,myPresence:R.myPresence.observable,storage:R.storageBatch.observable,storageBatch:R.storageBatch.observable,history:R.history.observable,storageDidLoad:R.storageDidLoad.observable,storageStatus:R.storageStatus.observable,ydoc:R.ydoc.observable,comments:R.comments.observable,roomWillDestroy:R.roomWillDestroy.observable};async function zl(B){return a.getThreadsSince({roomId:n,since:B.since,signal:B.signal})}async function Fs(B){return a.getThreads({roomId:n,query:B==null?void 0:B.query,cursor:B==null?void 0:B.cursor})}async function Wv(B){return a.getThread({roomId:n,threadId:B})}async function _s(B){return a.createThread({roomId:n,threadId:B.threadId,commentId:B.commentId,metadata:B.metadata,body:B.body,attachmentIds:B.attachmentIds})}async function Ya(B){return a.deleteThread({roomId:n,threadId:B})}async function Xa({metadata:B,threadId:he}){return a.editThreadMetadata({roomId:n,threadId:he,metadata:B})}async function Ul(B){return a.markThreadAsResolved({roomId:n,threadId:B})}async function Vv(B){return a.markThreadAsUnresolved({roomId:n,threadId:B})}async function Kv(B){return a.subscribeToThread({roomId:n,threadId:B})}async function qv(B){return a.unsubscribeFromThread({roomId:n,threadId:B})}async function jo(B){return a.createComment({roomId:n,threadId:B.threadId,commentId:B.commentId,body:B.body,attachmentIds:B.attachmentIds})}async function hd(B){return a.editComment({roomId:n,threadId:B.threadId,commentId:B.commentId,body:B.body,attachmentIds:B.attachmentIds})}async function pd({threadId:B,commentId:he}){return a.deleteComment({roomId:n,threadId:B,commentId:he})}async function Gv({threadId:B,commentId:he,emoji:ye}){return a.addReaction({roomId:n,threadId:B,commentId:he,emoji:ye})}async function md({threadId:B,commentId:he,emoji:ye}){return await a.removeReaction({roomId:n,threadId:B,commentId:he,emoji:ye})}function vd(B){return{type:"localAttachment",status:"idle",id:ty(),name:B.name,size:B.size,mimeType:B.type,file:B}}async function gd(B,he={}){return a.uploadAttachment({roomId:n,attachment:B,signal:he.signal})}function yd(B){return a.getAttachmentUrl({roomId:n,attachmentId:B})}function bd(B){return a.getSubscriptionSettings({roomId:n,signal:B==null?void 0:B.signal})}function wd(B){return a.updateSubscriptionSettings({roomId:n,settings:B})}async function Mt(B){await a.markRoomInboxNotificationAsRead({roomId:n,inboxNotificationId:B})}const Cd=t.createSyncSource();function Ms(B){return Cd.setSyncStatus(B==="synchronizing"?"synchronizing":"synchronized")}return Object.defineProperty({[rt]:{get presenceBuffer(){var B;return xu(((B=p.buffer.presenceUpdates)==null?void 0:B.data)??null)},get undoStack(){return xu(p.undoStack)},get nodeCount(){return p.pool.nodes.size},getYjsProvider(){return p.yjsProvider},setYjsProvider(B){var he;(he=p.yjsProvider)==null||he.off("status",Ms),p.yjsProvider=B,B==null||B.on("status",Ms),p.yjsProviderDidChange.notify()},yjsProviderDidChange:p.yjsProviderDidChange.observable,reportTextEditor:I,createTextMention:F,deleteTextMention:L,listTextVersions:q,listTextVersionsSince:ue,getTextVersion:Y,createTextVersion:re,executeContextualPrompt:U,getSelf_forDevTools:()=>Q.get(),getOthers_forDevTools:()=>dd.get(),simulate:{explicitClose:B=>d._privateSendMachineEvent({type:"EXPLICIT_SOCKET_CLOSE",event:B}),rawSend:B=>d.send(B)},attachmentUrlsStore:a.getOrCreateAttachmentUrlsStore(n)},id:n,subscribe:CP(n,uo,t.errorEventSource),connect:()=>d.connect(),reconnect:()=>d.reconnect(),disconnect:()=>d.disconnect(),destroy:()=>{var ye;const{roomWillDestroy:B,...he}=R;for(const Te of Object.values(he))Te.dispose();R.roomWillDestroy.notify(),(ye=p.yjsProvider)==null||ye.off("status",Ms),Mo.destroy(),Cd.destroy(),l(),d.destroy(),B.dispose()},updatePresence:ce,updateYDoc:$t,broadcastEvent:lt,batch:Ps,history:{undo:_l,redo:ks,canUndo:Be,canRedo:N,clear:Rs,pause:Is,resume:Ns},fetchYDoc:kr,getStorage:qn,getStorageSnapshot:ao,getStorageStatus:Rr,isPresenceReady:jl,isStorageReady:Ll,waitUntilPresenceReady:X0(fd),waitUntilStorageReady:X0($l),events:uo,getStatus:()=>d.getStatus(),getSelf:()=>oe.get(),getPresence:()=>p.myPresence.get(),getOthers:()=>p.others.get(),getThreads:Fs,getThreadsSince:zl,getThread:Wv,createThread:_s,deleteThread:Ya,editThreadMetadata:Xa,markThreadAsResolved:Ul,markThreadAsUnresolved:Vv,subscribeToThread:Kv,unsubscribeFromThread:qv,createComment:jo,editComment:hd,deleteComment:pd,addReaction:Gv,removeReaction:md,prepareAttachment:vd,uploadAttachment:gd,getAttachmentUrl:yd,getNotificationSettings:bd,getSubscriptionSettings:bd,updateNotificationSettings:wd,updateSubscriptionSettings:wd,markInboxNotificationAsRead:Mt},rt,{enumerable:!1})}function CP(e,t,n){function r(u,l){return t.storageBatch.subscribe(f=>{const d=f.filter(p=>xy(p.node,u));d.length>0&&l(d)})}function o(u,l){return t.storageBatch.subscribe(f=>{for(const d of f)d.node._id===u._id&&l(d.node)})}function a(u,l,f){if(typeof u=="string"&&EP(u)){if(typeof l!="function")throw new Error("Second argument must be a callback function");const d=l;switch(u){case"event":return t.customEvent.subscribe(d);case"my-presence":return t.myPresence.subscribe(d);case"others":{const p=d;return t.others.subscribe(v=>{const{others:y,...C}=v;return p(y,C)})}case"error":return n.subscribe(p=>{if(p.roomId===e)return d(p)});case"status":return t.status.subscribe(d);case"lost-connection":return t.lostConnection.subscribe(d);case"history":return t.history.subscribe(d);case"storage-status":return t.storageStatus.subscribe(d);case"comments":return t.comments.subscribe(d);default:return jn(u,`"${String(u)}" is not a valid event name`)}}if(l===void 0||typeof u=="function")if(typeof u=="function"){const d=u;return t.storageBatch.subscribe(d)}else throw new Error("Please specify a listener callback");if(Yt(u)){const d=u;return f!=null&&f.isDeep?r(d,l):o(d,l)}throw new Error(`${String(u)} is not a value that can be subscribed to.`)}return a}function EP(e){return e==="my-presence"||e==="others"||e==="event"||e==="error"||e==="history"||e==="status"||e==="storage-status"||e==="lost-connection"||e==="connection"||e==="comments"}function DP(e,t){return async()=>t.getAuthValue({requestedScope:"room:read",roomId:e})}function xP(e,t,n){return r=>{const o=n??(typeof WebSocket>"u"?void 0:WebSocket);if(o===void 0)throw new Xi("To use Liveblocks client in a non-DOM environment, you need to provide a WebSocket polyfill.");const a=new URL(t);if(a.protocol=a.protocol==="http:"?"ws":"wss",a.pathname="/v7",a.searchParams.set("roomId",e),r.type==="secret")a.searchParams.set("tok",r.token.raw);else if(r.type==="public")a.searchParams.set("pubkey",r.publicApiKey);else return jn(r,"Unhandled case");return a.searchParams.set("version",Nh),new o(a.toString())}}var SP=16,AP=1e3,OP=100,TP=15e3,kP=200,RP=1e3,PP=3e4,IP=5e3,NP=50,BP=50;function FP(e){return typeof e=="string"&&e.startsWith("http")?e:LR}function _P(e){var M,J;const t=e,n=jP(t.throttle??OP),r=LP(t.lostConnectionTimeout??IP),o=MP(t.backgroundKeepAliveTimeout),a=FP(t.baseUrl),u=new jr(void 0),l=_R(e,te=>{const fe=te.k==="sec-legacy"?te.id:te.uid;u.set(()=>fe)}),f=((M=t.polyfills)==null?void 0:M.fetch)||((J=globalThis.fetch)==null?void 0:J.bind(globalThis)),d=gR({baseUrl:a,fetchPolyfill:f,authManager:l}),p=new Map;function v(te){te.id,p.delete(te.id),te.destroy()}function y(te){const fe=()=>{const X=fe;te.unsubs.delete(X)?te.unsubs.size===0&&v(te.room):_n("This leave function was already called. Calling it more than once has no effect.")};return te.unsubs.add(fe),{room:te.room,leave:fe}}function C(te,...fe){var Ie,Be;const X=p.get(te);if(X!==void 0)return y(X);const j=fe[0]??{},Z=(typeof j.initialPresence=="function"?j.initialPresence(te):j.initialPresence)??{},ae=(typeof j.initialStorage=="function"?j.initialStorage(te):j.initialStorage)??{},ce=wP({initialPresence:Z,initialStorage:ae},{roomId:te,throttleDelay:n,lostConnectionTimeout:r,backgroundKeepAliveTimeout:o,polyfills:t.polyfills,delegates:t.mockedDelegates??{createSocket:xP(te,a,(Ie=t.polyfills)==null?void 0:Ie.WebSocket),authenticate:DP(te,l)},enableDebugLogging:t.enableDebugLogging,baseUrl:a,errorEventSource:V,largeMessageStrategy:t.largeMessageStrategy??(t.unstable_fallbackToHTTP?"experimental-fallback-to-http":void 0),unstable_streamData:!!t.unstable_streamData,roomHttpClient:d,createSyncSource:oe}),Pe={room:ce,unsubs:new Set};if(p.set(te,Pe),j.autoConnect??!0){if(typeof atob>"u"){if(((Be=t.polyfills)==null?void 0:Be.atob)===void 0)throw new Error("You need to polyfill atob to use the client in your environment. Please follow the instructions at https://liveblocks.io/docs/errors/liveblocks-client/atob-polyfill");global.atob=t.polyfills.atob}ce.connect()}return y(Pe)}function x(te){var X;const fe=(X=p.get(te))==null?void 0:X.room;return fe||null}function E(){l.reset(),u.set(()=>{});for(const{room:te}of p.values())xR(te.getStatus())||te.reconnect()}const b=t.resolveUsers,O=Py(()=>!b,"Set the resolveUsers option in createClient to specify user info."),A=new Ou(async te=>{const fe=te.flat(),X=await(b==null?void 0:b({userIds:fe}));return O(),X??fe.map(()=>{})},{delay:NP}),P=Wh(A);function R(te){P.invalidate(te)}const F=t.resolveRoomsInfo,L=Py(()=>!F,"Set the resolveRoomsInfo option in createClient to specify room info."),I=new Ou(async te=>{const fe=te.flat(),X=await(F==null?void 0:F({roomIds:fe}));return L(),X??fe.map(()=>{})},{delay:BP}),q=Wh(I);function ue(te){q.invalidate(te)}const Y=new Map;function re(){Y.clear()}const U=[],H=new jr("synchronized"),V=mt();function se(){const te=H.get();return te==="synchronizing"?te:"synchronized"}function ve(){H.set(U.some(te=>te.get()==="synchronizing")?"synchronizing":U.some(te=>te.get()==="has-local-changes")?"has-local-changes":"synchronized")}function oe(){const te=new jr("synchronized");U.push(te);const fe=te.subscribe(()=>ve());function X(Z){te.set(Z)}function j(){fe();const Z=U.findIndex(ae=>ae===te);if(Z>-1){const[ae]=U.splice(Z,1);ae.get()!=="synchronized"&&ve()}}return{setSyncStatus:X,destroy:j}}{const te=X=>{t.preventUnsavedChanges&&H.get()!=="synchronized"&&X.preventDefault()},fe=typeof window<"u"?window:void 0;fe==null||fe.addEventListener("beforeunload",te)}async function K(te){const fe=await d.getNotificationSettings(te);return Ic(fe)}async function G(te){const fe=await d.updateNotificationSettings(te);return Ic(fe)}const Q=Object.defineProperty({enterRoom:C,getRoom:x,logout:E,getInboxNotifications:d.getInboxNotifications,getInboxNotificationsSince:d.getInboxNotificationsSince,getUnreadInboxNotificationsCount:d.getUnreadInboxNotificationsCount,markAllInboxNotificationsAsRead:d.markAllInboxNotificationsAsRead,markInboxNotificationAsRead:d.markInboxNotificationAsRead,deleteAllInboxNotifications:d.deleteAllInboxNotifications,deleteInboxNotification:d.deleteInboxNotification,getNotificationSettings:K,updateNotificationSettings:G,resolvers:{invalidateUsers:R,invalidateRoomsInfo:ue,invalidateMentionSuggestions:re},getSyncStatus:se,events:{error:V,syncStatus:H},[rt]:{currentUserId:u,mentionSuggestionsCache:Y,resolveMentionSuggestions:t.resolveMentionSuggestions,usersStore:P,roomsInfoStore:q,getRoomIds(){return Array.from(p.keys())},httpClient:d,as:()=>Q,createSyncSource:oe,emitError:(te,fe)=>{const X=Ty.from(te,fe);V.notify(X)||Du(X.message)}}},rt,{enumerable:!1});return Q}function Jh(e,t,n,r,o){if(typeof t!="number"||t<n||r!==void 0&&t>r)throw new Error(r!==void 0?`${e} should be between ${o??n} and ${r}.`:`${e} should be at least ${o??n}.`);return t}function MP(e){if(e!==void 0)return Jh("backgroundKeepAliveTimeout",e,TP)}function jP(e){return Jh("throttle",e,SP,AP)}function LP(e){return Jh("lostConnectionTimeout",e,kP,PP,RP)}function Py(e,...t){return()=>{}}function $P(e){return"type"in e&&e.type==="paragraph"}function zP(e){return!("type"in e)&&"text"in e&&typeof e.text=="string"}function UP(e){return"type"in e&&e.type==="mention"}function HP(e){return"type"in e&&e.type==="link"}var WP={paragraph:$P,text:zP,link:HP,mention:UP};function VP(e,t,n){if(!e||!(e!=null&&e.content))return;const o=WP[t],a=n;for(const u of e.content)for(const l of u.children)o(l)&&(a==null||a(l))}function KP(e){const t=new Set;return VP(e,"mention",n=>t.add(n.id)),Array.from(t)}var qP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};new RegExp(Object.keys(qP).map(e=>`\\${e}`).join("|"),"g");var GP={_:"\\_","*":"\\*","#":"\\#","`":"\\`","~":"\\~","!":"\\!","|":"\\|","(":"\\(",")":"\\)","{":"\\{","}":"\\}","[":"\\[","]":"\\]"};new RegExp(Object.keys(GP).map(e=>`\\${e}`).join("|"),"g");var ep=[1e3,2e3,4e3,8e3,1e4];function tp(e,t,n){const r=performance.now(),o=typeof document<"u"?document:void 0,a=typeof window<"u"?window:void 0,u=(n==null?void 0:n.maxStaleTimeMs)??Number.POSITIVE_INFINITY,l={inForeground:(o==null?void 0:o.visibilityState)!=="hidden",lastSuccessfulPollAt:r,count:0,backoff:0};function f(){return l.count>0&&l.inForeground}const d=new ly({}).addState("@idle").addState("@enabled").addState("@polling");d.addTransitions("@idle",{START:"@enabled"}),d.addTransitions("@enabled",{STOP:"@idle",POLL:"@polling"}),d.addTimedTransition("@enabled",()=>{const A=l.lastSuccessfulPollAt+t;return Math.max(0,A-performance.now())+l.backoff},"@polling"),d.onEnterAsync("@polling",async(O,A)=>{await e(A),A.aborted||(l.lastSuccessfulPollAt=performance.now())},()=>({target:f()?"@enabled":"@idle",effect:()=>{l.backoff=0}}),()=>({target:f()?"@enabled":"@idle",effect:()=>{l.backoff=ep.find(O=>O>l.backoff)??ep[ep.length-1]}}),3e4);function p(){f()?d.send({type:"START"}):d.send({type:"STOP"})}function v(){l.count++,p()}function y(){l.count--,l.count<0&&(l.count=0),p()}function C(){performance.now()-l.lastSuccessfulPollAt>u&&d.send({type:"POLL"})}function x(){l.lastSuccessfulPollAt=performance.now()-u-1}function E(O){l.inForeground=O,p(),C()}function b(){E((o==null?void 0:o.visibilityState)!=="hidden")}return o==null||o.addEventListener("visibilitychange",b),a==null||a.addEventListener("online",b),a==null||a.addEventListener("focus",C),d.start(),{inc:v,dec:y,pollNowIfStale:C,markAsStale:x,setInForeground:E}}function YP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}function XP(e,t){if(!po(e)||!po(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>Object.prototype.hasOwnProperty.call(t,r)&&Object.is(e[r],t[r]))}function mr(e,t){if(Object.is(e,t))return!0;const n=Array.isArray(e),r=Array.isArray(t);return n||r?!n||!r?!1:YP(e,t):XP(e,t)}function Iy(e,t){if(!po(e)||!po(t))return mr(e,t);const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>Object.prototype.hasOwnProperty.call(t,r)&&mr(e[r],t[r]))}function ZP(e,t,n){let r=0,o=e.length;for(;r<o;){const a=r+(o-r>>1);n(t,e[a])?o=a:r=a+1}return r}var Ny=(xi=class{constructor(t,n){Re(this,ir);Re(this,Ha);ge(this,Ha,n),ge(this,ir,t)}static from(t,n){const r=new xi([],n);for(const o of t)r.add(o);return r}static fromAlreadySorted(t,n){return new xi(t,n)}clone(){return new xi(k(this,ir).slice(),k(this,Ha))}add(t){const n=ZP(k(this,ir),t,k(this,Ha));k(this,ir).splice(n,0,t)}remove(t){const n=k(this,ir).indexOf(t);return n>=0?(k(this,ir).splice(n,1),!0):!1}get length(){return k(this,ir).length}*filter(t){for(const n of k(this,ir))t(n)&&(yield n)}[Symbol.iterator](){return k(this,ir)[Symbol.iterator]()}},ir=new WeakMap,Ha=new WeakMap,xi);function la(e,t){return typeof e=="string"?`${e}:${t}`:`${e.kind}:${e.subjectId}`}Bh(Wk,Nh,Vk);var QP="@liveblocks/client",JP="2.24.4",eI="esm";Bh(QP,JP,eI);var tI="@liveblocks/react",nI="2.24.4",rI="esm",Mc=m.createContext(null);function By(){return m.useContext(Mc)}function Fy(){return By()!==null}function oI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}function ts(e,t,n,r,o){const a=m.useRef(null);let u;a.current===null?(u={hasValue:!1,value:null},a.current=u):u=a.current;const[l,f]=m.useMemo(()=>{let p=!1,v,y;const C=O=>{if(!p){p=!0,v=O;const F=r(O);if(o!==void 0&&u.hasValue){const L=u.value;if(o(L,F))return y=L,L}return y=F,F}const A=v,P=y;if(oI(A,O))return P;const R=r(O);return o!==void 0&&o(P,R)?(v=O,P):(v=O,y=R,R)},x=n===void 0?null:n;return[()=>C(t()),x===null?void 0:()=>C(x())]},[t,n,r,o]),d=m.useSyncExternalStore(e,l,f);return m.useEffect(()=>{u.hasValue=!0,u.value=d},[d]),m.useDebugValue(d),d}var iI=e=>e;function ns(e,t,n){return ts(e.subscribe,e.get,e.get,t??iI,n)}var Pu=1e3,np=60*Pu,ti={SMOOTH_DELAY:1*Pu,ROOM_THREADS_POLL_INTERVAL:5*np,ROOM_THREADS_MAX_STALE_TIME:5*Pu,HISTORY_VERSIONS_POLL_INTERVAL:1*np,HISTORY_VERSIONS_MAX_STALE_TIME:5*Pu,ROOM_SUBSCRIPTION_SETTINGS_POLL_INTERVAL:1*np,ROOM_SUBSCRIPTION_SETTINGS_MAX_STALE_TIME:5*Pu},jc=Object.freeze({isLoading:!0}),_y=e=>Object.freeze({isLoading:!1,error:e});function ca(e,t){return arguments.length===1?Object.freeze({isLoading:!1,data:e}):Object.freeze({isLoading:!1,[e]:t})}function sI(e,t){for(const n of e)if(t(n))return n}function fa(){if(typeof window>"u")throw new Error(`You cannot use the Suspense version of Liveblocks hooks server side. Make sure to only call them client side by using a ClientSideSuspense wrapper.
For tips, see https://liveblocks.io/docs/api-reference/liveblocks-react#ClientSideSuspense`)}function da(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e},[e]),t}var aI=e=>e;function rp(e){return m.useReducer(aI,e)[0]}var ha=(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function op(e){const t=new Set;t.add("constructor");let n=e.constructor.prototype;do for(const r of Reflect.ownKeys(n)){if(t.has(r))continue;const o=Reflect.getOwnPropertyDescriptor(n,r);typeof(o==null?void 0:o.value)=="function"&&(t.add(r),e[r]=e[r].bind(e))}while((n=Reflect.getPrototypeOf(n))&&n!==Object.prototype)}function uI(e){return t=>lI(t,e)&&cI(t,e)}function lI(e,t){return t.resolved===void 0||e.resolved===t.resolved}function cI(e,t){const n=e.metadata;return t.metadata===void 0||Object.entries(t.metadata).every(([r,o])=>o===void 0||fI(n[r],o))}function fI(e,t){return t===null?e===void 0:Lh(t)?typeof e=="string"&&e.startsWith(t.startsWith):e===t}function dI(e){return e.deletedAt&&e.comments.length>0?{...e,comments:[]}:e.comments.some(n=>!n.deletedAt)?e:{...e,deletedAt:new Date,comments:[]}}var hI=(Wa=class{constructor(){Re(this,so);Re(this,No);Re(this,Bo);yt(this,"signal");ge(this,No,Ny.from([],(t,n)=>{const r=t.createdAt,o=n.createdAt;return r<o?!0:r===o?t.id<n.id:!1})),ge(this,Bo,Ny.from([],(t,n)=>{const r=n.updatedAt,o=t.updatedAt;return r<o?!0:r===o?n.id<t.id:!1})),ge(this,so,new Map),this.signal=new Qo(this)}clone(){const t=new Wa;return ge(t,so,new Map(k(this,so))),ge(t,No,k(this,No).clone()),ge(t,Bo,k(this,Bo).clone()),t}get(t){const n=this.getEvenIfDeleted(t);return n!=null&&n.deletedAt?void 0:n}getEvenIfDeleted(t){return k(this,so).get(t)}upsert(t){this.signal.mutate(()=>{t=dI(t);const n=t.id,r=k(this,so).get(n);if(r){if(r.deletedAt)return!1;k(this,No).remove(r),k(this,Bo).remove(r)}return t.deletedAt||(k(this,No).add(t),k(this,Bo).add(t)),k(this,so).set(n,t),!0})}upsertIfNewer(t){const n=this.get(t.id);(!n||t.updatedAt>=n.updatedAt)&&this.upsert(t)}applyDelta(t,n){gn(()=>{for(const r of t)this.upsertIfNewer(r);for(const{id:r,deletedAt:o}of n)this.getEvenIfDeleted(r)&&this.delete(r,o)})}delete(t,n){const r=k(this,so).get(t);r&&!r.deletedAt&&this.upsert({...r,deletedAt:n,updatedAt:n})}findMany(t,n,r){const o=r==="desc"?k(this,Bo):k(this,No),a=[];return t!==void 0&&a.push(u=>u.roomId===t),n!==void 0&&a.push(uI(n)),Array.from(o.filter(u=>a.every(l=>l(u))))}},so=new WeakMap,No=new WeakMap,Bo=new WeakMap,Wa);function My(e,t){return ea([e,t??{}])}function jy(e){if("status"in e)return e;const t=e;return t.status="pending",t.then(n=>{t.status="fulfilled",t.value=n},n=>{t.status="rejected",t.reason=n}),t}var pI=Promise.resolve(),ip=($A=class{constructor(e){Re(this,Ai);Re(this,Kn);yt(this,"signal");Re(this,Va);Re(this,Si);Re(this,Oi,null);ge(this,Kn,new jr(jc)),ge(this,Va,e),ge(this,Si,null),this.signal=k(this,Kn).asReadonly(),op(this)}get(){return k(this,Kn).get()}fetchMore(){var t;return(t=k(this,Kn).get().data)!=null&&t.cursor?(k(this,Si)||ge(this,Si,je(this,Ai,Nk).call(this).finally(()=>{ge(this,Si,null)})),k(this,Si)):pI}waitUntilLoaded(){if(k(this,Oi))return k(this,Oi);const e=Au(()=>k(this,Va).call(this,void 0),5,[5e3,5e3,1e4,15e3]),t=jy(e);return t.then(n=>{k(this,Kn).set(ca({cursor:n,hasFetchedAll:n===null,isFetchingMore:!1,fetchMoreError:void 0,fetchMore:this.fetchMore}))},n=>{k(this,Kn).set(_y(n)),setTimeout(()=>{ge(this,Oi,null),k(this,Kn).set(jc)},5e3)}),ge(this,Oi,t),k(this,Oi)}},Kn=new WeakMap,Va=new WeakMap,Si=new WeakMap,Ai=new WeakSet,Oh=function(e){const t=k(this,Kn).get();t.data!==void 0&&k(this,Kn).set(ca({...t.data,...e}))},Nk=async function(){var t;const e=k(this,Kn).get();if(!(!((t=e.data)!=null&&t.cursor)||e.data.isFetchingMore)){je(this,Ai,Oh).call(this,{isFetchingMore:!0});try{const n=await k(this,Va).call(this,e.data.cursor);je(this,Ai,Oh).call(this,{cursor:n,hasFetchedAll:n===null,fetchMoreError:void 0,isFetchingMore:!1})}catch(n){je(this,Ai,Oh).call(this,{isFetchingMore:!1,fetchMoreError:n})}}},Oi=new WeakMap,$A),sp=(zA=class{constructor(e){Re(this,Fo);yt(this,"signal");Re(this,Fl);Re(this,As,null);ge(this,Fo,new jr(jc)),this.signal=k(this,Fo).asReadonly(),ge(this,Fl,e),op(this)}get(){return k(this,Fo).get()}waitUntilLoaded(){if(k(this,As))return k(this,As);const e=Au(()=>k(this,Fl).call(this),5,[5e3,5e3,1e4,15e3]),t=jy(e);return t.then(()=>{k(this,Fo).set(ca(void 0))},n=>{k(this,Fo).set(_y(n)),setTimeout(()=>{ge(this,As,null),k(this,Fo).set(jc)},5e3)}),ge(this,As,t),t}},Fo=new WeakMap,Fl=new WeakMap,As=new WeakMap,zA);function mI(){const e=new Qo(new Map);function t(f,d){e.mutate(p=>{const v=p.get(f);return v?(p.set(f,{...v,readAt:d}),!0):!1})}function n(f){e.mutate(d=>{for(const p of d.values())p.readAt=f})}function r(f){e.mutate(d=>d.delete(f))}function o(){e.mutate(f=>f.clear())}function a(f,d){e.mutate(p=>{let v=!1;for(const y of f){const C=p.get(y.id);C&&OI(C,y)===1||(p.set(y.id,y),v=!0)}for(const y of d)p.delete(y.id),v=!0;return v})}function u(f){e.mutate(d=>{const p=sI(d.values(),v=>v.kind==="thread"&&v.threadId===f.threadId);return p?(d.set(p.id,{...p,notifiedAt:f.createdAt,readAt:f.createdAt}),!0):!1})}function l(f){e.mutate(d=>{d.set(f.id,f)})}return{signal:e.asReadonly(),markAllRead:n,markRead:t,delete:r,applyDelta:a,clear:o,updateAssociatedNotification:u,upsert:l}}function vI(e,t){const n=new Qo(new Map);function r(u,l){n.mutate(f=>{let d=!1;for(const p of u)f.set(la(p),p),d=!0;for(const p of l)f.delete(la(p)),d=!0;return d})}function o(u){n.mutate(l=>{l.set(la(u),u)})}function a(u){n.mutate(l=>{l.delete(u)})}return{signal:Gt.from(n,e,(u,l)=>SI(u,t,l)),applyDelta:r,create:o,delete:a}}function gI(e){const t=new Qo(new Map);function n(r,o){t.mutate(a=>{a.set(r,o)})}return{signal:Gt.from(t,e,(r,o)=>xI(r,o)),update:n}}function yI(){const e=new Qo(new hr(()=>new Map));function t(n,r){e.mutate(o=>{const a=o.getOrCreate(n);for(const u of r)a.set(u.id,u)})}return{signal:Gt.from(e,n=>Object.fromEntries([...n].map(([r,o])=>[r,Object.fromEntries(o)]))),update:t}}function bI(){const e=new Qo(new hr(()=>new Set));function t(n){e.mutate(r=>{for(const[o,a]of Object.entries(n)){const u=r.getOrCreate(o);for(const l of a)u.add(l)}})}return{signal:e.asReadonly(),update:t}}function wI(e){const t=new jr(Ic({}));function n(r){t.set(r)}return{signal:Gt.from(t,e,(r,o)=>AI(r,o)),update:n}}function CI(e){const t=new jr([]),n=e[rt].createSyncSource();t.subscribe(()=>n.setSyncStatus(t.get().length>0?"synchronizing":"synchronized"));function r(a){const u=ta(),l={...a,id:u};return t.set(f=>[...f,l]),u}function o(a){t.set(u=>u.filter(l=>l.id!==a))}return{signal:t.asReadonly(),add:r,remove:o}}var EI=(UA=class{constructor(e){Re(this,_o);Re(this,an);yt(this,"threads");yt(this,"notifications");yt(this,"subscriptions");yt(this,"roomSubscriptionSettings");yt(this,"historyVersions");yt(this,"permissionHints");yt(this,"notificationSettings");yt(this,"optimisticUpdates");yt(this,"outputs");Re(this,Ti,null);Re(this,Ka);Re(this,Os,new Map);Re(this,qa,null);Re(this,Ts,new Map);Re(this,Ga);ge(this,an,e[rt].as()),this.optimisticUpdates=CI(k(this,an)),this.permissionHints=bI(),ge(this,Ka,new ip(async y=>{const C=await k(this,an).getInboxNotifications({cursor:y});return this.updateThreadifications(C.threads,C.inboxNotifications,C.subscriptions),k(this,Ti)===null&&ge(this,Ti,C.requestedAt),C.nextCursor}));const t=async()=>{const y=await k(this,an).getNotificationSettings();this.notificationSettings.update(y)};this.notificationSettings=wI(this.optimisticUpdates.signal),ge(this,Ga,new sp(t)),this.threads=new hI,this.subscriptions=vI(this.optimisticUpdates.signal,this.threads),this.notifications=mI(),this.roomSubscriptionSettings=gI(this.optimisticUpdates.signal),this.historyVersions=yI();const n=Gt.from(this.threads.signal,this.notifications.signal,this.optimisticUpdates.signal,(y,C,x)=>DI(y,C,x)),r=Gt.from(n,y=>y.threadsDB),o=Gt.from(n,y=>({sortedNotifications:y.sortedNotifications,notificationsById:y.notificationsById}),mr),a=Gt.from(o,this.subscriptions.signal,(y,C)=>({subscriptions:C,notifications:y.sortedNotifications})),u=new hr(y=>{const C=JSON.parse(y),x=new ip(async b=>{const O=await k(this,an)[rt].httpClient.getUserThreads_experimental({cursor:b,query:C});return this.updateThreadifications(O.threads,O.inboxNotifications,O.subscriptions),this.permissionHints.update(O.permissionHints),k(this,qa)===null&&ge(this,qa,O.requestedAt),O.nextCursor});return{signal:Gt.from(()=>{const b=x.get();if(b.isLoading||b.error)return b;const O=this.outputs.threads.get().findMany(void 0,C??{},"desc"),A=b.data;return{isLoading:!1,threads:O,hasFetchedAll:A.hasFetchedAll,isFetchingMore:A.isFetchingMore,fetchMoreError:A.fetchMoreError,fetchMore:A.fetchMore}},Iy),waitUntilLoaded:x.waitUntilLoaded}}),l=new hr(y=>{const[C,x]=JSON.parse(y),E=new ip(async O=>{const A=await k(this,an)[rt].httpClient.getThreads({roomId:C,cursor:O,query:x});this.updateThreadifications(A.threads,A.inboxNotifications,A.subscriptions),this.permissionHints.update(A.permissionHints);const P=k(this,Os).get(C);return(P===void 0||P>A.requestedAt)&&k(this,Os).set(C,A.requestedAt),A.nextCursor});return{signal:Gt.from(()=>{const O=E.get();if(O.isLoading||O.error)return O;const A=this.outputs.threads.get().findMany(C,x??{},"asc"),P=O.data;return{isLoading:!1,threads:A,hasFetchedAll:P.hasFetchedAll,isFetchingMore:P.isFetchingMore,fetchMoreError:P.fetchMoreError,fetchMore:P.fetchMore}},Iy),waitUntilLoaded:E.waitUntilLoaded}}),f={signal:Gt.from(()=>{const C=k(this,Ka).get();if(C.isLoading||C.error)return C;const x=C.data;return{isLoading:!1,inboxNotifications:this.outputs.notifications.get().sortedNotifications,hasFetchedAll:x.hasFetchedAll,isFetchingMore:x.isFetchingMore,fetchMoreError:x.fetchMoreError,fetchMore:x.fetchMore}}),waitUntilLoaded:k(this,Ka).waitUntilLoaded},d=new hr(y=>{const C=new sp(async()=>{const E=k(this,an).getRoom(y);if(E===null)throw new Error(`Room '${y}' is not available on client`);const b=await E.getSubscriptionSettings();this.roomSubscriptionSettings.update(y,b)});return{signal:Gt.from(()=>{const E=C.get();return E.isLoading||E.error?E:ca("settings",We(this.roomSubscriptionSettings.signal.get()[y]))},mr),waitUntilLoaded:C.waitUntilLoaded}}),p=new hr(y=>{const C=new sp(async()=>{const E=k(this,an).getRoom(y);if(E===null)throw new Error(`Room '${y}' is not available on client`);const b=await E[rt].listTextVersions();this.historyVersions.update(y,b.versions);const O=k(this,Ts).get(y);(O===void 0||O>b.requestedAt)&&k(this,Ts).set(y,b.requestedAt)});return{signal:Gt.from(()=>{const E=C.get();return E.isLoading||E.error?E:ca("versions",Object.values(this.historyVersions.signal.get()[y]??{}))},mr),waitUntilLoaded:C.waitUntilLoaded}}),v={signal:Gt.from(()=>{const y=k(this,Ga).get();return y.isLoading||y.error?y:ca("settings",We(this.notificationSettings.signal.get()))},mr),waitUntilLoaded:k(this,Ga).waitUntilLoaded};this.outputs={threadifications:n,threads:r,loadingRoomThreads:l,loadingUserThreads:u,notifications:o,loadingNotifications:f,roomSubscriptionSettingsByRoomId:d,versionsByRoomId:p,notificationSettings:v,threadSubscriptions:a},op(this)}markInboxNotificationRead(e,t,n){gn(()=>{this.optimisticUpdates.remove(n),this.notifications.markRead(e,t)})}markAllInboxNotificationsRead(e,t){gn(()=>{this.optimisticUpdates.remove(e),this.notifications.markAllRead(t)})}deleteInboxNotification(e,t){gn(()=>{this.optimisticUpdates.remove(t),this.notifications.delete(e)})}deleteAllInboxNotifications(e){gn(()=>{this.optimisticUpdates.remove(e),this.notifications.clear()})}createSubscription(e,t){gn(()=>{this.optimisticUpdates.remove(t),this.subscriptions.create(e)})}deleteSubscription(e,t){gn(()=>{this.optimisticUpdates.remove(t),this.subscriptions.delete(e)})}createThread(e,t){gn(()=>{this.optimisticUpdates.remove(e),this.threads.upsert(t)})}patchThread(e,t,n,r){return je(this,_o,Zs).call(this,e,t,o=>({...o,...Su(n)}),r)}addReaction(e,t,n,r,o){je(this,_o,Zs).call(this,e,t,a=>$y(a,n,r),o)}removeReaction(e,t,n,r,o,a){je(this,_o,Zs).call(this,e,t,u=>zy(u,n,r,o,a),a)}deleteThread(e,t){return je(this,_o,Zs).call(this,e,t,n=>({...n,updatedAt:new Date,deletedAt:new Date}))}createComment(e,t){gn(()=>{this.optimisticUpdates.remove(t);const n=this.threads.get(e.threadId);n&&(this.threads.upsert(Lc(n,e)),this.notifications.updateAssociatedNotification(e))})}editComment(e,t,n){return je(this,_o,Zs).call(this,e,t,r=>Lc(r,n))}deleteComment(e,t,n,r){return je(this,_o,Zs).call(this,e,t,o=>Ly(o,n,r),r)}updateThreadifications(e,t,n,r=[],o=[],a=[]){gn(()=>{this.threads.applyDelta(e,r),this.notifications.applyDelta(t,o),this.subscriptions.applyDelta(n,a)})}updateRoomSubscriptionSettings(e,t,n){gn(()=>{this.optimisticUpdates.remove(t),this.roomSubscriptionSettings.update(e,n)})}async fetchNotificationsDeltaUpdate(e){const t=k(this,Ti);if(t===null)return;const n=await k(this,an).getInboxNotificationsSince({since:t,signal:e});t<n.requestedAt&&ge(this,Ti,n.requestedAt),this.updateThreadifications(n.threads.updated,n.inboxNotifications.updated,n.subscriptions.updated,n.threads.deleted,n.inboxNotifications.deleted,n.subscriptions.deleted)}async fetchRoomThreadsDeltaUpdate(e,t){const n=k(this,Os).get(e);if(n===void 0)return;const r=await k(this,an)[rt].httpClient.getThreadsSince({roomId:e,since:n,signal:t});this.updateThreadifications(r.threads.updated,r.inboxNotifications.updated,r.subscriptions.updated,r.threads.deleted,r.inboxNotifications.deleted,r.subscriptions.deleted),this.permissionHints.update(r.permissionHints),n<r.requestedAt&&k(this,Os).set(e,r.requestedAt)}async fetchUserThreadsDeltaUpdate(e){const t=k(this,qa);if(t===null)return;const n=await k(this,an)[rt].httpClient.getUserThreadsSince_experimental({since:t,signal:e});t<n.requestedAt&&ge(this,Ti,n.requestedAt),this.updateThreadifications(n.threads.updated,n.inboxNotifications.updated,n.subscriptions.updated,n.threads.deleted,n.inboxNotifications.deleted,n.subscriptions.deleted),this.permissionHints.update(n.permissionHints)}async fetchRoomVersionsDeltaUpdate(e,t){const n=k(this,Ts).get(e);if(n===void 0)return;const o=await We(k(this,an).getRoom(e),`Room with id ${e} is not available on client`)[rt].listTextVersionsSince({since:n,signal:t});this.historyVersions.update(e,o.versions),n<o.requestedAt&&k(this,Ts).set(e,o.requestedAt)}async refreshRoomSubscriptionSettings(e,t){const r=await We(k(this,an).getRoom(e),`Room with id ${e} is not available on client`).getSubscriptionSettings({signal:t});this.roomSubscriptionSettings.update(e,r)}async refreshNotificationSettings(e){const t=await k(this,an).getNotificationSettings({signal:e});this.notificationSettings.update(t)}updateNotificationSettings_confirmOptimisticUpdate(e,t){gn(()=>{this.optimisticUpdates.remove(t),this.notificationSettings.update(e)})}},an=new WeakMap,Ti=new WeakMap,Ka=new WeakMap,Os=new WeakMap,qa=new WeakMap,Ts=new WeakMap,Ga=new WeakMap,_o=new WeakSet,Zs=function(e,t,n,r){gn(()=>{t!==null&&this.optimisticUpdates.remove(t);const o=this.threads,a=o.get(e);a&&(r&&a.updatedAt>r||o.upsert(n(a)))})},UA);function DI(e,t,n){const r=e.clone();let o=Object.fromEntries(t);for(const u of n)switch(u.type){case"create-thread":{r.upsert(u.thread);break}case"edit-thread-metadata":{const l=r.get(u.threadId);if(l===void 0||l.updatedAt>u.updatedAt)break;r.upsert({...l,updatedAt:u.updatedAt,metadata:{...l.metadata,...u.metadata}});break}case"mark-thread-as-resolved":{const l=r.get(u.threadId);if(l===void 0)break;r.upsert({...l,resolved:!0});break}case"mark-thread-as-unresolved":{const l=r.get(u.threadId);if(l===void 0)break;r.upsert({...l,resolved:!1});break}case"create-comment":{const l=r.get(u.comment.threadId);if(l===void 0)break;r.upsert(Lc(l,u.comment));const f=Object.values(o).find(d=>d.kind==="thread"&&d.threadId===l.id);if(f===void 0)break;o[f.id]={...f,notifiedAt:u.comment.createdAt,readAt:u.comment.createdAt};break}case"edit-comment":{const l=r.get(u.comment.threadId);if(l===void 0)break;r.upsert(Lc(l,u.comment));break}case"delete-comment":{const l=r.get(u.threadId);if(l===void 0)break;r.upsert(Ly(l,u.commentId,u.deletedAt));break}case"delete-thread":{const l=r.get(u.threadId);if(l===void 0)break;r.upsert({...l,deletedAt:u.deletedAt,updatedAt:u.deletedAt,comments:[]});break}case"add-reaction":{const l=r.get(u.threadId);if(l===void 0)break;r.upsert($y(l,u.commentId,u.reaction));break}case"remove-reaction":{const l=r.get(u.threadId);if(l===void 0)break;r.upsert(zy(l,u.commentId,u.emoji,u.userId,u.removedAt));break}case"mark-inbox-notification-as-read":{const l=o[u.inboxNotificationId];if(l===void 0)break;o[u.inboxNotificationId]={...l,readAt:u.readAt};break}case"mark-all-inbox-notifications-as-read":{for(const l in o){const f=o[l];if(f===void 0)break;o[l]={...f,readAt:u.readAt}}break}case"delete-inbox-notification":{delete o[u.inboxNotificationId];break}case"delete-all-inbox-notifications":{o={};break}}return{sortedNotifications:Object.values(o).filter(u=>u.kind==="thread"?r.get(u.threadId)!==void 0:!0).sort((u,l)=>l.notifiedAt.getTime()-u.notifiedAt.getTime()),notificationsById:o,threadsDB:r}}function xI(e,t){const n=Object.fromEntries(e);for(const r of t)switch(r.type){case"update-room-subscription-settings":{const o=n[r.roomId];if(o===void 0)break;n[r.roomId]={...o,...r.settings}}}return n}function SI(e,t,n){const r=Object.fromEntries(e);for(const o of n)switch(o.type){case"update-room-subscription-settings":{if(!o.settings.threads)continue;const a=t.findMany(o.roomId,void 0,"desc");for(const u of a){const l=la("thread",u.id);switch(o.settings.threads){case"all":{r[l]={kind:"thread",subjectId:u.id,createdAt:new Date};break}case"none":{delete r[l];break}case"replies_and_mentions":{kI(u,o.userId)&&!r[l]&&(r[l]={kind:"thread",subjectId:u.id,createdAt:new Date});break}default:jn(o.settings.threads,"Unexpected thread subscription settings.")}}}}return r}function AI(e,t){let n=e;for(const r of t)r.type==="update-notification-settings"&&(n=zR(n,r.settings));return n}function OI(e,t){return e.notifiedAt>t.notifiedAt?1:e.notifiedAt<t.notifiedAt?-1:e.readAt&&t.readAt?e.readAt>t.readAt?1:e.readAt<t.readAt?-1:0:e.readAt||t.readAt?e.readAt?1:-1:0}function Lc(e,t){var r;if(e.deletedAt!==void 0)return e;if(t.threadId!==e.id)return Xo.warn(`Comment ${t.id} does not belong to thread ${e.id}`),e;const n=e.comments.find(o=>o.id===t.id);if(n===void 0){const o=new Date(Math.max(e.updatedAt.getTime(),t.createdAt.getTime()));return{...e,updatedAt:o,comments:[...e.comments,t]}}if(n.deletedAt!==void 0)return e;if(n.editedAt===void 0||t.editedAt===void 0||n.editedAt<=t.editedAt){const o=e.comments.map(u=>u.id===t.id?t:u);return{...e,updatedAt:new Date(Math.max(e.updatedAt.getTime(),((r=t.editedAt)==null?void 0:r.getTime())||t.createdAt.getTime())),comments:o}}return e}function Ly(e,t,n){if(e.deletedAt!==void 0)return e;const r=e.comments.find(a=>a.id===t);if(r===void 0||r.deletedAt!==void 0)return e;const o=e.comments.map(a=>a.id===t?{...a,deletedAt:n,body:void 0,attachments:[]}:a);return o.every(a=>a.deletedAt!==void 0)?{...e,deletedAt:n,updatedAt:n}:{...e,updatedAt:n,comments:o}}function $y(e,t,n){if(e.deletedAt!==void 0)return e;const r=e.comments.find(a=>a.id===t);if(r===void 0||r.deletedAt!==void 0)return e;const o=e.comments.map(a=>a.id===t?{...a,reactions:TI(a.reactions,n)}:a);return{...e,updatedAt:new Date(Math.max(n.createdAt.getTime(),e.updatedAt.getTime())),comments:o}}function zy(e,t,n,r,o){if(e.deletedAt!==void 0)return e;const a=e.comments.find(l=>l.id===t);if(a===void 0||a.deletedAt!==void 0)return e;const u=e.comments.map(l=>l.id===t?{...l,reactions:l.reactions.map(f=>f.emoji===n?{...f,users:f.users.filter(d=>d.id!==r)}:f).filter(f=>f.users.length>0)}:l);return{...e,updatedAt:new Date(Math.max(o.getTime(),e.updatedAt.getTime())),comments:u}}function TI(e,t){const n=e.find(r=>r.emoji===t.emoji);return n===void 0?[...e,{emoji:t.emoji,createdAt:t.createdAt,users:[{id:t.userId}]}]:n.users.some(r=>r.id===t.userId)===!1?e.map(r=>r.emoji===t.emoji?{...r,users:[...r.users,{id:t.userId}]}:r):e}function kI(e,t){let n=!1;for(const r of e.comments){if(r.deletedAt)continue;if(r.userId===t){n=!0;break}if(KP(r.body).includes(t)){n=!0;break}}return n}var Uy=m.createContext(null);function Hy(e){return new Error(`resolveUsers didn't return anything for user '${e}'`)}function Wy(e){return new Error(`resolveRoomsInfo didn't return anything for room '${e}'`)}var Vy=new WeakMap;function RI(e,t){return e===void 0||e!=null&&e.isLoading?e??{isLoading:!0}:e.error?e:e.data?{isLoading:!1,user:e.data}:{isLoading:!1,error:Hy(t)}}function PI(e,t){return e===void 0||e!=null&&e.isLoading?e??{isLoading:!0}:e.error?e:e.data?{isLoading:!1,info:e.data}:{isLoading:!1,error:Wy(t)}}function II(e){let t=Vy.get(e);return t||(t=new EI(e),Vy.set(e,t)),t}function Ky(e,t){const n=e[rt].usersStore,r=m.useCallback(()=>n.getItemState(t),[n,t]),o=m.useCallback(u=>RI(u,t),[t]),a=ts(n.subscribe,r,r,o,mr);return m.useEffect(()=>void n.enqueue(t)),a}function NI(e,t){const n=e[rt].usersStore,r=m.useCallback(()=>n.getItemState(t),[n,t]),o=r();if(!o||o.isLoading)throw n.enqueue(t);if(o.error)throw o.error;if(!o.data)throw Hy(t);const a=m.useSyncExternalStore(n.subscribe,r,r);return a.isLoading,a.error,{isLoading:!1,user:a.data,error:void 0}}function BI(e,t){const n=e[rt].roomsInfoStore,r=m.useCallback(()=>n.getItemState(t),[n,t]),o=m.useCallback(u=>PI(u,t),[t]),a=ts(n.subscribe,r,r,o,mr);return m.useEffect(()=>void n.enqueue(t)),a}function FI(e,t){const n=e[rt].roomsInfoStore,r=m.useCallback(()=>n.getItemState(t),[n,t]),o=r();if(!o||o.isLoading)throw n.enqueue(t);if(o.error)throw o.error;if(!o.data)throw Wy(t);const a=m.useSyncExternalStore(n.subscribe,r,r);return a.isLoading,a.error,a.data,{isLoading:!1,info:a.data,error:void 0}}function _I(e){const t=()=>e;function n(r){return $I(e,r)}return{classic:{useClient:t,useUser:r=>Ky(e,r),useRoomInfo:r=>BI(e,r),useIsInsideRoom:Fy,useErrorListener:Gy,useSyncStatus:n},suspense:{useClient:t,useUser:r=>NI(e,r),useRoomInfo:r=>FI(e,r),useIsInsideRoom:Fy,useErrorListener:Gy,useSyncStatus:n}}}function MI(e){const t=ap();if(!(e!=null&&e.allowNesting)&&t!==null)throw new Error("You cannot nest multiple LiveblocksProvider instances in the same React tree.")}function ap(){return m.useContext(Uy)}function at(){return ap()??mo("LiveblocksProvider is missing from the React tree.")}function jI(e){return MI(e),w.jsx(Uy.Provider,{value:e.client,children:e.children})}function LI(e){const t=at();return Ky(t,e)}var qy=LI;function $I(e,t){return rp((t==null?void 0:t.smooth)??!1)?UI(e):zI(e)}function zI(e){return m.useSyncExternalStore(e.events.syncStatus.subscribe,e.getSyncStatus,e.getSyncStatus)}function UI(e){const t=e.getSyncStatus,[n,r]=m.useState(t),o=da(t());return m.useEffect(()=>{let a;const u=e.events.syncStatus.subscribe(()=>{const l=t();o.current==="synchronizing"&&l==="synchronized"?a=setTimeout(()=>r(l),ti.SMOOTH_DELAY):(clearTimeout(a),r(l))});return()=>{clearTimeout(a),u()}},[e,t,o]),n}function Gy(e){const t=at(),n=da(e);m.useEffect(()=>t.events.error.subscribe(r=>n.current(r)),[t,n])}function HI(e,t){if(e===!1||!t.threads||!(typeof window<"u"))return;const o=window.location.hash.slice(1);if(!o.startsWith("cm_"))return;const a=document.getElementById(o);a===null||!t.threads.flatMap(f=>f.comments).some(f=>f.id===o)||a.scrollIntoView()}function WI(e,t){m.useEffect(()=>{HI(e,t)},[t.isLoading])}var VI=()=>{},Yy=e=>e,KI=Object.freeze([]);function qI(){return KI}function up(){return null}function GI(e){return e.map(t=>t.connectionId)}function YI(e){const t="This mutation cannot be used until",n=`${t} connected to the Liveblocks room`,r=`${t} storage has been loaded`;return{get storage(){const o=e.getStorageSnapshot();if(o===null)throw new Error(r);return o},get self(){const o=e.getSelf();if(o===null)throw new Error(n);return o},get others(){const o=e.getOthers();if(e.getSelf()===null)throw new Error(n);return o},setMyPresence:e.updatePresence}}function rs(e){const t=e[rt].currentUserId.get();return t===void 0?"anonymous":t}var Xy=new WeakMap,Zy=new WeakMap;function XI(e){let t=Zy.get(e);return t||(t=QI(e),Zy.set(e,t)),t}function xt(e){let t=Xy.get(e);return t||(t=ZI(e),Xy.set(e,t)),t}function ZI(e){const t=II(e);function n(u,l,f){var d,p;if(t.optimisticUpdates.remove(u),f instanceof Qs){if(f.status===403){const v=[f.message,(d=f.details)==null?void 0:d.suggestion,(p=f.details)==null?void 0:p.docs].filter(Boolean).join(`
`);Xo.error(v)}e[rt].emitError(l,f)}else throw f}const r=new hr(u=>tp(async l=>{try{return await t.fetchRoomThreadsDeltaUpdate(u,l)}catch(f){throw Xo.warn(`Polling new threads for '${u}' failed: ${String(f)}`),f}},ti.ROOM_THREADS_POLL_INTERVAL,{maxStaleTimeMs:ti.ROOM_THREADS_MAX_STALE_TIME})),o=new hr(u=>tp(async l=>{try{return await t.fetchRoomVersionsDeltaUpdate(u,l)}catch(f){throw Xo.warn(`Polling new history versions for '${u}' failed: ${String(f)}`),f}},ti.HISTORY_VERSIONS_POLL_INTERVAL,{maxStaleTimeMs:ti.HISTORY_VERSIONS_MAX_STALE_TIME})),a=new hr(u=>tp(async l=>{try{return await t.refreshRoomSubscriptionSettings(u,l)}catch(f){throw Xo.warn(`Polling subscription settings for '${u}' failed: ${String(f)}`),f}},ti.ROOM_SUBSCRIPTION_SETTINGS_POLL_INTERVAL,{maxStaleTimeMs:ti.ROOM_SUBSCRIPTION_SETTINGS_MAX_STALE_TIME}));return{store:t,onMutationFailure:n,pollThreadsForRoomId:u=>{const l=r.getOrCreate(u);l&&(l.markAsStale(),l.pollNowIfStale())},getOrCreateThreadsPollerForRoomId:r.getOrCreate.bind(r),getOrCreateVersionsPollerForRoomId:o.getOrCreate.bind(o),getOrCreateSubscriptionSettingsPollerForRoomId:a.getOrCreate.bind(a)}}function QI(e){function t(o){return w.jsx(jI,{client:e,allowNesting:!0,children:w.jsx(JI,{...o})})}const n=_I(e),r={RoomContext:Mc,RoomProvider:t,useRoom:Ye,useStatus:Qy,useStorageStatus:Jy,useBatch:eb,useBroadcastEvent:tb,useOthersListener:nb,useLostConnectionListener:rb,useEventListener:ob,useHistory:$c,useUndo:ib,useRedo:sb,useCanRedo:ub,useCanUndo:ab,useStorageRoot:vb,useStorage:gb,useSelf:lb,useMyPresence:cb,useUpdateMyPresence:fb,useOthers:Iu,useOthersMapped:db,useOthersConnectionIds:hb,useOther:pb,useMutation:yb,useThreads:bb,useCreateThread:wb,useDeleteThread:Eb,useEditThreadMetadata:Db,useMarkThreadAsResolved:Nb,useMarkThreadAsUnresolved:Fb,useSubscribeToThread:Mb,useUnsubscribeFromThread:Lb,useCreateComment:xb,useEditComment:Ab,useDeleteComment:Ob,useAddReaction:kb,useRemoveReaction:Rb,useMarkThreadAsRead:Pb,useThreadSubscription:zb,useAttachmentUrl:bN,useHistoryVersions:Vb,useHistoryVersionData:uN,useRoomNotificationSettings:Hb,useRoomSubscriptionSettings:Wb,useUpdateRoomNotificationSettings:hp,useUpdateRoomSubscriptionSettings:pp,...n.classic,suspense:{RoomContext:Mc,RoomProvider:t,useRoom:Ye,useStatus:Qy,useStorageStatus:vN,useBatch:eb,useBroadcastEvent:tb,useOthersListener:nb,useLostConnectionListener:rb,useEventListener:ob,useHistory:$c,useUndo:ib,useRedo:sb,useCanRedo:ub,useCanUndo:ab,useStorageRoot:vb,useStorage:mN,useSelf:cN,useMyPresence:cb,useUpdateMyPresence:fb,useOthers:fN,useOthersMapped:hN,useOthersConnectionIds:dN,useOther:pN,useMutation:yb,useThreads:gN,useCreateThread:wb,useDeleteThread:Eb,useEditThreadMetadata:Db,useMarkThreadAsResolved:Nb,useMarkThreadAsUnresolved:Fb,useSubscribeToThread:Mb,useUnsubscribeFromThread:Lb,useCreateComment:xb,useEditComment:Ab,useDeleteComment:Ob,useAddReaction:kb,useRemoveReaction:Rb,useMarkThreadAsRead:Pb,useThreadSubscription:zb,useAttachmentUrl:wN,useHistoryVersions:lN,useRoomNotificationSettings:sN,useRoomSubscriptionSettings:aN,useUpdateRoomNotificationSettings:hp,useUpdateRoomSubscriptionSettings:pp,...n.suspense}};return Object.defineProperty(r,rt,{enumerable:!1})}function JI(e){const t=at(),[n]=m.useState(()=>new Map),r=m.useCallback((o,a)=>{const u=n.get(o);if(u)return u;const l=t.enterRoom(o,a),f=l.leave;return l.leave=()=>{f(),n.delete(o)},n.set(o,l),l},[t,n]);return w.jsx(eN,{...e,stableEnterRoom:r})}function eN(e){const t=at(),{id:n,stableEnterRoom:r}=e,o=rp({initialPresence:e.initialPresence,initialStorage:e.initialStorage,autoConnect:e.autoConnect??typeof window<"u"}),[{room:a},u]=m.useState(()=>r(n,{...o,autoConnect:!1}));return m.useEffect(()=>{const{store:l}=xt(t);async function f(d){if(d.type===go.THREAD_DELETED){l.deleteThread(d.threadId,null);return}const p=await a.getThread(d.threadId);if(!p.thread){l.deleteThread(d.threadId,null);return}const{thread:v,inboxNotification:y,subscription:C}=p,x=l.outputs.threads.get().getEvenIfDeleted(d.threadId);switch(d.type){case go.COMMENT_EDITED:case go.THREAD_METADATA_UPDATED:case go.THREAD_UPDATED:case go.COMMENT_REACTION_ADDED:case go.COMMENT_REACTION_REMOVED:case go.COMMENT_DELETED:if(!x)break;l.updateThreadifications([v],y?[y]:[],C?[C]:[]);break;case go.COMMENT_CREATED:l.updateThreadifications([v],y?[y]:[],C?[C]:[]);break}}return a.events.comments.subscribe(d=>void f(d))},[t,a]),m.useEffect(()=>{const l=r(n,o);u(l);const{room:f,leave:d}=l;return o.autoConnect&&f.connect(),()=>{d()}},[n,o,r]),w.jsx(Mc.Provider,{value:a,children:e.children})}function Ye(e){const t=By();if(t===null&&!(e!=null&&e.allowOutsideRoom))throw new Error("RoomProvider is missing from the React tree.");return t}function Qy(){const e=Ye(),t=e.events.status.subscribe,n=e.getStatus,r=e.getStatus;return m.useSyncExternalStore(t,n,r)}function lp(){return at()[rt].resolveMentionSuggestions}function tN(){return at()[rt].mentionSuggestionsCache}function Jy(e){return rp((e==null?void 0:e.smooth)??!1)?rN():nN()}function nN(){const e=Ye(),t=e.events.storageStatus.subscribe,n=e.getStorageStatus,r=e.getStorageStatus;return m.useSyncExternalStore(t,n,r)}function rN(){const e=Ye(),[t,n]=m.useState(e.getStorageStatus),r=da(e.getStorageStatus());return m.useEffect(()=>{let o;const a=e.events.storageStatus.subscribe(u=>{r.current==="synchronizing"&&u==="synchronized"?o=setTimeout(()=>n(u),ti.SMOOTH_DELAY):(clearTimeout(o),n(u))});return()=>{clearTimeout(o),a()}},[e,r]),t}function eb(){return Ye().batch}function tb(){const e=Ye();return m.useCallback((t,n={shouldQueueEventIfNotReady:!1})=>{e.broadcastEvent(t,n)},[e])}function nb(e){const t=Ye(),n=da(e);m.useEffect(()=>t.events.others.subscribe(r=>n.current(r)),[t,n])}function rb(e){const t=Ye(),n=da(e);m.useEffect(()=>t.events.lostConnection.subscribe(r=>n.current(r)),[t,n])}function ob(e){const t=Ye(),n=da(e);m.useEffect(()=>{const r=o=>{n.current(o)};return t.events.customEvent.subscribe(r)},[t,n])}function $c(){return Ye().history}function ib(){return $c().undo}function sb(){return $c().redo}function ab(){const e=Ye(),t=e.events.history.subscribe,n=e.history.canUndo;return m.useSyncExternalStore(t,n,n)}function ub(){const e=Ye(),t=e.events.history.subscribe,n=e.history.canRedo;return m.useSyncExternalStore(t,n,n)}function lb(e,t){const n=Ye(),r=n.events.self.subscribe,o=n.getSelf,a=e??Yy,u=m.useCallback(f=>f!==null?a(f):null,[a]);return ts(r,o,up,u,t)}function cb(){const e=Ye(),t=e.events.myPresence.subscribe,n=e.getPresence,r=m.useSyncExternalStore(t,n,n),o=e.updatePresence;return[r,o]}function fb(){return Ye().updatePresence}function Iu(e,t){const n=Ye(),r=n.events.others.subscribe,o=n.getOthers;return ts(r,o,qI,e??Yy,t)}function db(e,t){const n=m.useCallback(o=>o.map(a=>[a.connectionId,e(a)]),[e]),r=m.useCallback((o,a)=>{const u=t??Object.is;return o.length===a.length&&o.every((l,f)=>{const d=a[f];return l[0]===d[0]&&u(l[1],d[1])})},[t]);return Iu(n,r)}function hb(){return Iu(GI,mr)}var zc=Symbol();function pb(e,t,n){const r=m.useCallback(u=>{const l=u.find(f=>f.connectionId===e);return l!==void 0?t(l):zc},[e,t]),o=m.useCallback((u,l)=>u===zc||l===zc?u===l:(n??Object.is)(u,l),[n]),a=Iu(r,o);if(a===zc)throw new Error(`No such other user with connection id ${e} exists`);return a}function mb(){const e=Ye(),t=e.events.storageDidLoad.subscribeOnce,n=e.getStorageSnapshot,r=up;return m.useSyncExternalStore(t,n,r)}function vb(){return[mb()]}function gb(e,t){const n=Ye(),r=mb(),o=m.useCallback(f=>f!==null?e(f):null,[e]),a=m.useCallback(f=>r!==null?n.subscribe(r,f,{isDeep:!0}):VI,[n,r]),u=m.useCallback(()=>r===null?null:r.toImmutable(),[r]);return ts(a,u,up,o,t)}function yb(e,t){const n=Ye();return m.useMemo(()=>(...r)=>n.batch(()=>e(YI(n),...r)),[n,...t])}function bb(e={}){const{scrollOnLoad:t=!0}=e,n=at(),r=Ye(),{store:o,getOrCreateThreadsPollerForRoomId:a}=xt(n),u=My(r.id,e.query),l=a(r.id);m.useEffect(()=>void o.outputs.loadingRoomThreads.getOrCreate(u).waitUntilLoaded()),m.useEffect(()=>(l.inc(),l.pollNowIfStale(),()=>l.dec()),[l]);const f=ns(o.outputs.loadingRoomThreads.getOrCreate(u).signal);return WI(t,f),f}function wb(){return Cb(Ye().id)}function Cb(e){const t=at();return m.useCallback(n=>{const r=n.body,o=n.metadata??{},a=n.attachments,u=ey(),l=kc(),f=new Date,d={id:l,threadId:u,roomId:e,createdAt:f,type:"comment",userId:rs(t),body:r,reactions:[],attachments:a??[]},p={id:u,type:"thread",createdAt:f,updatedAt:f,roomId:e,metadata:o,comments:[d],resolved:!1},{store:v,onMutationFailure:y}=xt(t),C=v.optimisticUpdates.add({type:"create-thread",thread:p,roomId:e}),x=a==null?void 0:a.map(E=>E.id);return t[rt].httpClient.createThread({roomId:e,threadId:u,commentId:l,body:r,metadata:o,attachmentIds:x}).then(E=>{v.createThread(C,E)},E=>y(C,{type:"CREATE_THREAD_ERROR",roomId:e,threadId:u,commentId:l,body:r,metadata:o},E)),p},[t,e])}function Eb(){return oN(Ye().id)}function oN(e){const t=at();return m.useCallback(n=>{var f,d;const{store:r,onMutationFailure:o}=xt(t),a=rs(t),u=r.outputs.threads.get().get(n);if(((d=(f=u==null?void 0:u.comments)==null?void 0:f[0])==null?void 0:d.userId)!==a)throw new Error("Only the thread creator can delete the thread");const l=r.optimisticUpdates.add({type:"delete-thread",roomId:e,threadId:n,deletedAt:new Date});t[rt].httpClient.deleteThread({roomId:e,threadId:n}).then(()=>{r.deleteThread(n,l)},p=>o(l,{type:"DELETE_THREAD_ERROR",roomId:e,threadId:n},p))},[t,e])}function Db(){return iN(Ye().id)}function iN(e){const t=at();return m.useCallback(n=>{if(!n.metadata)return;const r=n.threadId,o=n.metadata,a=new Date,{store:u,onMutationFailure:l}=xt(t),f=u.optimisticUpdates.add({type:"edit-thread-metadata",metadata:o,threadId:r,updatedAt:a});t[rt].httpClient.editThreadMetadata({roomId:e,threadId:r,metadata:o}).then(d=>u.patchThread(r,f,{metadata:d},a),d=>l(f,{type:"EDIT_THREAD_METADATA_ERROR",roomId:e,threadId:r,metadata:o},d))},[t,e])}function xb(){return Sb(Ye().id)}function Sb(e){const t=at();return m.useCallback(({threadId:n,body:r,attachments:o})=>{const a=kc(),l={id:a,threadId:n,roomId:e,type:"comment",createdAt:new Date,userId:rs(t),body:r,reactions:[],attachments:o??[]},{store:f,onMutationFailure:d}=xt(t),p=f.optimisticUpdates.add({type:"create-comment",comment:l}),v=o==null?void 0:o.map(y=>y.id);return t[rt].httpClient.createComment({roomId:e,threadId:n,commentId:a,body:r,attachmentIds:v}).then(y=>{f.createComment(y,p)},y=>d(p,{type:"CREATE_COMMENT_ERROR",roomId:e,threadId:n,commentId:a,body:r},y)),l},[t,e])}function Ab(){return cp(Ye().id)}function cp(e){const t=at();return m.useCallback(({threadId:n,commentId:r,body:o,attachments:a})=>{const u=new Date,{store:l,onMutationFailure:f}=xt(t),d=l.outputs.threads.get().getEvenIfDeleted(n);if(d===void 0){Xo.warn(`Internal unexpected behavior. Cannot edit comment in thread "${n}" because the thread does not exist in the cache.`);return}const p=d.comments.find(C=>C.id===r);if(p===void 0||p.deletedAt!==void 0){Xo.warn(`Internal unexpected behavior. Cannot edit comment "${r}" in thread "${n}" because the comment does not exist in the cache.`);return}const v=l.optimisticUpdates.add({type:"edit-comment",comment:{...p,editedAt:u,body:o,attachments:a??[]}}),y=a==null?void 0:a.map(C=>C.id);t[rt].httpClient.editComment({roomId:e,threadId:n,commentId:r,body:o,attachmentIds:y}).then(C=>{l.editComment(n,v,C)},C=>f(v,{type:"EDIT_COMMENT_ERROR",roomId:e,threadId:n,commentId:r,body:o},C))},[t,e])}function Ob(){return Tb(Ye().id)}function Tb(e){const t=at();return m.useCallback(({threadId:n,commentId:r})=>{const o=new Date,{store:a,onMutationFailure:u}=xt(t),l=a.optimisticUpdates.add({type:"delete-comment",threadId:n,commentId:r,deletedAt:o,roomId:e});t[rt].httpClient.deleteComment({roomId:e,threadId:n,commentId:r}).then(()=>{a.deleteComment(n,l,r,o)},f=>u(l,{type:"DELETE_COMMENT_ERROR",roomId:e,threadId:n,commentId:r},f))},[t,e])}function kb(){return fp(Ye().id)}function fp(e){const t=at();return m.useCallback(({threadId:n,commentId:r,emoji:o})=>{const a=new Date,u=rs(t),{store:l,onMutationFailure:f}=xt(t),d=l.optimisticUpdates.add({type:"add-reaction",threadId:n,commentId:r,reaction:{emoji:o,userId:u,createdAt:a}});t[rt].httpClient.addReaction({roomId:e,threadId:n,commentId:r,emoji:o}).then(p=>{l.addReaction(n,d,r,p,a)},p=>f(d,{type:"ADD_REACTION_ERROR",roomId:e,threadId:n,commentId:r,emoji:o},p))},[t,e])}function Rb(){return dp(Ye().id)}function dp(e){const t=at();return m.useCallback(({threadId:n,commentId:r,emoji:o})=>{const a=rs(t),u=new Date,{store:l,onMutationFailure:f}=xt(t),d=l.optimisticUpdates.add({type:"remove-reaction",threadId:n,commentId:r,emoji:o,userId:a,removedAt:u});t[rt].httpClient.removeReaction({roomId:e,threadId:n,commentId:r,emoji:o}).then(()=>{l.removeReaction(n,d,r,o,a,u)},p=>f(d,{type:"REMOVE_REACTION_ERROR",roomId:e,threadId:n,commentId:r,emoji:o},p))},[t,e])}function Pb(){return Ib(Ye().id)}function Ib(e){const t=at();return m.useCallback(n=>{const{store:r,onMutationFailure:o}=xt(t),a=Object.values(r.outputs.notifications.get().notificationsById).find(f=>f.kind==="thread"&&f.threadId===n);if(!a)return;const u=new Date,l=r.optimisticUpdates.add({type:"mark-inbox-notification-as-read",inboxNotificationId:a.id,readAt:u});t[rt].httpClient.markRoomInboxNotificationAsRead({roomId:e,inboxNotificationId:a.id}).then(()=>{r.markInboxNotificationRead(a.id,u,l)},f=>{o(l,{type:"MARK_INBOX_NOTIFICATION_AS_READ_ERROR",roomId:e,inboxNotificationId:a.id},f)})},[t,e])}function Nb(){return Bb(Ye().id)}function Bb(e){const t=at();return m.useCallback(n=>{const r=new Date,{store:o,onMutationFailure:a}=xt(t),u=o.optimisticUpdates.add({type:"mark-thread-as-resolved",threadId:n,updatedAt:r});t[rt].httpClient.markThreadAsResolved({roomId:e,threadId:n}).then(()=>{o.patchThread(n,u,{resolved:!0},r)},l=>a(u,{type:"MARK_THREAD_AS_RESOLVED_ERROR",roomId:e,threadId:n},l))},[t,e])}function Fb(){return _b(Ye().id)}function _b(e){const t=at();return m.useCallback(n=>{const r=new Date,{store:o,onMutationFailure:a}=xt(t),u=o.optimisticUpdates.add({type:"mark-thread-as-unresolved",threadId:n,updatedAt:r});t[rt].httpClient.markThreadAsUnresolved({roomId:e,threadId:n}).then(()=>{o.patchThread(n,u,{resolved:!1},r)},l=>a(u,{type:"MARK_THREAD_AS_UNRESOLVED_ERROR",roomId:e,threadId:n},l))},[t,e])}function Mb(){return jb(Ye().id)}function jb(e){const t=at();return m.useCallback(n=>{const r=new Date,{store:o,onMutationFailure:a}=xt(t),u=o.optimisticUpdates.add({type:"subscribe-to-thread",threadId:n,subscribedAt:r});t[rt].httpClient.subscribeToThread({roomId:e,threadId:n}).then(l=>{o.createSubscription(l,u)},l=>a(u,{type:"SUBSCRIBE_TO_THREAD_ERROR",roomId:e,threadId:n},l))},[t,e])}function Lb(){return $b(Ye().id)}function $b(e){const t=at();return m.useCallback(n=>{const r=new Date,{store:o,onMutationFailure:a}=xt(t),u=o.optimisticUpdates.add({type:"unsubscribe-from-thread",threadId:n,unsubscribedAt:r});t[rt].httpClient.unsubscribeFromThread({roomId:e,threadId:n}).then(()=>{o.deleteSubscription(la("thread",n),u)},l=>a(u,{type:"UNSUBSCRIBE_FROM_THREAD_ERROR",roomId:e,threadId:n},l))},[t,e])}function zb(e){return Ub(Ye().id,e)}function Ub(e,t){const n=at(),{store:r}=xt(n),o=m.useMemo(()=>la("thread",t),[t]),a=jb(e),u=$b(e),l=m.useCallback(()=>a(t),[a,t]),f=m.useCallback(()=>u(t),[u,t]),d=r.outputs.threadSubscriptions,p=m.useCallback(v=>{const y=v.subscriptions[o],C=v.notifications.find(x=>x.kind==="thread"&&x.threadId===t);return y===void 0?{status:"not-subscribed",subscribe:l,unsubscribe:f}:{status:"subscribed",unreadSince:(C==null?void 0:C.readAt)??null,subscribe:l,unsubscribe:f}},[o,t,l,f]);return ns(d,p,mr)}function Hb(){const e=hp(),t=at(),n=Ye(),{store:r,getOrCreateSubscriptionSettingsPollerForRoomId:o}=xt(t),a=o(n.id);m.useEffect(()=>void r.outputs.roomSubscriptionSettingsByRoomId.getOrCreate(n.id).waitUntilLoaded()),m.useEffect(()=>(a.inc(),a.pollNowIfStale(),()=>{a.dec()}),[a]);const u=ns(r.outputs.roomSubscriptionSettingsByRoomId.getOrCreate(n.id).signal);return m.useMemo(()=>[u,e],[u,e])}function Wb(){const e=pp(),t=at(),n=Ye(),{store:r,getOrCreateSubscriptionSettingsPollerForRoomId:o}=xt(t),a=o(n.id);m.useEffect(()=>void r.outputs.roomSubscriptionSettingsByRoomId.getOrCreate(n.id).waitUntilLoaded()),m.useEffect(()=>(a.inc(),a.pollNowIfStale(),()=>{a.dec()}),[a]);const u=ns(r.outputs.roomSubscriptionSettingsByRoomId.getOrCreate(n.id).signal);return m.useMemo(()=>[u,e],[u,e])}function sN(){fa();const e=at(),t=xt(e).store,n=Ye();ha(t.outputs.roomSubscriptionSettingsByRoomId.getOrCreate(n.id).waitUntilLoaded());const[r,o]=Hb();return r.error,r.isLoading,m.useMemo(()=>[r,o],[r,o])}function aN(){fa();const e=at(),t=xt(e).store,n=Ye();ha(t.outputs.roomSubscriptionSettingsByRoomId.getOrCreate(n.id).waitUntilLoaded());const[r,o]=Wb();return r.error,r.isLoading,m.useMemo(()=>[r,o],[r,o])}function uN(e){const[t,n]=m.useState({isLoading:!0}),r=Ye();return m.useEffect(()=>{n({isLoading:!0}),(async()=>{try{const u=await(await r[rt].getTextVersion(e)).arrayBuffer(),l=new Uint8Array(u);n({isLoading:!1,data:l})}catch(a){n({isLoading:!1,error:a instanceof Error?a:new Error("An unknown error occurred while loading this version")})}})()},[r,e]),t}function Vb(){const e=at(),t=Ye(),{store:n,getOrCreateVersionsPollerForRoomId:r}=xt(e),o=r(t.id);return m.useEffect(()=>(o.inc(),o.pollNowIfStale(),()=>o.dec()),[o]),m.useEffect(()=>void n.outputs.versionsByRoomId.getOrCreate(t.id).waitUntilLoaded()),ns(n.outputs.versionsByRoomId.getOrCreate(t.id).signal)}function lN(){fa();const e=at(),t=Ye(),n=xt(e).store;ha(n.outputs.versionsByRoomId.getOrCreate(t.id).waitUntilLoaded());const r=Vb();return r.error,r.isLoading,r}function hp(){const e=at(),t=Ye();return m.useCallback(n=>{const{store:r,onMutationFailure:o,pollThreadsForRoomId:a}=xt(e),u=rs(e),l=r.optimisticUpdates.add({type:"update-room-subscription-settings",roomId:t.id,userId:u,settings:n});t.updateSubscriptionSettings(n).then(f=>{r.updateRoomSubscriptionSettings(t.id,l,f),n.threads&&a(t.id)},f=>o(l,{type:"UPDATE_NOTIFICATION_SETTINGS_ERROR",roomId:t.id},f))},[e,t])}function pp(){const e=at(),t=Ye();return m.useCallback(n=>{const{store:r,onMutationFailure:o,pollThreadsForRoomId:a}=xt(e),u=rs(e),l=r.optimisticUpdates.add({type:"update-room-subscription-settings",roomId:t.id,userId:u,settings:n});t.updateSubscriptionSettings(n).then(f=>{r.updateRoomSubscriptionSettings(t.id,l,f),n.threads&&a(t.id)},f=>o(l,{type:"UPDATE_ROOM_SUBSCRIPTION_SETTINGS_ERROR",roomId:t.id},f))},[e,t])}function Nu(){fa();const e=Ye();ha(e.waitUntilPresenceReady())}function cN(e,t){return Nu(),lb(e,t)}function fN(e,t){return Nu(),Iu(e,t)}function dN(){return Nu(),hb()}function hN(e,t){return Nu(),db(e,t)}function pN(e,t,n){return Nu(),pb(e,t,n)}function Kb(){fa();const e=Ye();ha(e.waitUntilStorageReady())}function mN(e,t){return Kb(),gb(e,t)}function vN(e){return Kb(),Jy(e)}function gN(e={}){fa();const t=at(),n=Ye(),{store:r}=xt(t),o=My(n.id,e.query);ha(r.outputs.loadingRoomThreads.getOrCreate(o).waitUntilLoaded());const a=bb(e);return a.error,a.isLoading,a}function yN(e){return e===void 0||e!=null&&e.isLoading?e??{isLoading:!0}:e.error?e:(e.data,{isLoading:!1,url:e.data})}function bN(e){const t=Ye();return Bu(e,t.id)}function Bu(e,t){const r=at()[rt].httpClient.getOrCreateAttachmentUrlsStore(t),o=m.useCallback(()=>r.getItemState(e),[r,e]);return m.useEffect(()=>{r.enqueue(e)},[r,e]),ts(r.subscribe,o,o,yN,mr)}function wN(e){const t=Ye(),{attachmentUrlsStore:n}=t[rt],r=m.useCallback(()=>n.getItemState(e),[n,e]),o=r();if(!o||o.isLoading)throw n.enqueue(e);if(o.error)throw o.error;const a=m.useSyncExternalStore(n.subscribe,r,r);return a.isLoading,a.error,{isLoading:!1,url:a.data,error:void 0}}var CN=new Set;function mp(e){const t=at(),n=xt(t).store;return ns(n.permissionHints.signal,r=>r.get(e)??CN)}function EN(e){return XI(e)}var qb=Ye;Bh(tI,nI,rI);const DN=window.LIVEBLOCKS_PUBLIC_KEY||"",xN=_P({publicApiKey:DN}),{RoomProvider:SN,useThreads:AN,useCreateThread:ON,useDeleteThread:TN}=EN(xN);var $r=typeof window<"u"?m.useLayoutEffect:m.useEffect,Gb=500;function kN(e,t){const[n,r]=m.useState(),o=m.useRef(),a=lp(),u=tN();return m.useEffect(()=>{if(t===void 0||!a)return;const l={text:t,roomId:e},f=ea(l);let d,p=!1;const v=async()=>{try{o.current=performance.now();const y=await a(l);p||(r(y),u.set(f,y))}catch(y){console.error(y==null?void 0:y.message)}};return u.has(f)?r(u.get(f)):!o.current||Math.abs(performance.now()-o.current)>Gb?v():d=window.setTimeout(()=>{v()},Gb),()=>{p=!0,window.clearTimeout(d)}},[t,e,a,u]),n}function RN(){const t=at()[rt].createSyncSource,[n,r]=m.useState();return m.useEffect(()=>{const o=t();return r(o),()=>o.destroy()},[t]),n}function Ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}var Xt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},PN=j0[" useInsertionEffect ".trim().toString()]||Xt;function Fu({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,a,u]=IN({defaultProp:t,onChange:n}),l=e!==void 0,f=l?e:o;{const p=m.useRef(e!==void 0);m.useEffect(()=>{const v=p.current;v!==l&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,r])}const d=m.useCallback(p=>{var v;if(l){const y=NN(p)?p(e):p;y!==e&&((v=u.current)==null||v.call(u,y))}else a(p)},[l,e,a,u]);return[f,d]}function IN({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),o=m.useRef(n),a=m.useRef(t);return PN(()=>{a.current=t},[t]),m.useEffect(()=>{var u;o.current!==n&&((u=a.current)==null||u.call(a,n),o.current=n)},[n,o]),[n,r,a]}function NN(e){return typeof e=="function"}var os=H0();const Uc=Mr(os);function Yb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Hc(...e){return t=>{let n=!1;const r=e.map(o=>{const a=Yb(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():Yb(e[o],null)}}}}function vt(...e){return m.useCallback(Hc(...e),e)}function bo(e){const t=BN(e),n=m.forwardRef((r,o)=>{const{children:a,...u}=r,l=m.Children.toArray(a),f=l.find(_N);if(f){const d=f.props.children,p=l.map(v=>v===f?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:v);return w.jsx(t,{...u,ref:o,children:m.isValidElement(d)?m.cloneElement(d,void 0,p):null})}return w.jsx(t,{...u,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}var Zt=bo("Slot");function BN(e){const t=m.forwardRef((n,r)=>{const{children:o,...a}=n;if(m.isValidElement(o)){const u=jN(o),l=MN(a,o.props);return o.type!==m.Fragment&&(l.ref=r?Hc(r,u):u),m.cloneElement(o,l)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xb=Symbol("radix.slottable");function Zb(e){const t=({children:n})=>w.jsx(w.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Xb,t}var FN=Zb("Slottable");function _N(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xb}function MN(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...l)=>{const f=a(...l);return o(...l),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function jN(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var LN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$N=LN.reduce((e,t)=>{const n=bo(`Primitive.${t}`),r=m.forwardRef((o,a)=>{const{asChild:u,...l}=o,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(f,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Qb="Toggle",Jb=m.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...a}=e,[u,l]=Fu({prop:n,onChange:o,defaultProp:r??!1,caller:Qb});return w.jsx($N.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:Ve(e.onClick,()=>{e.disabled||l(!u)})})});Jb.displayName=Qb;var vp=Jb;function dt(...e){return e.filter(t=>typeof t=="string"||typeof t=="number").join(" ")}const ew=20,tw=20;function Ft({children:e,className:t,...n}){return w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:ew,height:tw,viewBox:`0 0 ${ew} ${tw}`,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",role:"presentation",className:dt("lb-icon",t),...n,children:e})}function zN(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M16 6L8 14L4 10"})})}function gp(e){return w.jsxs(Ft,{...e,children:[w.jsx("path",{d:"M15 5L5 15"}),w.jsx("path",{d:"M5 5L15 15"})]})}function UN(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M4.5 6.5h11M14 6.5V14a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 6 14V6.5M7.5 6.5V5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v1.5"})})}function HN(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"m11.784 5.797-6.13 6.138a4 4 0 0 0-1.03 1.775L4 16l2.285-.624a4 4 0 0 0 1.776-1.032l6.145-6.152m-2.422-2.395 1.244-1.246c.608-.608 1.826-.81 2.53-.104.7.7.499 1.893-.122 2.515l-1.23 1.23m-2.422-2.395 2.422 2.395"})})}function WN(e){return w.jsxs(Ft,{fill:"currentColor",...e,children:[w.jsx("circle",{cx:5,cy:10,r:.75}),w.jsx("circle",{cx:10,cy:10,r:.75}),w.jsx("circle",{cx:15,cy:10,r:.75})]})}function nw(e){return w.jsxs(Ft,{...e,children:[w.jsx("path",{d:"M11 3.07A7 7 0 1 0 16.93 9"}),w.jsx("path",{d:"M7.5 11.5S8.25 13 10 13s2.5-1.5 2.5-1.5M8 8h0"}),w.jsx("path",{d:"M12 8h0"}),w.jsx("path",{d:"M13 5h4m-2-2v4"}),w.jsx("circle",{cx:"8",cy:"8",r:".25"}),w.jsx("circle",{cx:"12",cy:"8",r:".25"})]})}const _u=6,Wc=10,VN="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",KN=m.forwardRef(({emoji:e,style:t,asChild:n,...r},o)=>{const a=n?Zt:"span";return w.jsx(a,{role:"img","aria-label":e,"data-emoji":e,style:{...t,fontFamily:VN,display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",whiteSpace:"nowrap"},...r,ref:o,children:e})}),yp=m.forwardRef(({className:e,...t},n)=>w.jsx(KN,{className:dt("lb-emoji",e),...t,ref:n}));function bp(e,t,n){return e===1?t:n??`${t}s`}const qN={locale:"en",dir:"ltr",USER_SELF:"you",USER_UNKNOWN:"Anonymous",LIST_REMAINING:e=>`${e} more`,LIST_REMAINING_USERS:e=>`${e} ${bp(e,"other")}`,LIST_REMAINING_COMMENTS:e=>`${e} more ${bp(e,"comment")}`,EMOJI_PICKER_SEARCH_PLACEHOLDER:"Search",EMOJI_PICKER_EMPTY:"No emoji found.",EMOJI_PICKER_ERROR:()=>"There was an error while getting the list of emoji.",EMOJI_PICKER_CHANGE_SKIN_TONE:"Change skin tone",ATTACHMENT_TOO_LARGE:e=>e?`The file is larger than ${e}`:"The file is too large",ATTACHMENT_ERROR:()=>"The file couldnt be uploaded.",COMPOSER_INSERT_MENTION:"Mention someone",COMPOSER_INSERT_EMOJI:"Add emoji",COMPOSER_ATTACH_FILES:"Attach files",COMPOSER_REMOVE_ATTACHMENT:"Remove attachment",COMPOSER_PLACEHOLDER:"Write a comment",COMPOSER_SEND:"Send",COMPOSER_TOGGLE_MARK:e=>{switch(e){case"bold":return"Bold";case"italic":return"Italic";case"strikethrough":return"Strikethrough";case"code":return"Inline code";default:return jn(e,"Unexpected mark")}},COMMENT_EDITED:"(edited)",COMMENT_DELETED:"This comment has been deleted.",COMMENT_MORE:"More",COMMENT_EDIT:"Edit comment",COMMENT_EDIT_COMPOSER_PLACEHOLDER:"Edit comment",COMMENT_EDIT_COMPOSER_CANCEL:"Cancel",COMMENT_EDIT_COMPOSER_SAVE:"Save",COMMENT_DELETE:"Delete comment",COMMENT_DELETE_ATTACHMENT:"Delete attachment",COMMENT_ADD_REACTION:"Add reaction",COMMENT_REACTION_LIST:(e,t)=>w.jsxs(w.Fragment,{children:[e," reacted with ",w.jsx(yp,{emoji:t})]}),COMMENT_REACTION_DESCRIPTION:(e,t)=>`${t} ${bp(t,"reaction")}, react with ${e}`,THREAD_RESOLVE:"Resolve thread",THREAD_UNRESOLVE:"Re-open thread",THREAD_SUBSCRIBE:"Subscribe to thread",THREAD_UNSUBSCRIBE:"Unsubscribe from thread",THREAD_NEW_INDICATOR:"New",THREAD_NEW_INDICATOR_DESCRIPTION:"New comments",THREAD_COMPOSER_PLACEHOLDER:"Reply to thread",THREAD_COMPOSER_SEND:"Reply",INBOX_NOTIFICATION_MORE:"More",INBOX_NOTIFICATION_MARK_AS_READ:"Mark as read",INBOX_NOTIFICATION_DELETE:"Delete notification",INBOX_NOTIFICATION_THREAD_COMMENTS_LIST:(e,t)=>w.jsxs(w.Fragment,{children:[e," commented",t?w.jsxs(w.Fragment,{children:[" in ",t]}):w.jsx(w.Fragment,{children:" in a thread"})]}),INBOX_NOTIFICATION_THREAD_MENTION:(e,t)=>w.jsxs(w.Fragment,{children:[e," mentioned you",t?w.jsxs(w.Fragment,{children:[" in ",t]}):null]}),INBOX_NOTIFICATION_TEXT_MENTION:(e,t)=>w.jsxs(w.Fragment,{children:[e," mentioned you",t?w.jsxs(w.Fragment,{children:[" in ",t]}):null]}),HISTORY_VERSION_PREVIEW_AUTHORS_LIST:e=>w.jsxs(w.Fragment,{children:["Edits from ",e]}),HISTORY_VERSION_PREVIEW_RESTORE:"Restore",HISTORY_VERSION_PREVIEW_EMPTY:"No content.",HISTORY_VERSION_PREVIEW_ERROR:()=>"There was an error while getting this version."},GN=m.createContext(void 0);function Qn(e){const t=m.useContext(GN);return m.useMemo(()=>({...qN,...t,...e}),[t,e])}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function rw(e){return Object.prototype.toString.call(e)==="[object Object]"}function Qt(e){var t,n;return rw(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(rw(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}var ow=Symbol.for("immer-nothing"),iw=Symbol.for("immer-draftable"),Ln=Symbol.for("immer-state");function vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Mu=Object.getPrototypeOf;function is(e){return!!e&&!!e[Ln]}function ss(e){var t;return e?aw(e)||Array.isArray(e)||!!e[iw]||!!((t=e.constructor)!=null&&t[iw])||ju(e)||qc(e):!1}var YN=Object.prototype.constructor.toString(),sw=new WeakMap;function aw(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=sw.get(n);return r===void 0&&(r=Function.toString.call(n),sw.set(n,r)),r===YN}function Vc(e,t,n=!0){Kc(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((r,o)=>t(o,r,e))}function Kc(e){const t=e[Ln];return t?t.type_:Array.isArray(e)?1:ju(e)?2:qc(e)?3:0}function wp(e,t){return Kc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uw(e,t,n){const r=Kc(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function XN(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ju(e){return e instanceof Map}function qc(e){return e instanceof Set}function as(e){return e.copy_||e.base_}function Cp(e,t){if(ju(e))return new Map(e);if(qc(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=aw(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ln];let o=Reflect.ownKeys(r);for(let a=0;a<o.length;a++){const u=o[a],l=r[u];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[u]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[u]})}return Object.create(Mu(e),r)}else{const r=Mu(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Ep(e,t=!1){return Yc(e)||is(e)||!ss(e)||(Kc(e)>1&&Object.defineProperties(e,{set:Gc,add:Gc,clear:Gc,delete:Gc}),Object.freeze(e),t&&Object.values(e).forEach(n=>Ep(n,!0))),e}function ZN(){vr(2)}var Gc={value:ZN};function Yc(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var QN={};function us(e){const t=QN[e];return t||vr(0,e),t}var Lu;function lw(){return Lu}function JN(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cw(e,t){t&&(us("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dp(e){xp(e),e.drafts_.forEach(eB),e.drafts_=null}function xp(e){e===Lu&&(Lu=e.parent_)}function fw(e){return Lu=JN(Lu,e)}function eB(e){const t=e[Ln];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ln].modified_&&(Dp(t),vr(4)),ss(e)&&(e=Xc(t,e),t.parent_||Zc(t,e)),t.patches_&&us("Patches").generateReplacementPatches_(n[Ln].base_,e,t.patches_,t.inversePatches_)):e=Xc(t,n,[]),Dp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ow?e:void 0}function Xc(e,t,n){if(Yc(t))return t;const r=e.immer_.shouldUseStrictIteration(),o=t[Ln];if(!o)return Vc(t,(a,u)=>hw(e,o,t,a,u,n),r),t;if(o.scope_!==e)return t;if(!o.modified_)return Zc(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const a=o.copy_;let u=a,l=!1;o.type_===3&&(u=new Set(a),a.clear(),l=!0),Vc(u,(f,d)=>hw(e,o,a,f,d,n,l),r),Zc(e,a,!1),n&&e.patches_&&us("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function hw(e,t,n,r,o,a,u){if(o==null||typeof o!="object"&&!u)return;const l=Yc(o);if(!(l&&!u)){if(is(o)){const f=a&&t&&t.type_!==3&&!wp(t.assigned_,r)?a.concat(r):void 0,d=Xc(e,o,f);if(uw(n,r,d),is(d))e.canAutoFreeze_=!1;else return}else u&&n.add(o);if(ss(o)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===o&&l)return;Xc(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ju(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zc(e,o)}}}function Zc(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ep(t,n)}function tB(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:lw(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,a=Sp;n&&(o=[r],a=$u);const{revoke:u,proxy:l}=Proxy.revocable(o,a);return r.draft_=l,r.revoke_=u,l}var Sp={get(e,t){if(t===Ln)return e;const n=as(e);if(!wp(n,t))return nB(e,n,t);const r=n[t];return e.finalized_||!ss(r)?r:r===Ap(e.base_,t)?(Tp(e),e.copy_[t]=kp(r,e)):r},has(e,t){return t in as(e)},ownKeys(e){return Reflect.ownKeys(as(e))},set(e,t,n){const r=pw(as(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=Ap(as(e),t),a=o==null?void 0:o[Ln];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(XN(n,o)&&(n!==void 0||wp(e.base_,t)))return!0;Tp(e),Op(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ap(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Tp(e),Op(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=as(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){vr(11)},getPrototypeOf(e){return Mu(e.base_)},setPrototypeOf(){vr(12)}},$u={};Vc(Sp,(e,t)=>{$u[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),$u.deleteProperty=function(e,t){return $u.set.call(this,e,t,void 0)},$u.set=function(e,t,n){return Sp.set.call(this,e[0],t,n,e[0])};function Ap(e,t){const n=e[Ln];return(n?as(n):e)[t]}function nB(e,t,n){var o;const r=pw(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function pw(e,t){if(!(t in e))return;let n=Mu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Mu(n)}}function Op(e){e.modified_||(e.modified_=!0,e.parent_&&Op(e.parent_))}function Tp(e){e.copy_||(e.copy_=Cp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const u=this;return function(f=a,...d){return u.produce(f,p=>n.call(this,p,...d))}}typeof n!="function"&&vr(6),r!==void 0&&typeof r!="function"&&vr(7);let o;if(ss(t)){const a=fw(this),u=kp(t,void 0);let l=!0;try{o=n(u),l=!1}finally{l?Dp(a):xp(a)}return cw(a,r),dw(o,a)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===ow&&(o=void 0),this.autoFreeze_&&Ep(o,!0),r){const a=[],u=[];us("Patches").generateReplacementPatches_(t,o,a,u),r(a,u)}return o}else vr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(u,...l)=>this.produceWithPatches(u,f=>t(f,...l));let r,o;return[this.produce(t,n,(u,l)=>{r=u,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ss(e)||vr(8),is(e)&&(e=oB(e));const t=fw(this),n=kp(e,void 0);return n[Ln].isManual_=!0,xp(t),n}finishDraft(e,t){const n=e&&e[Ln];(!n||!n.isManual_)&&vr(9);const{scope_:r}=n;return cw(r,t),dw(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=us("Patches").applyPatches_;return is(e)?r(e,t):this.produce(e,o=>r(o,t))}};function kp(e,t){const n=ju(e)?us("MapSet").proxyMap_(e,t):qc(e)?us("MapSet").proxySet_(e,t):tB(e,t);return(t?t.scope_:lw()).drafts_.push(n),n}function oB(e){return is(e)||vr(10,e),mw(e)}function mw(e){if(!ss(e)||Yc(e))return e;const t=e[Ln];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Cp(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Cp(e,!0);return Vc(n,(o,a)=>{uw(n,o,mw(a))},r),t&&(t.finalized_=!1),n}var zu=new rB,Rp=zu.produce,vw=zu.createDraft.bind(zu),gw=zu.finishDraft.bind(zu),iB={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=$.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},sB={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ot.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},aB={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ne.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},Qc=new WeakMap,Jc=new WeakMap,Uu=new WeakMap,yw=new WeakMap,bw=new WeakMap,ww=new WeakMap,Cw=new WeakMap,$={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=$.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],a=t[r];if(o!==a)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),a=e[n],u=t[n];return $.equals(r,o)&&a>u},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return $.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),a=e[n],u=t[n];return $.equals(r,o)&&a<u},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return $.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&$.compare(e,t)===0},isBefore(e,t){return $.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&$.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&$.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&$.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&$.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],a=t[t.length-1];return o!==a&&$.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!$.isAncestor(t,e)&&!$.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:a}=t;($.equals(a,r)||$.endsBefore(a,r)||$.isAncestor(a,r))&&(r[a.length-1]+=1);break}case"remove_node":{var{path:u}=t;if($.equals(u,r)||$.isAncestor(u,r))return null;$.endsBefore(u,r)&&(r[u.length-1]-=1);break}case"merge_node":{var{path:l,position:f}=t;$.equals(l,r)||$.endsBefore(l,r)?r[l.length-1]-=1:$.isAncestor(l,r)&&(r[l.length-1]-=1,r[l.length]+=f);break}case"split_node":{var{path:d,position:p}=t;if($.equals(d,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else $.endsBefore(d,r)?r[d.length-1]+=1:$.isAncestor(d,r)&&e[d.length]>=p&&(r[d.length-1]+=1,r[d.length]-=p);break}case"move_node":{var{path:v,newPath:y}=t;if($.equals(v,y))return r;if($.isAncestor(v,r)||$.equals(v,r)){var C=y.slice();return $.endsBefore(v,y)&&v.length<y.length&&(C[v.length-1]-=1),C.concat(r.slice(v.length))}else $.isSibling(v,y)&&($.isAncestor(y,r)||$.equals(y,r))?$.endsBefore(v,r)?r[v.length-1]-=1:r[v.length-1]+=1:$.endsBefore(y,r)||$.equals(y,r)||$.isAncestor(y,r)?($.endsBefore(v,r)&&(r[v.length-1]-=1),r[y.length-1]+=1):$.endsBefore(v,r)&&($.equals(y,r)&&(r[y.length-1]+=1),r[v.length-1]-=1);break}}return r}};function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function uB(e,t){if(Hu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lB(e){var t=uB(e,"string");return Hu(t)==="symbol"?t:String(t)}function yn(e,t,n){return t=lB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var cB=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,a=Ee.parent(e,r),u=r[r.length-1];if(u>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(a.children.splice(u,0,o),t)for(var[l,f]of ne.points(t))t[f]=ot.transform(l,n);break}case"insert_text":{var{path:d,offset:p,text:v}=n;if(v.length===0)break;var y=Ee.leaf(e,d),C=y.text.slice(0,p),x=y.text.slice(p);if(y.text=C+v+x,t)for(var[E,b]of ne.points(t))t[b]=ot.transform(E,n);break}case"merge_node":{var{path:O}=n,A=Ee.get(e,O),P=$.previous(O),R=Ee.get(e,P),F=Ee.parent(e,O),L=O[O.length-1];if(Fe.isText(A)&&Fe.isText(R))R.text+=A.text;else if(!Fe.isText(A)&&!Fe.isText(R))R.children.push(...A.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(O,"] to nodes of different interfaces: ").concat(Jt.stringify(A)," ").concat(Jt.stringify(R)));if(F.children.splice(L,1),t)for(var[I,q]of ne.points(t))t[q]=ot.transform(I,n);break}case"move_node":{var{path:ue,newPath:Y}=n;if($.isAncestor(ue,Y))throw new Error("Cannot move a path [".concat(ue,"] to new path [").concat(Y,"] because the destination is inside itself."));var re=Ee.get(e,ue),U=Ee.parent(e,ue),H=ue[ue.length-1];U.children.splice(H,1);var V=$.transform(ue,n),se=Ee.get(e,$.parent(V)),ve=V[V.length-1];if(se.children.splice(ve,0,re),t)for(var[oe,K]of ne.points(t))t[K]=ot.transform(oe,n);break}case"remove_node":{var{path:G}=n,Q=G[G.length-1],M=Ee.parent(e,G);if(M.children.splice(Q,1),t)for(var[J,te]of ne.points(t)){var fe=ot.transform(J,n);if(t!=null&&fe!=null)t[te]=fe;else{var X=void 0,j=void 0;for(var[Z,ae]of Ee.texts(e))if($.compare(ae,G)===-1)X=[Z,ae];else{j=[Z,ae];break}var ce=!1;X&&j&&($.equals(j[1],G)?ce=!$.hasPrevious(j[1]):ce=$.common(X[1],G).length<$.common(j[1],G).length),X&&!ce?(J.path=X[1],J.offset=X[0].text.length):j?(J.path=j[1],J.offset=0):t=null}}break}case"remove_text":{var{path:Pe,offset:Oe,text:Ie}=n;if(Ie.length===0)break;var Be=Ee.leaf(e,Pe),N=Be.text.slice(0,Oe),me=Be.text.slice(Oe+Ie.length);if(Be.text=N+me,t)for(var[Se,ke]of ne.points(t))t[ke]=ot.transform(Se,n);break}case"set_node":{var{path:De,properties:Ge,newProperties:bt}=n;if(De.length===0)throw new Error("Cannot set properties on the root node!");var ze=Ee.get(e,De);for(var it in bt){if(it==="children"||it==="text")throw new Error('Cannot set the "'.concat(it,'" property of nodes!'));var $t=bt[it];$t==null?delete ze[it]:ze[it]=$t}for(var lt in Ge)bt.hasOwnProperty(lt)||delete ze[lt];break}case"set_selection":{var{newProperties:et}=n;if(et==null)t=et;else{if(t==null){if(!ne.isRange(et))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Jt.stringify(et)," when there is no current selection."));t=Wu({},et)}for(var Xe in et){var wt=et[Xe];if(wt==null){if(Xe==="anchor"||Xe==="focus")throw new Error('Cannot remove the "'.concat(Xe,'" selection property'));delete t[Xe]}else t[Xe]=wt}}break}case"split_node":{var{path:Ot,position:un,properties:Wt}=n;if(Ot.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ot,"] because the root node cannot be split."));var Nt=Ee.get(e,Ot),ao=Ee.parent(e,Ot),qn=Ot[Ot.length-1],kr;if(Fe.isText(Nt)){var _l=Nt.text.slice(0,un),ks=Nt.text.slice(un);Nt.text=_l,kr=Wu(Wu({},Wt),{},{text:ks})}else{var Rs=Nt.children.slice(0,un),Ps=Nt.children.slice(un);Nt.children=Rs,kr=Wu(Wu({},Wt),{},{children:Ps})}if(ao.children.splice(qn+1,0,kr),t)for(var[Is,Ns]of ne.points(t))t[Ns]=ot.transform(Is,n);break}}return t},fB={transform(e,t){e.children=vw(e.children);var n=e.selection&&vw(e.selection);try{n=cB(e,n,t)}finally{e.children=gw(e.children),n?e.selection=is(n)?gw(n):n:e.selection=null}}},dB={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},hB={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},Dw=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(Qt(r)&&Qt(o)){if(!Dw(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(r[a]!==o[a])return!1}else if(r!==o)return!1}for(var u in t)if(e[u]===void 0&&t[u]!==void 0)return!1;return!0};function pB(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function wo(e,t){if(e==null)return{};var n=pB(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var mB=["anchor","focus"];function xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function vB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ne={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return ne.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=ne.edges(e);return t},equals(e,t){return ot.equals(e.anchor,t.anchor)&&ot.equals(e.focus,t.focus)},surrounds(e,t){var n=ne.intersection(e,t);return n?ne.equals(n,t):!1},includes(e,t){if(ne.isRange(t)){if(ne.includes(e,t.anchor)||ne.includes(e,t.focus))return!0;var[n,r]=ne.edges(e),[o,a]=ne.edges(t);return ot.isBefore(n,o)&&ot.isAfter(r,a)}var[u,l]=ne.edges(e),f=!1,d=!1;return ot.isPoint(t)?(f=ot.compare(t,u)>=0,d=ot.compare(t,l)<=0):(f=$.compare(t,u.path)>=0,d=$.compare(t,l.path)<=0),f&&d},intersection(e,t){var n=wo(e,mB),[r,o]=ne.edges(e),[a,u]=ne.edges(t),l=ot.isBefore(r,a)?a:r,f=ot.isBefore(o,u)?o:u;return ot.isBefore(f,l)?null:vB({anchor:l,focus:f},n)},isBackward(e){var{anchor:t,focus:n}=e;return ot.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return ot.equals(t,n)},isExpanded(e){return!ne.isCollapsed(e)},isForward(e){return!ne.isBackward(e)},isRange(e){return Qt(e)&&ot.isPoint(e.anchor)&&ot.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ne.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Rp(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,a,u;if(o==="inward"){var l=ne.isCollapsed(r);ne.isForward(r)?(a="forward",u=l?a:"backward"):(a="backward",u=l?a:"forward")}else o==="outward"?ne.isForward(r)?(a="backward",u="forward"):(a="forward",u="backward"):(a=o,u=o);var f=ot.transform(r.anchor,t,{affinity:a}),d=ot.transform(r.focus,t,{affinity:u});if(!f||!d)return null;r.anchor=f,r.focus=d})}},Sw=e=>Qt(e)&&Ee.isNodeList(e.children)&&!S.isEditor(e),Ne={isAncestor(e){return Qt(e)&&Ee.isNodeList(e.children)},isElement:Sw,isElementList(e){return Array.isArray(e)&&e.every(t=>Ne.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Sw(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},gB=["children"],yB=["text"],Aw=new WeakMap,Ee={ancestor(e,t){var n=Ee.get(e,t);if(Fe.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Jt.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(function*(){for(var r of $.ancestors(t,n)){var o=Ee.ancestor(e,r),a=[o,r];yield a}})()},child(e,t){if(Fe.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Jt.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Jt.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(function*(){for(var{reverse:r=!1}=n,o=Ee.ancestor(e,t),{children:a}=o,u=r?a.length-1:0;r?u>=0:u<a.length;){var l=Ee.child(o,u),f=t.concat(u);yield[l,f],u=r?u-1:u+1}})()},common(e,t,n){var r=$.common(t,n),o=Ee.get(e,r);return[o,r]},descendant(e,t){var n=Ee.get(e,t);if(S.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Jt.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(function*(){for(var[n,r]of Ee.nodes(e,t))r.length!==0&&(yield[n,r])})()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(function*(){for(var[n,r]of Ee.nodes(e,t))Ne.isElement(n)&&(yield[n,r])})()},extractProps(e){if(Ne.isAncestor(e)){var t=wo(e,gB);return t}else{var t=wo(e,yB);return t}},first(e,t){for(var n=t.slice(),r=Ee.get(e,n);r&&!(Fe.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(Fe.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Jt.stringify(e)));var n=Rp({children:e.children},r=>{var[o,a]=ne.edges(t),u=Ee.nodes(r,{reverse:!0,pass:y=>{var[,C]=y;return!ne.includes(t,C)}});for(var[,l]of u){if(!ne.includes(t,l)){var f=Ee.parent(r,l),d=l[l.length-1];f.children.splice(d,1)}if($.equals(l,a.path)){var p=Ee.leaf(r,l);p.text=p.text.slice(0,a.offset)}if($.equals(l,o.path)){var v=Ee.leaf(r,l);v.text=v.text.slice(o.offset)}}S.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){var n=Ee.getIf(e,t);if(n===void 0)throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Jt.stringify(e)));return n},getIf(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(Fe.isText(n)||!n.children[o])return;n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(Fe.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return Fe.isText(e)||Ne.isElement(e)||S.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=Aw.get(e);if(t!==void 0)return t;var n=e.every(r=>Ee.isNode(r));return Aw.set(e,n),n},last(e,t){for(var n=t.slice(),r=Ee.get(e,n);r&&!(Fe.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=Ee.get(e,t);if(!Fe.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Jt.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(function*(){for(var r of $.levels(t,n)){var o=Ee.get(e,r);yield[o,r]}})()},matches(e,t){return Ne.isElement(e)&&Ne.isElementProps(t)&&Ne.matches(e,t)||Fe.isText(e)&&Fe.isTextProps(t)&&Fe.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(function*(){for(var{pass:n,reverse:r=!1}=t,{from:o=[],to:a}=t,u=new Set,l=[],f=e;!(a&&(r?$.isBefore(l,a):$.isAfter(l,a)));){if(u.has(f)||(yield[f,l]),!u.has(f)&&!Fe.isText(f)&&f.children.length!==0&&(n==null||n([f,l])===!1)){u.add(f);var d=r?f.children.length-1:0;$.isAncestor(l,o)&&(d=o[l.length]),l=l.concat(d),f=Ee.get(e,l);continue}if(l.length===0)break;if(!r){var p=$.next(l);if(Ee.has(e,p)){l=p,f=Ee.get(e,l);continue}}if(r&&l[l.length-1]!==0){var v=$.previous(l);l=v,f=Ee.get(e,l);continue}l=$.parent(l),f=Ee.get(e,l),u.add(f)}})()},parent(e,t){var n=$.parent(t),r=Ee.get(e,n);if(Fe.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return Fe.isText(e)?e.text:e.children.map(Ee.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(function*(){for(var[n,r]of Ee.nodes(e,t))Fe.isText(n)&&(yield[n,r])})()}};function Ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ow(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ni={isNodeOperation(e){return ni.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Qt(e))return!1;switch(e.type){case"insert_node":return $.isPath(e.path)&&Ee.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&$.isPath(e.path);case"merge_node":return typeof e.position=="number"&&$.isPath(e.path)&&Qt(e.properties);case"move_node":return $.isPath(e.path)&&$.isPath(e.newPath);case"remove_node":return $.isPath(e.path)&&Ee.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&$.isPath(e.path);case"set_node":return $.isPath(e.path)&&Qt(e.properties)&&Qt(e.newProperties);case"set_selection":return e.properties===null&&ne.isRange(e.newProperties)||e.newProperties===null&&ne.isRange(e.properties)||Qt(e.properties)&&Qt(e.newProperties);case"split_node":return $.isPath(e.path)&&typeof e.position=="number"&&Qt(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>ni.isOperation(t))},isSelectionOperation(e){return ni.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return ni.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return Pt(Pt({},e),{},{type:"remove_node"});case"insert_text":return Pt(Pt({},e),{},{type:"remove_text"});case"merge_node":return Pt(Pt({},e),{},{type:"split_node",path:$.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if($.equals(t,n))return e;if($.isSibling(n,t))return Pt(Pt({},e),{},{path:t,newPath:n});var r=$.transform(n,e),o=$.transform($.next(n),e);return Pt(Pt({},e),{},{path:r,newPath:o})}case"remove_node":return Pt(Pt({},e),{},{type:"insert_node"});case"remove_text":return Pt(Pt({},e),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:u}=e;return Pt(Pt({},e),{},{properties:u,newProperties:a})}case"set_selection":{var{properties:l,newProperties:f}=e;return l==null?Pt(Pt({},e),{},{properties:f,newProperties:null}):f==null?Pt(Pt({},e),{},{properties:null,newProperties:l}):Pt(Pt({},e),{},{properties:f,newProperties:l})}case"split_node":return Pt(Pt({},e),{},{type:"merge_node",path:$.next(e.path)})}}},Tw=new WeakMap,bB=e=>{var t=Tw.get(e);if(t!==void 0)return t;if(!Qt(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||Qt(e.marks))&&(e.selection===null||ne.isRange(e.selection))&&Ee.isNodeList(e.children)&&ni.isOperationList(e.operations);return Tw.set(e,n),n},S={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return bB(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,n)=>e.shouldMergeNodesRemovePrevNode(t,n)},wB={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every($.isPath)}};function kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Rw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ot={compare(e,t){var n=$.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return ot.compare(e,t)===1},isBefore(e,t){return ot.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&$.equals(e.path,t.path)},isPoint(e){return Qt(e)&&typeof e.offset=="number"&&$.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Rp(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:a,offset:u}=r;switch(t.type){case"insert_node":case"move_node":{r.path=$.transform(a,t,n);break}case"insert_text":{$.equals(t.path,a)&&(t.offset<u||t.offset===u&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{$.equals(t.path,a)&&(r.offset+=t.position),r.path=$.transform(a,t,n);break}case"remove_text":{$.equals(t.path,a)&&t.offset<=u&&(r.offset-=Math.min(u-t.offset,t.text.length));break}case"remove_node":{if($.equals(t.path,a)||$.isAncestor(t.path,a))return null;r.path=$.transform(a,t,n);break}case"split_node":{if($.equals(t.path,a)){if(t.position===u&&o==null)return null;(t.position<u||t.position===u&&o==="forward")&&(r.offset-=t.position,r.path=$.transform(a,t,Rw(Rw({},n),{},{affinity:"forward"})))}else r.path=$.transform(a,t,n);break}}})}},Pw=void 0,Jt={setScrubber(e){Pw=e},stringify(e){return JSON.stringify(e,Pw)}},CB=["text"],EB=["anchor","focus"];function Iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Fe={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(a){var u=wo(a,CB);return u}return Dw(r?o(e):e,r?o(t):t)},isText(e){return Qt(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>Fe.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Co({},e)];for(var r of t){var o=wo(r,EB),[a,u]=ne.edges(r),l=[],f=0,d=a.offset,p=u.offset;for(var v of n){var{length:y}=v.text,C=f;if(f+=y,d<=C&&f<=p){Object.assign(v,o),l.push(v);continue}if(d!==p&&(d===f||p===C)||d>f||p<C||p===C&&C!==0){l.push(v);continue}var x=v,E=void 0,b=void 0;if(p<f){var O=p-C;b=Co(Co({},x),{},{text:x.text.slice(O)}),x=Co(Co({},x),{},{text:x.text.slice(0,O)})}if(d>C){var A=d-C;E=Co(Co({},x),{},{text:x.text.slice(0,A)}),x=Co(Co({},x),{},{text:x.text.slice(A)})}Object.assign(x,o),E&&l.push(E),l.push(x),b&&l.push(b)}n=l}return n}},Pp=e=>e.selection?e.selection:e.children.length>0?S.end(e,[]):[0],pa=(e,t)=>{var[n]=S.node(e,t);return r=>r===n},Ip=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?TB(t):t,a=Je.None,u=Je.None,l=0,f=null,d=null;for(var p of o){var v=p.codePointAt(0);if(!v)break;var y=$B(p,v);if([a,u]=r?[u,y]:[y,a],ma(a,Je.ZWJ)&&ma(u,Je.ExtPict)&&(r?f=Nw(t.substring(0,l)):f=Nw(t.substring(0,t.length-l)),!f)||ma(a,Je.RI)&&ma(u,Je.RI)&&(d!==null?d=!d:r?d=!0:d=VB(t.substring(0,t.length-l)),!d)||a!==Je.None&&u!==Je.None&&UB(a,u))break;l+=p.length}return l||1},DB=/\s/,xB=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,SB=/['\u2018\u2019]/,AB=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var a=Ip(t,n),[u,l]=Np(t,a,n);if(OB(u,l,n))o=!0,r+=a;else if(!o)r+=a;else break;t=l}return r},Np=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},OB=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(DB.test(t))return!1;if(SB.test(t)){var o=Ip(n,r),[a,u]=Np(n,o,r);if(e(a,u,r))return!0}return!xB.test(t)},TB=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(RB(o.charCodeAt(0))){var a=t.charAt(n-r-1);if(kB(a.charCodeAt(0))){yield a+o,r++;continue}}yield o}},kB=e=>e>=55296&&e<=56319,RB=e=>e>=56320&&e<=57343,Je;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Je||(Je={}));var PB=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,IB=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,NB=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,BB=/^[\u1100-\u115F\uA960-\uA97C]$/,FB=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,_B=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,MB=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,jB=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,LB=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,$B=(e,t)=>{var n=Je.Any;return e.search(PB)!==-1&&(n|=Je.Extend),t===8205&&(n|=Je.ZWJ),t>=127462&&t<=127487&&(n|=Je.RI),e.search(IB)!==-1&&(n|=Je.Prepend),e.search(NB)!==-1&&(n|=Je.SpacingMark),e.search(BB)!==-1&&(n|=Je.L),e.search(FB)!==-1&&(n|=Je.V),e.search(_B)!==-1&&(n|=Je.T),e.search(MB)!==-1&&(n|=Je.LV),e.search(jB)!==-1&&(n|=Je.LVT),e.search(LB)!==-1&&(n|=Je.ExtPict),n};function ma(e,t){return(e&t)!==0}var zB=[[Je.L,Je.L|Je.V|Je.LV|Je.LVT],[Je.LV|Je.V,Je.V|Je.T],[Je.LVT|Je.T,Je.T],[Je.Any,Je.Extend|Je.ZWJ],[Je.Any,Je.SpacingMark],[Je.Prepend,Je.Any],[Je.ZWJ,Je.ExtPict],[Je.RI,Je.RI]];function UB(e,t){return zB.findIndex(n=>ma(e,n[0])&&ma(t,n[1]))===-1}var HB=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Nw=e=>e.search(HB)!==-1,WB=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,VB=e=>{var t=e.match(WB);if(t===null)return!1;var n=t[0].length/2;return n%2===1},KB={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};S.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=Pp(e)}=n;if($.isPath(o)&&(o=S.range(e,o)),ne.isRange(o))if(ne.isCollapsed(o))o=o.anchor;else{var a=ne.end(o);if(!r&&S.void(e,{at:a}))return;var u=ne.start(o),l=S.pointRef(e,u),f=S.pointRef(e,a);de.delete(e,{at:o,voids:r});var d=l.unref(),p=f.unref();o=d||p,de.setSelection(e,{anchor:o,focus:o})}if(!(!r&&S.void(e,{at:o})||S.elementReadOnly(e,{at:o}))){var{path:v,offset:y}=o;t.length>0&&e.apply({type:"insert_text",path:v,offset:y,text:t})}})}};function Bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var de=ef(ef(ef(ef({},fB),dB),hB),KB),tf=new WeakMap,qB=e=>tf.get(e)||!1,GB=(e,t,n)=>{var r=tf.get(e)||!1;tf.set(e,!0);try{t(),n()}finally{tf.set(e,r)}};function Fw(e,t,n){var r=Qc.get(e)||[],o=Jc.get(e)||new Set,a,u,l=v=>{if(v){var y=v.join(",");u.has(y)||(u.add(y),a.push(v))}};if(n){a=[],u=new Set;for(var f of r){var d=n(f);l(d)}}else a=r,u=o;for(var p of t)l(p);Qc.set(e,a),Jc.set(e,u)}var YB=(e,t)=>{for(var n of S.pathRefs(e))iB.transform(n,t);for(var r of S.pointRefs(e))sB.transform(r,t);for(var o of S.rangeRefs(e))aB.transform(o,t);if(!qB(e)){var a=$.operationCanTransformPath(t)?u=>$.transform(u,t):void 0;Fw(e,e.getDirtyPaths(t),a)}de.transform(e,t),e.operations.push(t),S.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),Uu.get(e)||(Uu.set(e,!0),Promise.resolve().then(()=>{Uu.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},XB=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return $.levels(n)}case"insert_node":{var{node:r,path:o}=t,a=$.levels(o),u=Fe.isText(r)?[]:Array.from(Ee.nodes(r),Y=>{var[,re]=Y;return o.concat(re)});return[...a,...u]}case"merge_node":{var{path:l}=t,f=$.ancestors(l),d=$.previous(l);return[...f,d]}case"move_node":{var{path:p,newPath:v}=t;if($.equals(p,v))return[];var y=[],C=[];for(var x of $.ancestors(p)){var E=$.transform(x,t);y.push(E)}for(var b of $.ancestors(v)){var O=$.transform(b,t);C.push(O)}var A=C[C.length-1],P=v[v.length-1],R=A.concat(P);return[...y,...C,R]}case"remove_node":{var{path:F}=t,L=$.ancestors(F);return[...L]}case"split_node":{var{path:I}=t,q=$.levels(I),ue=$.next(I);return[...q,ue]}default:return[]}},ZB=e=>{var{selection:t}=e;return t?Ee.fragment(e,t):[]},QB=(e,t)=>{var[n,r]=t;if(!Fe.isText(n)){if(Ne.isElement(n)&&n.children.length===0){var o={text:""};de.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var a=S.isEditor(n)?!1:Ne.isElement(n)&&(e.isInline(n)||n.children.length===0||Fe.isText(n.children[0])||e.isInline(n.children[0])),u=0,l=0;l<n.children.length;l++,u++){var f=Ee.get(e,r);if(!Fe.isText(f)){var d=f.children[u],p=f.children[u-1],v=l===n.children.length-1,y=Fe.isText(d)||Ne.isElement(d)&&e.isInline(d);if(y!==a)de.removeNodes(e,{at:r.concat(u),voids:!0}),u--;else if(Ne.isElement(d)){if(e.isInline(d)){if(p==null||!Fe.isText(p)){var C={text:""};de.insertNodes(e,C,{at:r.concat(u),voids:!0}),u++}else if(v){var x={text:""};de.insertNodes(e,x,{at:r.concat(u+1),voids:!0}),u++}}}else{if(!Fe.isText(d)&&!("children"in d)){var E=d;E.children=[]}p!=null&&Fe.isText(p)&&(Fe.equals(d,p,{loose:!0})?(de.mergeNodes(e,{at:r.concat(u),voids:!0}),u--):p.text===""?(de.removeNodes(e,{at:r.concat(u-1),voids:!0}),u--):d.text===""&&(de.removeNodes(e,{at:r.concat(u),voids:!0}),u--))}}}}},JB=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},eF=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:a=t.selection,match:u}=n;if(a){var l=S.path(t,a),f=o==="lowest";for(var[d,p]of S.levels(t,{at:l,voids:r,match:u,reverse:f}))if(!Fe.isText(d)){if(ne.isRange(a)){if($.isAncestor(p,a.anchor.path)&&$.isAncestor(p,a.focus.path))return[d,p]}else if(!$.equals(l,p))return[d,p]}}};function _w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Mw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tF=(e,t,n)=>{var{selection:r}=e;if(r){var o=(v,y)=>{if(!Fe.isText(v))return!1;var[C,x]=S.parent(e,y);return!e.isVoid(C)||e.markableVoid(C)},a=ne.isExpanded(r),u=!1;if(!a){var[l,f]=S.node(e,r);if(l&&o(l,f)){var[d]=S.parent(e,f);u=d&&e.markableVoid(d)}}if(a||u)de.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var p=Mw(Mw({},S.marks(e)||{}),{},{[t]:n});e.marks=p,Uu.get(e)||e.onChange()}}};function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Lw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var nF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=S.point(t,n,{edge:"end"}),a=S.end(t,[]),u={anchor:o,focus:a},{distance:l=1}=r,f=0,d;for(var p of S.positions(t,Lw(Lw({},r),{},{at:u}))){if(f>l)break;f!==0&&(d=p),f++}return d};function $w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=S.start(t,[]),a=S.point(t,n,{edge:"start"}),u={anchor:o,focus:a},{distance:l=1}=r,f=0,d;for(var p of S.positions(t,zw(zw({},r),{},{at:u,reverse:!0}))){if(f>l)break;f!==0&&(d=p),f++}return d},oF=(e,t)=>{var{selection:n}=e;n&&ne.isCollapsed(n)&&de.delete(e,{unit:t,reverse:!0})},iF=(e,t)=>{var{selection:n}=e;n&&ne.isCollapsed(n)&&de.delete(e,{unit:t})},sF=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&ne.isExpanded(r)&&de.delete(t,{reverse:n==="backward"})},aF=(e,t)=>[S.start(e,t),S.end(e,t)];function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Hw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var uF=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S.above(t,Hw(Hw({},n),{},{match:r=>Ne.isElement(r)&&S.isElementReadOnly(t,r)}))},lF=(e,t)=>S.point(e,t,{edge:"end"}),cF=(e,t)=>{var n=S.path(e,t,{edge:"start"});return S.node(e,n)},fF=(e,t)=>{var n=S.range(e,t);return Ee.fragment(e,n)};function Ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Vw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var dF=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S.above(t,Vw(Vw({},n),{},{match:r=>Ne.isElement(r)&&S.isVoid(t,r)}))},hF=(e,t)=>t.children.some(n=>Ne.isElement(n)&&S.isBlock(e,n)),pF=(e,t)=>t.children.some(n=>Fe.isText(n)||S.isInline(e,n)),mF=(e,t)=>Ee.has(e,t),vF=(e,t)=>t.children.every(n=>Fe.isText(n)),gF=e=>{de.splitNodes(e,{always:!0})},yF=(e,t,n)=>{de.insertNodes(e,t,n)},bF=e=>{de.splitNodes(e,{always:!0})};function Kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function wF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var qw=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:a}=t;if(o){if(a){var u=wF({text:n},a);de.insertNodes(t,u,{at:r.at,voids:r.voids})}else de.insertText(t,n,r);t.marks=null}},CF=(e,t)=>!e.isInline(t),EF=(e,t,n)=>S.isStart(e,t,n)||S.isEnd(e,t,n),DF=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&Fe.isText(r)&&r.text===""&&!e.isVoid(t)},xF=(e,t,n)=>{var r=S.end(e,n);return ot.equals(t,r)},SF=e=>{var t=yw.get(e);return t===void 0?!0:t},AF=(e,t,n)=>{if(t.offset!==0)return!1;var r=S.start(e,n);return ot.equals(t,r)},OF=(e,t)=>{var n=S.path(e,t,{edge:"end"});return S.node(e,n)},TF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=S.path(t,n,r),a=Ee.leaf(t,o);return[a,o]};function kF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(function*(){var{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:a}=t;if(a==null&&(a=()=>!0),!!n){var u=[],l=S.path(e,n);for(var[f,d]of Ee.levels(e,l))if(a(f,d)&&(u.push([f,d]),!o&&Ne.isElement(f)&&S.isVoid(e,f)))break;r&&u.reverse(),yield*u}})()}var RF=["text"],PF=["text"],IF=function(t){var{marks:n,selection:r}=t;if(!r)return null;var{anchor:o,focus:a}=r;if(n)return n;if(ne.isExpanded(r)){var u=ne.isBackward(r);u&&([a,o]=[o,a]);var l=S.isEnd(t,o,o.path);if(l){var f=S.after(t,o);f&&(o=f)}var[d]=S.nodes(t,{match:Fe.isText,at:{anchor:o,focus:a}});if(d){var[p]=d,v=wo(p,RF);return v}else return{}}var{path:y}=o,[C]=S.leaf(t,y);if(o.offset===0){var x=S.previous(t,{at:y,match:Fe.isText}),E=S.above(t,{match:F=>Ne.isElement(F)&&S.isVoid(t,F)&&t.markableVoid(F)});if(!E){var b=S.above(t,{match:F=>Ne.isElement(F)&&S.isBlock(t,F)});if(x&&b){var[O,A]=x,[,P]=b;$.isAncestor(P,A)&&(C=O)}}}var R=wo(C,PF);return R},NF=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:a,at:u=t.selection}=n;if(u){var l=S.after(t,u,{voids:o});if(l){var[,f]=S.last(t,[]),d=[l.path,f];if($.isPath(u)&&u.length===0)throw new Error("Cannot get the next node from the root node!");if(a==null)if($.isPath(u)){var[p]=S.parent(t,u);a=y=>p.children.includes(y)}else a=()=>!0;var[v]=S.nodes(t,{at:d,match:a,mode:r,voids:o});return v}}},BF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=S.path(t,n,r),a=Ee.get(t,o);return[a,o]};function FF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(function*(){var{at:n=e.selection,mode:r="all",universal:o=!1,reverse:a=!1,voids:u=!1,ignoreNonSelectable:l=!1}=t,{match:f}=t;if(f||(f=()=>!0),!!n){var d,p;if(wB.isSpan(n))d=n[0],p=n[1];else{var v=S.path(e,n,{edge:"start"}),y=S.path(e,n,{edge:"end"});d=a?y:v,p=a?v:y}var C=Ee.nodes(e,{reverse:a,from:d,to:p,pass:R=>{var[F]=R;return Ne.isElement(F)?!!(!u&&(S.isVoid(e,F)||S.isElementReadOnly(e,F))||l&&!S.isSelectable(e,F)):!1}}),x=[],E;for(var[b,O]of C)if(!(l&&Ne.isElement(b)&&!S.isSelectable(e,b))){var A=E&&$.compare(O,E[1])===0;if(!(r==="highest"&&A)){if(!f(b,O)){if(o&&!A&&Fe.isText(b))return;continue}if(r==="lowest"&&A){E=[b,O];continue}var P=r==="lowest"?E:[b,O];P&&(o?x.push(P):yield P),E=[b,O]}}r==="lowest"&&E&&(o?x.push(E):yield E),o&&(yield*x)}})()}var _F=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,a=p=>Qc.get(p)||[],u=p=>Jc.get(p)||new Set,l=p=>{var v=a(p).pop(),y=v.join(",");return u(p).delete(y),v};if(S.isNormalizing(t)){if(r){var f=Array.from(Ee.nodes(t),p=>{var[,v]=p;return v}),d=new Set(f.map(p=>p.join(",")));Qc.set(t,f),Jc.set(t,d)}a(t).length!==0&&S.withoutNormalizing(t,()=>{for(var p of a(t))if(Ee.has(t,p)){var v=S.node(t,p),[y,C]=v;Ne.isElement(y)&&y.children.length===0&&t.normalizeNode(v,{operation:o})}for(var x=a(t),E=x.length,b=0;x.length!==0;){if(!t.shouldNormalize({dirtyPaths:x,iteration:b,initialDirtyPathsLength:E,operation:o}))return;var O=l(t);if(Ee.has(t,O)){var A=S.node(t,O);t.normalizeNode(A,{operation:o})}b++,x=a(t)}})}},MF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=S.path(t,n,r),a=$.parent(o),u=S.node(t,a);return u},jF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,a={current:n,affinity:o,unref(){var{current:l}=a,f=S.pathRefs(t);return f.delete(a),a.current=null,l}},u=S.pathRefs(t);return u.add(a),a},LF=e=>{var t=bw.get(e);return t||(t=new Set,bw.set(e,t)),t},$F=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:a}=r;if($.isPath(n)){if(a==="start"){var[,u]=Ee.first(t,n);n=u}else if(a==="end"){var[,l]=Ee.last(t,n);n=l}}return ne.isRange(n)&&(a==="start"?n=ne.start(n):a==="end"?n=ne.end(n):n=$.common(n.anchor.path,n.focus.path)),ot.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},zF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,a={current:n,affinity:o,unref(){var{current:l}=a,f=S.pointRefs(t);return f.delete(a),a.current=null,l}},u=S.pointRefs(t);return u.add(a),a},UF=e=>{var t=ww.get(e);return t||(t=new Set,ww.set(e,t)),t},HF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if($.isPath(n)){var a;if(o==="end"){var[,u]=Ee.last(t,n);a=u}else{var[,l]=Ee.first(t,n);a=l}var f=Ee.get(t,a);if(!Fe.isText(f))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:a,offset:o==="end"?f.text.length:0}}if(ne.isRange(n)){var[d,p]=ne.edges(n);return o==="start"?d:p}return n};function WF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(function*(){var{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:a=!1,ignoreNonSelectable:u=!1}=t;if(!n)return;var l=S.range(e,n),[f,d]=ne.edges(l),p=o?d:f,v=!1,y="",C=0,x=0,E=0;for(var[b,O]of S.nodes(e,{at:n,reverse:o,voids:a,ignoreNonSelectable:u})){if(Ne.isElement(b)){if(!a&&(e.isVoid(b)||e.isElementReadOnly(b))){yield S.start(e,O);continue}if(e.isInline(b))continue;if(S.hasInlines(e,b)){var A=$.isAncestor(O,d.path)?d:S.end(e,O),P=$.isAncestor(O,f.path)?f:S.start(e,O);y=S.string(e,{anchor:P,focus:A},{voids:a}),v=!0}}if(Fe.isText(b)){var R=$.equals(O,p.path);for(R?(x=o?p.offset:b.text.length-p.offset,E=p.offset):(x=b.text.length,E=o?x:0),(R||v||r==="offset")&&(yield{path:O,offset:E},v=!1);;){if(C===0){if(y==="")break;C=F(y,r,o),y=Np(y,C,o)[1]}if(E=o?E-C:E+C,x=x-C,x<0){C=-x;break}C=0,yield{path:O,offset:E}}}}function F(L,I,q){return I==="character"?Ip(L,q):I==="word"?AB(L,q):I==="line"||I==="block"?L.length:1}})()}var VF=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:a,at:u=t.selection}=n;if(u){var l=S.before(t,u,{voids:o});if(l){var[,f]=S.first(t,[]),d=[l.path,f];if($.isPath(u)&&u.length===0)throw new Error("Cannot get the previous node from the root node!");if(a==null)if($.isPath(u)){var[p]=S.parent(t,u);a=y=>p.children.includes(y)}else a=()=>!0;var[v]=S.nodes(t,{reverse:!0,at:d,match:a,mode:r,voids:o});return v}}},KF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,a={current:n,affinity:o,unref(){var{current:l}=a,f=S.rangeRefs(t);return f.delete(a),a.current=null,l}},u=S.rangeRefs(t);return u.add(a),a},qF=e=>{var t=Cw.get(e);return t||(t=new Set,Cw.set(e,t)),t},GF=(e,t,n)=>{if(ne.isRange(t)&&!n)return t;var r=S.start(e,t),o=S.end(e,n||t);return{anchor:r,focus:o}};function Gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function YF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var XF=(e,t)=>{var{selection:n}=e;if(n){var r=(p,v)=>{if(!Fe.isText(p))return!1;var[y,C]=S.parent(e,v);return!e.isVoid(y)||e.markableVoid(y)},o=ne.isExpanded(n),a=!1;if(!o){var[u,l]=S.node(e,n);if(u&&r(u,l)){var[f]=S.parent(e,l);a=f&&e.markableVoid(f)}}if(o||a)de.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var d=YF({},S.marks(e)||{});delete d[t],e.marks=d,Uu.get(e)||e.onChange()}}},ZF=(e,t)=>{yw.set(e,t)},QF=(e,t)=>S.point(e,t,{edge:"start"}),JF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,a=S.range(t,n),[u,l]=ne.edges(a),f="";for(var[d,p]of S.nodes(t,{at:a,match:Fe.isText,voids:o})){var v=d.text;$.equals(p,l.path)&&(v=v.slice(0,l.offset)),$.equals(p,u.path)&&(v=v.slice(u.offset)),f+=v}return f},e2=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[a,u]=ne.edges(n);if(a.offset!==0||u.offset!==0||ne.isCollapsed(n)||$.hasPrevious(u.path))return n;var l=S.above(t,{at:u,match:x=>Ne.isElement(x)&&S.isBlock(t,x),voids:o}),f=l?l[1]:[],d=S.start(t,a),p={anchor:d,focus:u},v=!0;for(var[y,C]of S.nodes(t,{at:p,match:Fe.isText,reverse:!0,voids:o})){if(v){v=!1;continue}if(y.text!==""||$.isBefore(C,f)){u={path:C,offset:y.text.length};break}}return{anchor:a,focus:u}},t2=(e,t)=>{var n=S.isNormalizing(e);S.setNormalizing(e,!1);try{t()}finally{S.setNormalizing(e,n)}S.normalize(e)},n2=(e,t,n)=>{var[r,o]=t;return Ne.isElement(r)&&S.isEmpty(e,r)||Fe.isText(r)&&r.text===""&&o[o.length-1]!==0},r2=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.withoutNormalizing(t,()=>{var r,o,{reverse:a=!1,unit:u="character",distance:l=1,voids:f=!1}=n,{at:d=t.selection,hanging:p=!1}=n;if(d){var v=!1;if(ne.isRange(d)&&ne.isCollapsed(d)&&(v=!0,d=d.anchor),ot.isPoint(d)){var y=S.void(t,{at:d,mode:"highest"});if(!f&&y){var[,C]=y;d=C}else{var x={unit:u,distance:l},E=a?S.before(t,d,x)||S.start(t,[]):S.after(t,d,x)||S.end(t,[]);d={anchor:d,focus:E},p=!0}}if($.isPath(d)){de.removeNodes(t,{at:d,voids:f});return}if(!ne.isCollapsed(d)){if(!p){var[,b]=ne.edges(d),O=S.end(t,[]);ot.equals(b,O)||(d=S.unhangRange(t,d,{voids:f}))}var[A,P]=ne.edges(d),R=S.above(t,{match:N=>Ne.isElement(N)&&S.isBlock(t,N),at:A,voids:f}),F=S.above(t,{match:N=>Ne.isElement(N)&&S.isBlock(t,N),at:P,voids:f}),L=R&&F&&!$.equals(R[1],F[1]),I=$.equals(A.path,P.path),q=f?null:(r=S.void(t,{at:A,mode:"highest"}))!==null&&r!==void 0?r:S.elementReadOnly(t,{at:A,mode:"highest"}),ue=f?null:(o=S.void(t,{at:P,mode:"highest"}))!==null&&o!==void 0?o:S.elementReadOnly(t,{at:P,mode:"highest"});if(q){var Y=S.before(t,A);Y&&R&&$.isAncestor(R[1],Y.path)&&(A=Y)}if(ue){var re=S.after(t,P);re&&F&&$.isAncestor(F[1],re.path)&&(P=re)}var U=[],H;for(var V of S.nodes(t,{at:d,voids:f})){var[se,ve]=V;H&&$.compare(ve,H)===0||(!f&&Ne.isElement(se)&&(S.isVoid(t,se)||S.isElementReadOnly(t,se))||!$.isCommon(ve,A.path)&&!$.isCommon(ve,P.path))&&(U.push(V),H=ve)}var oe=Array.from(U,N=>{var[,me]=N;return S.pathRef(t,me)}),K=S.pointRef(t,A),G=S.pointRef(t,P),Q="";if(!I&&!q){var M=K.current,[J]=S.leaf(t,M),{path:te}=M,{offset:fe}=A,X=J.text.slice(fe);X.length>0&&(t.apply({type:"remove_text",path:te,offset:fe,text:X}),Q=X)}if(oe.reverse().map(N=>N.unref()).filter(N=>N!==null).forEach(N=>de.removeNodes(t,{at:N,voids:f})),!ue){var j=G.current,[Z]=S.leaf(t,j),{path:ae}=j,ce=I?A.offset:0,Pe=Z.text.slice(ce,P.offset);Pe.length>0&&(t.apply({type:"remove_text",path:ae,offset:ce,text:Pe}),Q=Pe)}!I&&L&&G.current&&K.current&&de.mergeNodes(t,{at:G.current,hanging:!0,voids:f}),v&&a&&u==="character"&&Q.length>1&&Q.match(/[\u0E00-\u0E7F]+/)&&de.insertText(t,Q.slice(0,Q.length-l));var Oe=K.unref(),Ie=G.unref(),Be=a?Oe||Ie:Ie||Oe;n.at==null&&Be&&de.select(t,Be)}}})},o2=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};S.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:a=!1}=r,{at:u=Pp(t),batchDirty:l=!0}=r;if(n.length){if(ne.isRange(u))if(o||(u=S.unhangRange(t,u,{voids:a})),ne.isCollapsed(u))u=u.anchor;else{var[,f]=ne.edges(u);if(!a&&S.void(t,{at:f}))return;var d=S.pointRef(t,f);de.delete(t,{at:u}),u=d.unref()}else $.isPath(u)&&(u=S.start(t,u));if(!(!a&&S.void(t,{at:u}))){var p=S.above(t,{at:u,match:X=>Ne.isElement(X)&&S.isInline(t,X),mode:"highest",voids:a});if(p){var[,v]=p;if(S.isEnd(t,u,v)){var y=S.after(t,v);u=y}else if(S.isStart(t,u,v)){var C=S.before(t,v);u=C}}var x=S.above(t,{match:X=>Ne.isElement(X)&&S.isBlock(t,X),at:u,voids:a}),[,E]=x,b=S.isStart(t,u,E),O=S.isEnd(t,u,E),A=b&&O,P=!b||b&&O,R=!O,[,F]=Ee.first({children:n},[]),[,L]=Ee.last({children:n},[]),I=[],q=X=>{var[j,Z]=X,ae=Z.length===0;return ae?!1:A?!0:!(P&&$.isAncestor(Z,F)&&Ne.isElement(j)&&!t.isVoid(j)&&!t.isInline(j)||R&&$.isAncestor(Z,L)&&Ne.isElement(j)&&!t.isVoid(j)&&!t.isInline(j))};for(var ue of Ee.nodes({children:n},{pass:q}))q(ue)&&I.push(ue);var Y=[],re=[],U=[],H=!0,V=!1;for(var[se]of I)Ne.isElement(se)&&!t.isInline(se)?(H=!1,V=!0,re.push(se)):H?Y.push(se):U.push(se);var[ve]=S.nodes(t,{at:u,match:X=>Fe.isText(X)||S.isInline(t,X),mode:"highest",voids:a}),[,oe]=ve,K=S.isStart(t,u,oe),G=S.isEnd(t,u,oe),Q=S.pathRef(t,O&&!U.length?$.next(E):E),M=S.pathRef(t,G?$.next(oe):oe);de.splitNodes(t,{at:u,match:X=>V?Ne.isElement(X)&&S.isBlock(t,X):Fe.isText(X)||S.isInline(t,X),mode:V?"lowest":"highest",always:V&&(!b||Y.length>0)&&(!O||U.length>0),voids:a});var J=S.pathRef(t,!K||K&&G?$.next(oe):oe);if(de.insertNodes(t,Y,{at:J.current,match:X=>Fe.isText(X)||S.isInline(t,X),mode:"highest",voids:a,batchDirty:l}),A&&!Y.length&&re.length&&!U.length&&de.delete(t,{at:E,voids:a}),de.insertNodes(t,re,{at:Q.current,match:X=>Ne.isElement(X)&&S.isBlock(t,X),mode:"lowest",voids:a,batchDirty:l}),de.insertNodes(t,U,{at:M.current,match:X=>Fe.isText(X)||S.isInline(t,X),mode:"highest",voids:a,batchDirty:l}),!r.at){var te;if(U.length>0&&M.current?te=$.previous(M.current):re.length>0&&Q.current?te=$.previous(Q.current):J.current&&(te=$.previous(J.current)),te){var fe=S.end(t,te);de.select(t,fe)}}J.unref(),Q.unref(),M.unref()}}})},i2=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")de.select(t,o.anchor);else if(r==="focus")de.select(t,o.focus);else if(r==="start"){var[a]=ne.edges(o);de.select(t,a)}else if(r==="end"){var[,u]=ne.edges(o);de.select(t,u)}}else return},s2=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},a2=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:a="character",reverse:u=!1}=n,{edge:l=null}=n;if(r){l==="start"&&(l=ne.isBackward(r)?"focus":"anchor"),l==="end"&&(l=ne.isBackward(r)?"anchor":"focus");var{anchor:f,focus:d}=r,p={distance:o,unit:a,ignoreNonSelectable:!0},v={};if(l==null||l==="anchor"){var y=u?S.before(t,f,p):S.after(t,f,p);y&&(v.anchor=y)}if(l==null||l==="focus"){var C=u?S.before(t,d,p):S.after(t,d,p);C&&(v.focus=C)}de.setSelection(t,v)}},u2=(e,t)=>{var{selection:n}=e;if(t=S.range(e,t),n){de.setSelection(e,t);return}if(!ne.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Jt.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function Yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Xw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var l2=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:a="both"}=r;if(o){a==="start"&&(a=ne.isBackward(o)?"focus":"anchor"),a==="end"&&(a=ne.isBackward(o)?"anchor":"focus");var{anchor:u,focus:l}=o,f=a==="anchor"?u:l;de.setSelection(t,{[a==="anchor"?"anchor":"focus"]:Xw(Xw({},f),n)})}},c2=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var a in t)(a==="anchor"&&t.anchor!=null&&!ot.equals(t.anchor,n.anchor)||a==="focus"&&t.focus!=null&&!ot.equals(t.focus,n.focus)||a!=="anchor"&&a!=="focus"&&t[a]!==n[a])&&(r[a]=n[a],o[a]=t[a]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},f2=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};S.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:a=!1,mode:u="lowest",batchDirty:l=!0}=r,{at:f,match:d,select:p}=r;if(Ee.isNode(n)&&(n=[n]),n.length!==0){var[v]=n;if(f||(f=Pp(t),p!==!1&&(p=!0)),p==null&&(p=!1),ne.isRange(f))if(o||(f=S.unhangRange(t,f,{voids:a})),ne.isCollapsed(f))f=f.anchor;else{var[,y]=ne.edges(f),C=S.pointRef(t,y);de.delete(t,{at:f}),f=C.unref()}if(ot.isPoint(f)){d==null&&(Fe.isText(v)?d=Y=>Fe.isText(Y):t.isInline(v)?d=Y=>Fe.isText(Y)||S.isInline(t,Y):d=Y=>Ne.isElement(Y)&&S.isBlock(t,Y));var[x]=S.nodes(t,{at:f.path,match:d,mode:u,voids:a});if(x){var[,E]=x,b=S.pathRef(t,E),O=S.isEnd(t,f,E);de.splitNodes(t,{at:f,match:d,mode:u,voids:a});var A=b.unref();f=O?$.next(A):A}else return}var P=$.parent(f),R=f[f.length-1];if(!(!a&&S.void(t,{at:P}))){if(l){var F=[],L=$.levels(P);GB(t,()=>{var Y=function(){var H=P.concat(R);R++;var V={type:"insert_node",path:H,node:re};t.apply(V),f=$.next(f),F.push(V),Fe.isText?L.push(...Array.from(Ee.nodes(re),se=>{var[,ve]=se;return H.concat(ve)})):L.push(H)};for(var re of n)Y()},()=>{Fw(t,L,Y=>{var re=Y;for(var U of F)if($.operationCanTransformPath(U)&&(re=$.transform(re,U),!re))return null;return re})})}else for(var I of n){var q=P.concat(R);R++,t.apply({type:"insert_node",path:q,node:I}),f=$.next(f)}if(f=$.previous(f),p){var ue=S.end(t,f);ue&&de.select(t,ue)}}}})},d2=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:a=!1}=n,{match:u}=n;if(u==null&&(u=$.isPath(r)?pa(t,r):R=>Ne.isElement(R)&&S.isBlock(t,R)),!!r){var l=S.nodes(t,{at:r,match:u,mode:o,voids:a}),f=Array.from(l,R=>{var[,F]=R;return S.pathRef(t,F)});for(var d of f){var p=d.unref();if(p.length<2)throw new Error("Cannot lift node at a path [".concat(p,"] because it has a depth of less than `2`."));var v=S.node(t,$.parent(p)),[y,C]=v,x=p[p.length-1],{length:E}=y.children;if(E===1){var b=$.next(C);de.moveNodes(t,{at:p,to:b,voids:a}),de.removeNodes(t,{at:C,voids:a})}else if(x===0)de.moveNodes(t,{at:p,to:C,voids:a});else if(x===E-1){var O=$.next(C);de.moveNodes(t,{at:p,to:O,voids:a})}else{var A=$.next(p),P=$.next(C);de.splitNodes(t,{at:A,voids:a}),de.moveNodes(t,{at:p,to:P,voids:a})}}}})},h2=["text"],p2=["children"],Zw=(e,t)=>{if(Ne.isElement(t)){var n=t;return S.isVoid(e,t)?!0:n.children.length===1?Zw(e,n.children[0]):!1}else return!S.isEditor(t)},m2=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:a=!1,voids:u=!1,mode:l="lowest"}=n;if(o){if(r==null)if($.isPath(o)){var[f]=S.parent(t,o);r=Y=>f.children.includes(Y)}else r=Y=>Ne.isElement(Y)&&S.isBlock(t,Y);if(!a&&ne.isRange(o)&&(o=S.unhangRange(t,o,{voids:u})),ne.isRange(o))if(ne.isCollapsed(o))o=o.anchor;else{var[,d]=ne.edges(o),p=S.pointRef(t,d);de.delete(t,{at:o}),o=p.unref(),n.at==null&&de.select(t,o)}var[v]=S.nodes(t,{at:o,match:r,voids:u,mode:l}),y=S.previous(t,{at:o,match:r,voids:u,mode:l});if(!(!v||!y)){var[C,x]=v,[E,b]=y;if(!(x.length===0||b.length===0)){var O=$.next(b),A=$.common(x,b),P=$.isSibling(x,b),R=Array.from(S.levels(t,{at:x}),Y=>{var[re]=Y;return re}).slice(A.length).slice(0,-1),F=S.above(t,{at:x,mode:"highest",match:Y=>R.includes(Y)&&Zw(t,Y)}),L=F&&S.pathRef(t,F[1]),I,q;if(Fe.isText(C)&&Fe.isText(E)){var ue=wo(C,h2);q=E.text.length,I=ue}else if(Ne.isElement(C)&&Ne.isElement(E)){var ue=wo(C,p2);q=E.children.length,I=ue}else throw new Error("Cannot merge the node at path [".concat(x,"] with the previous sibling because it is not the same kind: ").concat(Jt.stringify(C)," ").concat(Jt.stringify(E)));P||de.moveNodes(t,{at:x,to:O,voids:u}),L&&de.removeNodes(t,{at:L.current,voids:u}),S.shouldMergeNodesRemovePrevNode(t,y,v)?de.removeNodes(t,{at:b,voids:u}):t.apply({type:"merge_node",path:O,position:q,properties:I}),L&&L.unref()}}}})},v2=(e,t)=>{S.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:a=!1}=t,{match:u}=t;if(r){u==null&&(u=$.isPath(r)?pa(e,r):C=>Ne.isElement(C)&&S.isBlock(e,C));var l=S.pathRef(e,n),f=S.nodes(e,{at:r,match:u,mode:o,voids:a}),d=Array.from(f,C=>{var[,x]=C;return S.pathRef(e,x)});for(var p of d){var v=p.unref(),y=l.current;v.length!==0&&e.apply({type:"move_node",path:v,newPath:y}),l.current&&$.isSibling(y,v)&&$.isAfter(y,v)&&(l.current=$.next(l.current))}l.unref()}})},g2=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:a="lowest"}=n,{at:u=t.selection,match:l}=n;if(u){l==null&&(l=$.isPath(u)?pa(t,u):C=>Ne.isElement(C)&&S.isBlock(t,C)),!r&&ne.isRange(u)&&(u=S.unhangRange(t,u,{voids:o}));var f=S.nodes(t,{at:u,match:l,mode:a,voids:o}),d=Array.from(f,C=>{var[,x]=C;return S.pathRef(t,x)});for(var p of d){var v=p.unref();if(v){var[y]=S.node(t,v);t.apply({type:"remove_node",path:v,node:y})}}}})},y2=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};S.withoutNormalizing(t,()=>{var{match:o,at:a=t.selection,compare:u,merge:l}=r,{hanging:f=!1,mode:d="lowest",split:p=!1,voids:v=!1}=r;if(a){if(o==null&&(o=$.isPath(a)?pa(t,a):q=>Ne.isElement(q)&&S.isBlock(t,q)),!f&&ne.isRange(a)&&(a=S.unhangRange(t,a,{voids:v})),p&&ne.isRange(a)){if(ne.isCollapsed(a)&&S.leaf(t,a.anchor)[0].text.length>0)return;var y=S.rangeRef(t,a,{affinity:"inward"}),[C,x]=ne.edges(a),E=d==="lowest"?"lowest":"highest",b=S.isEnd(t,x,x.path);de.splitNodes(t,{at:x,match:o,mode:E,voids:v,always:!b});var O=S.isStart(t,C,C.path);de.splitNodes(t,{at:C,match:o,mode:E,voids:v,always:!O}),a=y.unref(),r.at==null&&de.select(t,a)}u||(u=(q,ue)=>q!==ue);for(var[A,P]of S.nodes(t,{at:a,match:o,mode:d,voids:v})){var R={},F={};if(P.length!==0){var L=!1;for(var I in n)I==="children"||I==="text"||u(n[I],A[I])&&(L=!0,A.hasOwnProperty(I)&&(R[I]=A[I]),l?n[I]!=null&&(F[I]=l(A[I],n[I])):n[I]!=null&&(F[I]=n[I]));L&&t.apply({type:"set_node",path:P,properties:R,newProperties:F})}}}})},b2=(e,t)=>{if(ne.isCollapsed(t))return t.anchor;var[,n]=ne.edges(t),r=S.pointRef(e,n);return de.delete(e,{at:t}),r.unref()},w2=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:a,at:u=t.selection,height:l=0,always:f=!1}=n;if(a==null&&(a=G=>Ne.isElement(G)&&S.isBlock(t,G)),ne.isRange(u)&&(u=b2(t,u)),$.isPath(u)){var d=u,p=S.point(t,d),[v]=S.parent(t,d);a=G=>G===v,l=p.path.length-d.length+1,u=p,f=!0}if(u){var y=S.pointRef(t,u,{affinity:"backward"}),C;try{var[x]=S.nodes(t,{at:u,match:a,mode:r,voids:o});if(!x)return;var E=S.void(t,{at:u,mode:"highest"}),b=0;if(!o&&E){var[O,A]=E;if(Ne.isElement(O)&&t.isInline(O)){var P=S.after(t,A);if(!P){var R={text:""},F=$.next(A);de.insertNodes(t,R,{at:F,voids:o}),P=S.point(t,F)}u=P,f=!0}var L=u.path.length-A.length;l=L+1,f=!0}C=S.pointRef(t,u);var I=u.path.length-l,[,q]=x,ue=u.path.slice(0,I),Y=l===0?u.offset:u.path[I]+b;for(var[re,U]of S.levels(t,{at:ue,reverse:!0,voids:o})){var H=!1;if(U.length<q.length||U.length===0||!o&&Ne.isElement(re)&&S.isVoid(t,re))break;var V=y.current,se=S.isEnd(t,V,U);if(f||!y||!S.isEdge(t,V,U)){H=!0;var ve=Ee.extractProps(re);t.apply({type:"split_node",path:U,position:Y,properties:ve})}Y=U[U.length-1]+(H||se?1:0)}if(n.at==null){var oe=C.current||S.end(t,[]);de.select(t,oe)}}finally{var K;y.unref(),(K=C)===null||K===void 0||K.unref()}}})},C2=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var a of n)o[a]=null;de.setNodes(t,o,r)},E2=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:a=!1}=n,{at:u=t.selection,match:l}=n;if(u){l==null&&(l=$.isPath(u)?pa(t,u):C=>Ne.isElement(C)&&S.isBlock(t,C)),$.isPath(u)&&(u=S.range(t,u));var f=ne.isRange(u)?S.rangeRef(t,u):null,d=S.nodes(t,{at:u,match:l,mode:r,voids:a}),p=Array.from(d,C=>{var[,x]=C;return S.pathRef(t,x)}).reverse(),v=function(){var x=y.unref(),[E]=S.node(t,x),b=S.range(t,x);o&&f&&(b=ne.intersection(f.current,b)),de.liftNodes(t,{at:b,match:O=>Ne.isAncestor(E)&&E.children.includes(O),voids:a})};for(var y of p)v();f&&f.unref()}})};function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(n),!0).forEach(function(r){yn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var D2=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};S.withoutNormalizing(t,()=>{var{mode:o="lowest",split:a=!1,voids:u=!1}=r,{match:l,at:f=t.selection}=r;if(f){if(l==null&&($.isPath(f)?l=pa(t,f):t.isInline(n)?l=b=>Ne.isElement(b)&&S.isInline(t,b)||Fe.isText(b):l=b=>Ne.isElement(b)&&S.isBlock(t,b)),a&&ne.isRange(f)){var[d,p]=ne.edges(f),v=S.rangeRef(t,f,{affinity:"inward"});de.splitNodes(t,{at:p,match:l,voids:u}),de.splitNodes(t,{at:d,match:l,voids:u}),f=v.unref(),r.at==null&&de.select(t,f)}var y=Array.from(S.nodes(t,{at:f,match:t.isInline(n)?b=>Ne.isElement(b)&&S.isBlock(t,b):b=>S.isEditor(b),mode:"lowest",voids:u})),C=function(){var O=ne.isRange(f)?ne.intersection(f,S.range(t,E)):f;if(!O)return 0;var A=Array.from(S.nodes(t,{at:O,match:l,mode:o,voids:u}));if(A.length>0){var[P]=A,R=A[A.length-1],[,F]=P,[,L]=R;if(F.length===0&&L.length===0)return 0;var I=$.equals(F,L)?$.parent(F):$.common(F,L),q=S.range(t,F,L),ue=S.node(t,I),[Y]=ue,re=I.length+1,U=$.next(L.slice(0,re)),H=Jw(Jw({},n),{},{children:[]});de.insertNodes(t,H,{at:U,voids:u}),de.moveNodes(t,{at:q,match:V=>Ne.isAncestor(Y)&&Y.children.includes(V),to:U.concat(0),voids:u})}},x;for(var[,E]of y)x=C()}})},eC=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YB(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tF(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return oF(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return iF(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sF(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZB(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gF(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bF(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return o2(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yF(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qw(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QB(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XF(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XB(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JB(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return eF(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return nF(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rF(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i2(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r2(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s2(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aF(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uF(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lF(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cF(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fF(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IF(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hF(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pF(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mF(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vF(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f2(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CF(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return EF(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DF(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xF(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SF(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AF(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return OF(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TF(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kF(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d2(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m2(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a2(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v2(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NF(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BF(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FF(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _F(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MF(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $F(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jF(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LF(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HF(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zF(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return UF(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WF(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VF(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GF(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KF(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qF(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g2(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return u2(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y2(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZF(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return l2(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c2(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return w2(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QF(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JF(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e2(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return C2(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E2(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dF(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t2(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return D2(e,...r)},shouldMergeNodesRemovePrevNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return n2(e,...r)}};return e};function Vu(e,t,n={}){const{filterVoids:r}=n,o=S.before(e,t,{unit:"character",voids:r});if(o){const a=S.range(e,o,ne.isRange(t)?ne.start(t):t),u=S.string(e,a);return{range:a,text:u,void:u.length===0}}}function Bp(e,t,n={}){const{filterVoids:r}=n,o=S.after(e,t,{unit:"character",voids:r});if(o){const a=S.range(e,o,ne.isRange(t)?ne.end(t):t),u=S.string(e,a);return{range:a,text:u,void:u.length===0}}}const x2=/\s/;function nf(e){return e?x2.test(e):!1}const tC={direction:"before",allowConsecutiveWhitespace:!0};function nC(e,t,n=[" "],r=tC){const{include:o,direction:a,ignoreTerminator:u,allowConsecutiveWhitespace:l}={...tC,...r};let[f,d]=ne.edges(t),p=f,v=!1;function y(C){const x=C==="after"?S.after(e,p,{unit:"character"}):S.before(e,p,{unit:"character"});if(!x||$.compare(x.path,p.path)!==0)return!1;const E=x&&S.string(e,C==="after"?{anchor:p,focus:x}:{anchor:x,focus:p}),b=E&&E[C==="after"?0:E.length-1];if(!l&&v&&nf(b))return!1;if(x&&b&&(!n.includes(b)||u!=null&&u(b,x,C))){if(v=nf(b),p=x,p.offset===0)return!1}else return!1;return!0}if(a!=="before"){for(p=d;y("after"););d=p}if(a!=="after"){for(p=f;y("before"););f=p}return o?{anchor:a==="before"||a==="both"?S.before(e,f,{unit:"offset"})??f:f,focus:a==="after"||a==="both"?S.after(e,d,{unit:"offset"})??d:d}:{anchor:f,focus:d}}function va(e){return!e.trim()}const ri="@";function S2(e){const{selection:t}=e;if(!t||!ne.isCollapsed(t))return;const n=nC(e,t,["@"],{include:!0,allowConsecutiveWhitespace:!1,ignoreTerminator:(o,a)=>{const u=Vu(e,a);return!!(u&&!nf(u.text))}});if(!n)return;const r=S.string(e,n);if(!(!r.startsWith(ri)||r.length>1&&nf(r[1])))return{range:n,text:r.substring(1)}}function Ku(e){return Ne.isElement(e)&&e.type==="mention"}function A2(e,t){const n={type:"mention",id:t,children:[{text:""}]};de.insertNodes(e,n),de.move(e);const r=e.selection?Bp(e,e.selection):void 0;!r||r.void?de.insertText(e," "):va(r.text)&&de.move(e)}function O2(e){if(!e.selection)return;const t=Vu(e,e.selection,{filterVoids:!0}),n=Bp(e,e.selection,{filterVoids:!0}),r=t&&!va(t.text),o=n&&!va(n.text);if(ne.isCollapsed(e.selection)){const a=(r?" ":"")+ri;e.insertText(a,{at:ne.start(e.selection)}),o&&e.insertText(" ",{at:ne.end(e.selection)}),de.collapse(e,{edge:"end"})}else{const a=(r?" ":"")+ri+(o?" ":"");e.insertText(a),o&&de.move(e,{distance:1,unit:"character",reverse:!0})}}function T2(e){const{isInline:t,isVoid:n,markableVoid:r,deleteBackward:o}=e;return e.isInline=a=>Ku(a)||t(a),e.isVoid=a=>Ku(a)||n(a),e.markableVoid=a=>Ku(a)||r(a),e.deleteBackward=a=>{const{selection:u}=e;if(u&&ne.isCollapsed(u)){const[l]=S.nodes(e,{at:a==="character"?S.before(e,u,{unit:"character"}):u,match:Ku});o(a),l&&de.insertText(e,ri)}else o(a)},e}function k2(e){return!("type"in e)&&"text"in e&&typeof e.text=="string"}function rC(e){return"type"in e&&e.type==="mention"}function oC(e){return"type"in e&&e.type==="link"}function iC(e){if(e.startsWith("http://")||e.startsWith("https://"))return e;if(e.startsWith("www."))return"https://"+e}const sC=m.forwardRef(({children:e,asChild:t,...n},r)=>{const o=t?Zt:"span";return w.jsx(o,{...n,ref:r,children:e})}),aC=m.forwardRef(({children:e,asChild:t,...n},r)=>{const o=t?Zt:"a";return w.jsx(o,{target:"_blank",rel:"noopener noreferrer nofollow",...n,ref:r,children:e})}),R2={Mention:({userId:e})=>w.jsxs(sC,{children:[ri,e]}),Link:({href:e,children:t})=>w.jsx(aC,{href:e,children:t})},P2=m.forwardRef(({body:e,components:t,style:n,asChild:r,...o},a)=>{const u=r?Zt:"div",{Mention:l,Link:f}=m.useMemo(()=>({...R2,...t}),[t]);return!e||!(e!=null&&e.content)?null:w.jsx(u,{...o,style:{whiteSpace:"break-spaces",...n},ref:a,children:e.content.map((d,p)=>{switch(d.type){case"paragraph":return w.jsx("p",{style:{minHeight:"1lh"},children:d.children.map((v,y)=>{if(rC(v))return v.id?w.jsx(l,{userId:v.id},y):null;if(oC(v)){const x=iC(v.url)??v.url;return w.jsx(f,{href:x,children:v.text??v.url},y)}let C=v.text;return v.bold&&(C=w.jsx("strong",{children:C},y)),v.italic&&(C=w.jsx("em",{children:C},y)),v.strikethrough&&(C=w.jsx("s",{children:C},y)),v.code&&(C=w.jsx("code",{children:C},y)),w.jsx("span",{children:C},y)})},p);default:return null}})})});var I2={isHistory(e){return Qt(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||ni.isOperationList(e.redos[0].operations))&&(e.undos.length===0||ni.isOperationList(e.undos[0].operations))}},Fp=new WeakMap,ls=new WeakMap,rf=new WeakMap,zr={isHistoryEditor(e){return I2.isHistory(e.history)&&S.isEditor(e)},isMerging(e){return ls.get(e)},isSplittingOnce(e){return rf.get(e)},setSplittingOnce(e,t){rf.set(e,t)},isSaving(e){return Fp.get(e)},redo(e){e.redo()},undo(e){e.undo()},withMerging(e,t){var n=zr.isMerging(e);ls.set(e,!0),t(),ls.set(e,n)},withNewBatch(e,t){var n=zr.isMerging(e);ls.set(e,!0),rf.set(e,!0),t(),ls.set(e,n),rf.delete(e)},withoutMerging(e,t){var n=zr.isMerging(e);ls.set(e,!1),t(),ls.set(e,n)},withoutSaving(e,t){var n=zr.isSaving(e);Fp.set(e,!1),t(),Fp.set(e,n)}},N2=e=>{var t=e,{apply:n}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:r}=t,{redos:o}=r;if(o.length>0){var a=o[o.length-1];a.selectionBefore&&de.setSelection(t,a.selectionBefore),zr.withoutSaving(t,()=>{S.withoutNormalizing(t,()=>{for(var u of a.operations)t.apply(u)})}),r.redos.pop(),t.writeHistory("undos",a)}},t.undo=()=>{var{history:r}=t,{undos:o}=r;if(o.length>0){var a=o[o.length-1];zr.withoutSaving(t,()=>{S.withoutNormalizing(t,()=>{var u=a.operations.map(ni.inverse).reverse();for(var l of u)t.apply(l);a.selectionBefore&&de.setSelection(t,a.selectionBefore)})}),t.writeHistory("redos",a),r.undos.pop()}},t.apply=r=>{var{operations:o,history:a}=t,{undos:u}=a,l=u[u.length-1],f=l&&l.operations[l.operations.length-1],d=zr.isSaving(t),p=zr.isMerging(t);if(d==null&&(d=F2(r)),d){if(p==null&&(l==null?p=!1:o.length!==0?p=!0:p=B2(r,f)),zr.isSplittingOnce(t)&&(p=!1,zr.setSplittingOnce(t,void 0)),l&&p)l.operations.push(r);else{var v={operations:[r],selectionBefore:t.selection};t.writeHistory("undos",v)}for(;u.length>100;)u.shift();a.redos=[]}n(r)},t.writeHistory=(r,o)=>{t.history[r].push(o)},t},B2=(e,t)=>!!(t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&$.equals(e.path,t.path)||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&$.equals(e.path,t.path)),F2=(e,t)=>e.type!=="set_selection",_p,uC;function _2(){if(uC)return _p;uC=1,_p=o;var e="---",t="A-Za-z--------",n=new RegExp("^[^"+t+"]*["+e+"]"),r=new RegExp("^[^"+e+"]*["+t+"]");function o(a){return a=String(a||""),n.test(a)?"rtl":r.test(a)?"ltr":"neutral"}return _p}var M2=_2();const lC=Mr(M2);var Mp,cC;function jp(){if(cC)return Mp;cC=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Mp=e,Mp}var Lp,fC;function j2(){if(fC)return Lp;fC=1;var e=typeof Rt=="object"&&Rt&&Rt.Object===Object&&Rt;return Lp=e,Lp}var $p,dC;function hC(){if(dC)return $p;dC=1;var e=j2(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return $p=n,$p}var zp,pC;function L2(){if(pC)return zp;pC=1;var e=hC(),t=function(){return e.Date.now()};return zp=t,zp}var Up,mC;function $2(){if(mC)return Up;mC=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Up=t,Up}var Hp,vC;function z2(){if(vC)return Hp;vC=1;var e=$2(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Hp=n,Hp}var Wp,gC;function yC(){if(gC)return Wp;gC=1;var e=hC(),t=e.Symbol;return Wp=t,Wp}var Vp,bC;function U2(){if(bC)return Vp;bC=1;var e=yC(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;function a(u){var l=n.call(u,o),f=u[o];try{u[o]=void 0;var d=!0}catch{}var p=r.call(u);return d&&(l?u[o]=f:delete u[o]),p}return Vp=a,Vp}var Kp,wC;function H2(){if(wC)return Kp;wC=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Kp=n,Kp}var qp,CC;function W2(){if(CC)return qp;CC=1;var e=yC(),t=U2(),n=H2(),r="[object Null]",o="[object Undefined]",a=e?e.toStringTag:void 0;function u(l){return l==null?l===void 0?o:r:a&&a in Object(l)?t(l):n(l)}return qp=u,qp}var Gp,EC;function V2(){if(EC)return Gp;EC=1;function e(t){return t!=null&&typeof t=="object"}return Gp=e,Gp}var Yp,DC;function K2(){if(DC)return Yp;DC=1;var e=W2(),t=V2(),n="[object Symbol]";function r(o){return typeof o=="symbol"||t(o)&&e(o)==n}return Yp=r,Yp}var Xp,xC;function q2(){if(xC)return Xp;xC=1;var e=z2(),t=jp(),n=K2(),r=NaN,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;function f(d){if(typeof d=="number")return d;if(n(d))return r;if(t(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=t(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=e(d);var v=a.test(d);return v||u.test(d)?l(d.slice(2),v?2:8):o.test(d)?r:+d}return Xp=f,Xp}var Zp,SC;function AC(){if(SC)return Zp;SC=1;var e=jp(),t=L2(),n=q2(),r="Expected a function",o=Math.max,a=Math.min;function u(l,f,d){var p,v,y,C,x,E,b=0,O=!1,A=!1,P=!0;if(typeof l!="function")throw new TypeError(r);f=n(f)||0,e(d)&&(O=!!d.leading,A="maxWait"in d,y=A?o(n(d.maxWait)||0,f):y,P="trailing"in d?!!d.trailing:P);function R(H){var V=p,se=v;return p=v=void 0,b=H,C=l.apply(se,V),C}function F(H){return b=H,x=setTimeout(q,f),O?R(H):C}function L(H){var V=H-E,se=H-b,ve=f-V;return A?a(ve,y-se):ve}function I(H){var V=H-E,se=H-b;return E===void 0||V>=f||V<0||A&&se>=y}function q(){var H=t();if(I(H))return ue(H);x=setTimeout(q,L(H))}function ue(H){return x=void 0,P&&p?R(H):(p=v=void 0,C)}function Y(){x!==void 0&&clearTimeout(x),b=0,p=E=v=x=void 0}function re(){return x===void 0?C:ue(t())}function U(){var H=t(),V=I(H);if(p=arguments,v=this,E=H,V){if(x===void 0)return F(E);if(A)return clearTimeout(x),x=setTimeout(q,f),R(E)}return x===void 0&&(x=setTimeout(q,f)),C}return U.cancel=Y,U.flush=re,U}return Zp=u,Zp}var G2=AC();const Y2=Mr(G2);var Qp,OC;function X2(){if(OC)return Qp;OC=1;var e=AC(),t=jp(),n="Expected a function";function r(o,a,u){var l=!0,f=!0;if(typeof o!="function")throw new TypeError(n);return t(u)&&(l="leading"in u?!!u.leading:l,f="trailing"in u?!!u.trailing:f),e(o,a,{leading:l,maxWait:a,trailing:f})}return Qp=r,Qp}var Z2=X2();const Q2=Mr(Z2),TC=e=>typeof e=="object"&&e!=null&&e.nodeType===1,kC=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",of=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return kC(n.overflowY,t)||kC(n.overflowX,t)||(r=>{const o=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},sf=(e,t,n,r,o,a,u,l)=>a<e&&u>t||a>e&&u<t?0:a<=e&&l<=n||u>=t&&l>=n?a-e-r:u>t&&l<n||a<e&&l>n?u-t+o:0,J2=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},RC=(e,t)=>{var n,r,o,a;if(typeof document>"u")return[];const{scrollMode:u,block:l,inline:f,boundary:d,skipOverflowHiddenElements:p}=t,v=typeof d=="function"?d:ve=>ve!==d;if(!TC(e))throw new TypeError("Invalid target");const y=document.scrollingElement||document.documentElement,C=[];let x=e;for(;TC(x)&&v(x);){if(x=J2(x),x===y){C.push(x);break}x!=null&&x===document.body&&of(x)&&!of(document.documentElement)||x!=null&&of(x,p)&&C.push(x)}const E=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,b=(a=(o=window.visualViewport)==null?void 0:o.height)!=null?a:innerHeight,{scrollX:O,scrollY:A}=window,{height:P,width:R,top:F,right:L,bottom:I,left:q}=e.getBoundingClientRect(),{top:ue,right:Y,bottom:re,left:U}=(ve=>{const oe=window.getComputedStyle(ve);return{top:parseFloat(oe.scrollMarginTop)||0,right:parseFloat(oe.scrollMarginRight)||0,bottom:parseFloat(oe.scrollMarginBottom)||0,left:parseFloat(oe.scrollMarginLeft)||0}})(e);let H=l==="start"||l==="nearest"?F-ue:l==="end"?I+re:F+P/2-ue+re,V=f==="center"?q+R/2-U+Y:f==="end"?L+Y:q-U;const se=[];for(let ve=0;ve<C.length;ve++){const oe=C[ve],{height:K,width:G,top:Q,right:M,bottom:J,left:te}=oe.getBoundingClientRect();if(u==="if-needed"&&F>=0&&q>=0&&I<=b&&L<=E&&(oe===y&&!of(oe)||F>=Q&&I<=J&&q>=te&&L<=M))return se;const fe=getComputedStyle(oe),X=parseInt(fe.borderLeftWidth,10),j=parseInt(fe.borderTopWidth,10),Z=parseInt(fe.borderRightWidth,10),ae=parseInt(fe.borderBottomWidth,10);let ce=0,Pe=0;const Oe="offsetWidth"in oe?oe.offsetWidth-oe.clientWidth-X-Z:0,Ie="offsetHeight"in oe?oe.offsetHeight-oe.clientHeight-j-ae:0,Be="offsetWidth"in oe?oe.offsetWidth===0?0:G/oe.offsetWidth:0,N="offsetHeight"in oe?oe.offsetHeight===0?0:K/oe.offsetHeight:0;if(y===oe)ce=l==="start"?H:l==="end"?H-b:l==="nearest"?sf(A,A+b,b,j,ae,A+H,A+H+P,P):H-b/2,Pe=f==="start"?V:f==="center"?V-E/2:f==="end"?V-E:sf(O,O+E,E,X,Z,O+V,O+V+R,R),ce=Math.max(0,ce+A),Pe=Math.max(0,Pe+O);else{ce=l==="start"?H-Q-j:l==="end"?H-J+ae+Ie:l==="nearest"?sf(Q,J,K,j,ae+Ie,H,H+P,P):H-(Q+K/2)+Ie/2,Pe=f==="start"?V-te-X:f==="center"?V-(te+G/2)+Oe/2:f==="end"?V-M+Z+Oe:sf(te,M,G,X,Z+Oe,V,V+R,R);const{scrollLeft:me,scrollTop:Se}=oe;ce=N===0?0:Math.max(0,Math.min(Se+ce/N,oe.scrollHeight-K/N+Ie)),Pe=Be===0?0:Math.max(0,Math.min(me+Pe/Be,oe.scrollWidth-G/Be+Oe)),H+=Se-ce,V+=me-Pe}se.push({el:oe,top:ce,left:Pe})}return se},e_=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function t_(e,t){if(!e.isConnected||!(o=>{let a=o;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(e))return;const n=(o=>{const a=window.getComputedStyle(o);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(RC(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:a,left:u}of RC(e,e_(t))){const l=a-n.top+n.bottom,f=u-n.left+n.right;o.scroll({top:l,left:f,behavior:r})}}var cs=[],n_=function(){return cs.some(function(e){return e.activeTargets.length>0})},r_=function(){return cs.some(function(e){return e.skippedTargets.length>0})},PC="ResizeObserver loop completed with undelivered notifications.",o_=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:PC}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=PC),window.dispatchEvent(e)},qu;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(qu||(qu={}));var fs=function(e){return Object.freeze(e)},i_=(function(){function e(t,n){this.inlineSize=t,this.blockSize=n,fs(this)}return e})(),IC=(function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,fs(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,a=t.right,u=t.bottom,l=t.left,f=t.width,d=t.height;return{x:n,y:r,top:o,right:a,bottom:u,left:l,width:f,height:d}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e})(),Jp=function(e){return e instanceof SVGElement&&"getBBox"in e},NC=function(e){if(Jp(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,a=o.offsetWidth,u=o.offsetHeight;return!(a||u||e.getClientRects().length)},BC=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},s_=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Gu=typeof window<"u"?window:{},af=new WeakMap,FC=/auto|scroll/,a_=/^tb|vertical/,u_=/msie|trident/i.test(Gu.navigator&&Gu.navigator.userAgent),Ur=function(e){return parseFloat(e||"0")},ga=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new i_((n?t:e)||0,(n?e:t)||0)},_C=fs({devicePixelContentBoxSize:ga(),borderBoxSize:ga(),contentBoxSize:ga(),contentRect:new IC(0,0,0,0)}),MC=function(e,t){if(t===void 0&&(t=!1),af.has(e)&&!t)return af.get(e);if(NC(e))return af.set(e,_C),_C;var n=getComputedStyle(e),r=Jp(e)&&e.ownerSVGElement&&e.getBBox(),o=!u_&&n.boxSizing==="border-box",a=a_.test(n.writingMode||""),u=!r&&FC.test(n.overflowY||""),l=!r&&FC.test(n.overflowX||""),f=r?0:Ur(n.paddingTop),d=r?0:Ur(n.paddingRight),p=r?0:Ur(n.paddingBottom),v=r?0:Ur(n.paddingLeft),y=r?0:Ur(n.borderTopWidth),C=r?0:Ur(n.borderRightWidth),x=r?0:Ur(n.borderBottomWidth),E=r?0:Ur(n.borderLeftWidth),b=v+d,O=f+p,A=E+C,P=y+x,R=l?e.offsetHeight-P-e.clientHeight:0,F=u?e.offsetWidth-A-e.clientWidth:0,L=o?b+A:0,I=o?O+P:0,q=r?r.width:Ur(n.width)-L-F,ue=r?r.height:Ur(n.height)-I-R,Y=q+b+F+A,re=ue+O+R+P,U=fs({devicePixelContentBoxSize:ga(Math.round(q*devicePixelRatio),Math.round(ue*devicePixelRatio),a),borderBoxSize:ga(Y,re,a),contentBoxSize:ga(q,ue,a),contentRect:new IC(v,f,q,ue)});return af.set(e,U),U},jC=function(e,t,n){var r=MC(e,n),o=r.borderBoxSize,a=r.contentBoxSize,u=r.devicePixelContentBoxSize;switch(t){case qu.DEVICE_PIXEL_CONTENT_BOX:return u;case qu.BORDER_BOX:return o;default:return a}},l_=(function(){function e(t){var n=MC(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=fs([n.borderBoxSize]),this.contentBoxSize=fs([n.contentBoxSize]),this.devicePixelContentBoxSize=fs([n.devicePixelContentBoxSize])}return e})(),LC=function(e){if(NC(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},c_=function(){var e=1/0,t=[];cs.forEach(function(u){if(u.activeTargets.length!==0){var l=[];u.activeTargets.forEach(function(d){var p=new l_(d.target),v=LC(d.target);l.push(p),d.lastReportedSize=jC(d.target,d.observedBox),v<e&&(e=v)}),t.push(function(){u.callback.call(u.observer,l,u.observer)}),u.activeTargets.splice(0,u.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},$C=function(e){cs.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(LC(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},f_=function(){var e=0;for($C(e);n_();)e=c_(),$C(e);return r_()&&o_(),e>0},em,zC=[],d_=function(){return zC.splice(0).forEach(function(e){return e()})},h_=function(e){if(!em){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return d_()}).observe(n,r),em=function(){n.textContent="".concat(t?t--:t++)}}zC.push(e),em()},p_=function(e){h_(function(){requestAnimationFrame(e)})},uf=0,m_=function(){return!!uf},v_=250,g_={attributes:!0,characterData:!0,childList:!0,subtree:!0},UC=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],HC=function(e){return e===void 0&&(e=0),Date.now()+e},tm=!1,y_=(function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=v_),!tm){tm=!0;var r=HC(t);p_(function(){var o=!1;try{o=f_()}finally{if(tm=!1,t=r-HC(),!m_())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,g_)};document.body?n():Gu.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),UC.forEach(function(n){return Gu.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),UC.forEach(function(n){return Gu.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e})(),nm=new y_,WC=function(e){!uf&&e>0&&nm.start(),uf+=e,!uf&&nm.stop()},b_=function(e){return!Jp(e)&&!s_(e)&&getComputedStyle(e).display==="inline"},w_=(function(){function e(t,n){this.target=t,this.observedBox=n||qu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=jC(this.target,this.observedBox,!0);return b_(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e})(),C_=(function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e})(),lf=new WeakMap,VC=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},cf=(function(){function e(){}return e.connect=function(t,n){var r=new C_(t,n);lf.set(t,r)},e.observe=function(t,n,r){var o=lf.get(t),a=o.observationTargets.length===0;VC(o.observationTargets,n)<0&&(a&&cs.push(o),o.observationTargets.push(new w_(n,r&&r.box)),WC(1),nm.schedule())},e.unobserve=function(t,n){var r=lf.get(t),o=VC(r.observationTargets,n),a=r.observationTargets.length===1;o>=0&&(a&&cs.splice(cs.indexOf(r),1),r.observationTargets.splice(o,1),WC(-1))},e.disconnect=function(t){var n=this,r=lf.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e})(),E_=(function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");cf.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!BC(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");cf.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!BC(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");cf.unobserve(this,t)},e.prototype.disconnect=function(){cf.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e})(),gr={},KC;function D_(){if(KC)return gr;KC=1,Object.defineProperty(gr,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),t={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},n={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},r={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=1;o<20;o++)r["f"+o]=111+o;function a(y,C,x){C&&!("byKey"in C)&&(x=C,C=null),Array.isArray(y)||(y=[y]);var E=y.map(function(A){return f(A,C)}),b=function(P){return E.some(function(R){return d(R,P)})},O=x==null?b:b(x);return O}function u(y,C){return a(y,C)}function l(y,C){return a(y,{byKey:!0},C)}function f(y,C){var x=C&&C.byKey,E={};y=y.replace("++","+add");var b=y.split("+"),O=b.length;for(var A in t)E[t[A]]=!1;var P=!0,R=!1,F=void 0;try{for(var L=b[Symbol.iterator](),I;!(P=(I=L.next()).done);P=!0){var q=I.value,ue=q.endsWith("?")&&q.length>1;ue&&(q=q.slice(0,-1));var Y=v(q),re=t[Y];if(q.length>1&&!re&&!n[q]&&!r[Y])throw new TypeError('Unknown modifier: "'+q+'"');(O===1||!re)&&(x?E.key=Y:E.which=p(q)),re&&(E[re]=ue?null:!0)}}catch(U){R=!0,F=U}finally{try{!P&&L.return&&L.return()}finally{if(R)throw F}}return E}function d(y,C){for(var x in y){var E=y[x],b=void 0;if(E!=null&&(x==="key"&&C.key!=null?b=C.key.toLowerCase():x==="which"?b=E===91&&C.which===93?91:C.which:b=C[x],!(b==null&&E===!1)&&b!==E))return!1}return!0}function p(y){y=v(y);var C=r[y]||y.toUpperCase().charCodeAt(0);return C}function v(y){return y=y.toLowerCase(),y=n[y]||y,y}return gr.default=a,gr.isHotkey=a,gr.isCodeHotkey=u,gr.isKeyHotkey=l,gr.parseHotkey=f,gr.compareHotkey=d,gr.toKeyCode=p,gr.toKeyName=v,gr}var rm=D_();function x_(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function ya(e,t){if(e==null)return{};var n=x_(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function S_(e,t){if(Yu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A_(e){var t=S_(e,"string");return Yu(t)==="symbol"?t:String(t)}function Jn(e,t,n){return t=A_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var om=m.createContext(null),Hr=()=>{var e=m.useContext(om);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},im,sm,qC=parseInt(He.version.split(".")[0],10),GC=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,YC=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),bn=typeof navigator<"u"&&/Android/.test(navigator.userAgent),ba=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ds=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),O_=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),XC=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),T_=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),k_=bn&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),R_=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),P_=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),I_=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),ff=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((im=navigator.userAgent.match(/Version\/(\d+)/))!==null&&im!==void 0&&im[1]&&parseInt((sm=navigator.userAgent.match(/Version\/(\d+)/))===null||sm===void 0?void 0:sm[1],10)<17);var oi=(!T_||!k_)&&!O_&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",wa=new WeakMap,am=new WeakMap,um=new WeakMap,ZC=new WeakMap,df=new WeakMap,lm=new WeakMap,Xu=new WeakMap,hs=new WeakMap,hf=new WeakMap,pf=new WeakMap,cm=new WeakMap,ii=new WeakMap,ps=new WeakMap,Zu=new WeakMap,fm=new WeakMap,dm=new WeakMap,yr=new WeakMap,Eo=new WeakMap,Tn=new WeakMap,si=new WeakMap,ai=new WeakMap,QC=new WeakMap,Ca=Symbol("placeholder"),JC=Symbol("mark-placeholder"),eE=globalThis.Node,N_=globalThis.Text,hm=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,B_=e=>ui(e)&&e.nodeType===8,er=e=>ui(e)&&e.nodeType===1,ui=e=>{var t=hm(e);return!!t&&e instanceof t.Node},pm=e=>{var t=e&&e.anchorNode&&hm(e.anchorNode);return!!t&&e instanceof t.Selection},tE=e=>ui(e)&&e.nodeType===3,F_=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,__=e=>{var[t,n]=e;if(er(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=nE(t,o,r?"backward":"forward"),r=o<n;er(t)&&t.childNodes.length;){var a=r?t.childNodes.length-1:0;t=j_(t,a,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},M_=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},nE=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],a=t,u=!1,l=!1;(B_(o)||er(o)&&o.childNodes.length===0||er(o)&&o.getAttribute("contenteditable")==="false")&&!(u&&l);){if(a>=r.length){u=!0,a=t-1,n="backward";continue}if(a<0){l=!0,a=t+1,n="forward";continue}o=r[a],t=a,a+=n==="forward"?1:-1}return[o,t]},j_=(e,t,n)=>{var[r]=nE(e,t,n);return r},rE=e=>{var t="";if(tE(e)&&e.nodeValue)return e.nodeValue;if(er(e)){for(var n of Array.from(e.childNodes))t+=rE(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},L_=/data-slate-fragment="(.+?)"/m,$_=e=>{var t=e.getData("text/html"),[,n]=t.match(L_)||[];return n},Qu=e=>e.getSelection!=null?e.getSelection():document.getSelection(),mm=(e,t,n)=>{var{target:r}=t;if(er(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=pe.getWindow(e);if(o.contains(r))return pe.hasDOMNode(e,r,{editable:!0});var a=n.find(u=>{var{addedNodes:l,removedNodes:f}=u;for(var d of l)if(d===r||d.contains(r))return!0;for(var p of f)if(p===r||p.contains(r))return!0});return!a||a===t?!1:mm(e,a,n)},z_=()=>{for(var e=document.activeElement;(t=e)!==null&&t!==void 0&&t.shadowRoot&&(n=e.shadowRoot)!==null&&n!==void 0&&n.activeElement;){var t,n,r;e=(r=e)===null||r===void 0||(r=r.shadowRoot)===null||r===void 0?void 0:r.activeElement}return e},oE=(e,t)=>!!(e.compareDocumentPosition(t)&eE.DOCUMENT_POSITION_PRECEDING),U_=(e,t)=>!!(e.compareDocumentPosition(t)&eE.DOCUMENT_POSITION_FOLLOWING),H_=0;class W_{constructor(){Jn(this,"id",void 0),this.id="".concat(H_++)}}var pe={androidPendingDiffs:e=>Tn.get(e),androidScheduleFlush:e=>{var t;(t=dm.get(e))===null||t===void 0||t()},blur:e=>{var t=pe.toDOMNode(e,e),n=pe.findDocumentOrShadowRoot(e);ii.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=pe.findDocumentOrShadowRoot(e),r=Qu(n);r&&r.rangeCount>0&&r.removeAllRanges(),t&&de.deselect(e)},findDocumentOrShadowRoot:e=>{var t=pe.toDOMNode(e,e),n=t.getRootNode();return n instanceof Document||n instanceof ShadowRoot?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a=pe.toSlateNode(e,t.target),u=pe.findPath(e,a);if(Ne.isElement(a)&&S.isVoid(e,a)){var l=o.getBoundingClientRect(),f=e.isInline(a)?n-l.left<l.left+l.width-n:r-l.top<l.top+l.height-r,d=S.point(e,u,{edge:f?"start":"end"}),p=f?S.before(e,d):S.after(e,d);if(p){var v=S.range(e,p);return v}}var y,{document:C}=pe.getWindow(e);if(C.caretRangeFromPoint)y=C.caretRangeFromPoint(n,r);else{var x=C.caretPositionFromPoint(n,r);x&&(y=C.createRange(),y.setStart(x.offsetNode,x.offset),y.setEnd(x.offsetNode,x.offset))}if(!y)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var E=pe.toSlateRange(e,y,{exactMatch:!1,suppressThrow:!1});return E},findKey:(e,t)=>{var n=hf.get(t);return n||(n=new W_,hf.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=um.get(r);if(o==null){if(S.isEditor(r))return n;break}var a=am.get(r);if(a==null)break;n.unshift(a),r=o}throw new Error("Unable to find the path for Slate node: ".concat(Jt.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!ii.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{pe.focus(t,{retries:n.retries-1})},10);return}var r=pe.toDOMNode(t,t),o=pe.findDocumentOrShadowRoot(t);if(o.activeElement!==r){if(t.selection&&o instanceof Document){var a=Qu(o),u=pe.toDOMRange(t,t.selection);a==null||a.removeAllRanges(),a==null||a.addRange(u)}t.selection||de.select(t,S.start(t,[])),ii.set(t,!0),r.focus({preventScroll:!0})}}},getWindow:e=>{var t=ZC.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,a=pe.toDOMNode(t,t),u;try{u=er(n)?n:n.parentElement}catch(l){if(l instanceof Error&&!l.message.includes('Permission denied to access property "nodeType"'))throw l}return u?u.closest("[data-slate-editor]")===a&&(!o||u.isContentEditable?!0:typeof u.isContentEditable=="boolean"&&u.closest('[contenteditable="false"]')===a||!!u.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>ui(t)&&pe.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return S.hasPath(e,n.path)&&S.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>pe.hasEditableTarget(e,t)||pe.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>ui(t)&&pe.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!ps.get(e),isFocused:e=>!!ii.get(e),isReadOnly:e=>!!cm.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(cm.get(e))return!1;var n=pe.hasTarget(e,t)&&pe.toSlateNode(e,t);return Ne.isElement(n)&&S.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=pf.get(e),r=S.isEditor(t)?df.get(e):n==null?void 0:n.get(pe.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Jt.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=S.node(e,t.path),r=pe.toDOMNode(e,n),o;S.void(e,{at:t})&&(t={path:t.path,offset:0});for(var a="[data-slate-string], [data-slate-zero-width]",u=Array.from(r.querySelectorAll(a)),l=0,f=0;f<u.length;f++){var d=u[f],p=d.childNodes[0];if(!(p==null||p.textContent==null)){var{length:v}=p.textContent,y=d.getAttribute("data-slate-length"),C=y==null?v:parseInt(y,10),x=l+C,E=u[f+1];if(t.offset===x&&E!==null&&E!==void 0&&E.hasAttribute("data-slate-mark-placeholder")){var b,O=E.childNodes[0];o=[O instanceof N_?O:E,(b=E.textContent)!==null&&b!==void 0&&b.startsWith("\uFEFF")?1:0];break}if(t.offset<=x){var A=Math.min(v,Math.max(0,t.offset-l));o=[p,A];break}l=x}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Jt.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=ne.isBackward(t),a=pe.toDOMPoint(e,n),u=ne.isCollapsed(t)?a:pe.toDOMPoint(e,r),l=pe.getWindow(e),f=l.document.createRange(),[d,p]=o?u:a,[v,y]=o?a:u,C=er(d)?d:d.parentElement,x=!!C.getAttribute("data-slate-zero-width"),E=er(v)?v:v.parentElement,b=!!E.getAttribute("data-slate-zero-width");return f.setStart(d,x?1:p),f.setEnd(v,b?1:y),f},toSlateNode:(e,t)=>{var n=er(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Xu.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o,searchDirection:a="backward"}=n,[u,l]=r?t:__(t),f=u.parentNode,d=null,p=0;if(f){var v,y,C=pe.toDOMNode(e,e),x=f.closest('[data-slate-void="true"]'),E=x&&C.contains(x)?x:null,b=f.closest('[contenteditable="false"]'),O=b&&C.contains(b)?b:null,A=f.closest("[data-slate-leaf]"),P=null;if(A){if(d=A.closest('[data-slate-node="text"]'),d){var R=pe.getWindow(e),F=R.document.createRange();F.setStart(d,0),F.setEnd(u,l);var L=F.cloneContents(),I=[...Array.prototype.slice.call(L.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(L.querySelectorAll("[contenteditable=false]"))];I.forEach(te=>{if(bn&&!r&&te.hasAttribute("data-slate-zero-width")&&te.textContent.length>0&&te.textContext!=="\uFEFF"){te.textContent.startsWith("\uFEFF")&&(te.textContent=te.textContent.slice(1));return}te.parentNode.removeChild(te)}),p=L.textContent.length,P=d}}else if(E){for(var q=E.querySelectorAll("[data-slate-leaf]"),ue=0;ue<q.length;ue++){var Y=q[ue];if(pe.hasDOMNode(e,Y)){A=Y;break}}A?(d=A.closest('[data-slate-node="text"]'),P=A,p=P.textContent.length,P.querySelectorAll("[data-slate-zero-width]").forEach(te=>{p-=te.textContent.length})):p=1}else if(O){var re=te=>te?te.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],U=O.closest('[data-slate-node="element"]');if(a==="forward"){var H,V=[...re(U),...re(U==null?void 0:U.nextElementSibling)];A=(H=V.find(te=>U_(O,te)))!==null&&H!==void 0?H:null}else{var se,ve=[...re(U==null?void 0:U.previousElementSibling),...re(U)];A=(se=ve.findLast(te=>oE(O,te)))!==null&&se!==void 0?se:null}A&&(d=A.closest('[data-slate-node="text"]'),P=A,a==="forward"?p=0:(p=P.textContent.length,P.querySelectorAll("[data-slate-zero-width]").forEach(te=>{p-=te.textContent.length})))}P&&p===P.textContent.length&&bn&&P.getAttribute("data-slate-zero-width")==="z"&&(v=P.textContent)!==null&&v!==void 0&&v.startsWith("\uFEFF")&&(f.hasAttribute("data-slate-zero-width")||ba&&(y=P.textContent)!==null&&y!==void 0&&y.endsWith(`

`))&&p--}if(bn&&!d&&!r){var oe=f.hasAttribute("data-slate-node")?f:f.closest("[data-slate-node]");if(oe&&pe.hasDOMNode(e,oe,{editable:!0})){var K=pe.toSlateNode(e,oe),{path:G,offset:Q}=S.start(e,pe.findPath(e,K));return oe.querySelector("[data-slate-leaf]")||(Q=l),{path:G,offset:Q}}}if(!d){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var M=pe.toSlateNode(e,d),J=pe.findPath(e,M);return{path:J,offset:p}},toSlateRange:(e,t,n)=>{var r,{exactMatch:o,suppressThrow:a}=n,u=pm(t)?t.anchorNode:t.startContainer,l,f,d,p,v;if(u)if(pm(t)){if(ba&&t.rangeCount>1){d=t.focusNode;var y=t.getRangeAt(0),C=t.getRangeAt(t.rangeCount-1);if(d instanceof HTMLTableRowElement&&y.startContainer instanceof HTMLTableRowElement&&C.startContainer instanceof HTMLTableRowElement){let L=function(I){return I.childElementCount>0?L(I.children[0]):I};var x=y.startContainer,E=C.startContainer,b=L(x.children[y.startOffset]),O=L(E.children[C.startOffset]);p=0,O.childNodes.length>0?l=O.childNodes[0]:l=O,b.childNodes.length>0?d=b.childNodes[0]:d=b,O instanceof HTMLElement?f=O.innerHTML.length:f=0}else y.startContainer===d?(l=C.endContainer,f=C.endOffset,p=y.startOffset):(l=y.startContainer,f=y.endOffset,p=C.startOffset)}else l=t.anchorNode,f=t.anchorOffset,d=t.focusNode,p=t.focusOffset;XC&&M_(l)||ba?v=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:v=t.isCollapsed}else l=t.startContainer,f=t.startOffset,d=t.endContainer,p=t.endOffset,v=t.collapsed;if(l==null||d==null||f==null||p==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));ba&&(r=d.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&p===d.textContent.length&&p--;var A=pe.toSlatePoint(e,[l,f],{exactMatch:o,suppressThrow:a});if(!A)return null;var P=oE(l,d)||l===d&&p<f,R=v?A:pe.toSlatePoint(e,[d,p],{exactMatch:o,suppressThrow:a,searchDirection:P?"forward":"backward"});if(!R)return null;var F={anchor:A,focus:R};return ne.isExpanded(F)&&ne.isForward(F)&&er(d)&&S.void(e,{at:F.focus,mode:"highest"})&&(F=S.unhangRange(e,F,{voids:!0})),F}};function V_(e,t){var{path:n,diff:r}=t;if(!S.hasPath(e,n))return!1;var o=Ee.get(e,n);if(!Fe.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var a=$.next(n);if(!S.hasPath(e,a))return!1;var u=Ee.get(e,a);return Fe.isText(u)&&u.text.startsWith(r.text)}function iE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,a)=>o.slice(0,a.start)+a.text+o.slice(a.end),e)}function K_(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function q_(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function sE(e,t){var{start:n,end:r,text:o}=t,a=e.slice(n,r),u=K_(a,o),l=Math.min(a.length-u,o.length-u),f=q_(a,o,l),d={start:n+u,end:r-f,text:o.slice(u,o.length-f)};return d.start===d.end&&d.text.length===0?null:d}function G_(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),a=iE(e,t,n),u=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),l=a.slice(r,u),f=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return sE(e,{start:r,end:f,text:l})}function Y_(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function vm(e,t){var{path:n,offset:r}=t;if(!S.hasPath(e,n))return null;var o=Ee.get(e,n);if(!Fe.isText(o))return null;var a=S.above(e,{match:l=>Ne.isElement(l)&&S.isBlock(e,l),at:n});if(!a)return null;for(;r>o.text.length;){var u=S.next(e,{at:n,match:Fe.isText});if(!u||!$.isDescendant(u[1],a[1]))return null;r-=o.text.length,o=u[0],n=u[1]}return{path:n,offset:r}}function aE(e,t){var n=vm(e,t.anchor);if(!n)return null;if(ne.isCollapsed(t))return{anchor:n,focus:n};var r=vm(e,t.focus);return r?{anchor:n,focus:r}:null}function gm(e,t,n){var r=Tn.get(e),o=r==null?void 0:r.find(p=>{var{path:v}=p;return $.equals(v,t.path)});if(!o||t.offset<=o.diff.start)return ot.transform(t,n,{affinity:"backward"});var{diff:a}=o;if(t.offset<=a.start+a.text.length){var u={path:t.path,offset:a.start},l=ot.transform(u,n,{affinity:"backward"});return l?{path:l.path,offset:l.offset+t.offset-a.start}:null}var f={path:t.path,offset:t.offset-a.text.length+a.end-a.start},d=ot.transform(f,n,{affinity:"backward"});return d?n.type==="split_node"&&$.equals(n.path,t.path)&&f.offset<n.position&&a.start<n.position?d:{path:d.path,offset:d.offset+a.text.length-a.end+a.start}:null}function uE(e,t,n){var r=gm(e,t.anchor,n);if(!r)return null;if(ne.isCollapsed(t))return{anchor:r,focus:r};var o=gm(e,t.focus,n);return o?{anchor:r,focus:o}:null}function X_(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!$.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!$.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!$.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:$.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:$.transform(n,t,{affinity:"forward"})};case"merge_node":return $.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:$.transform(n,t)}:{diff:r,id:o,path:$.transform(n,t)}}var a=$.transform(n,t);return a?{diff:r,path:a,id:o}:null}function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Z_=25,Q_=200,J_=function(){},eM=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function tM(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,a=null,u=null,l=null,f=0,d=!1,p=()=>{var U=ai.get(t);if(ai.delete(t),U){var{selection:H}=t,V=aE(t,U);V&&(!H||!ne.equals(V,H))&&de.select(t,V)}},v=()=>{var U=si.get(t);if(si.delete(t),!!U){if(U.at){var H=ot.isPoint(U.at)?vm(t,U.at):aE(t,U.at);if(!H)return;var V=S.range(t,H);(!t.selection||!ne.equals(t.selection,V))&&de.select(t,H)}U.run()}},y=()=>{if(u&&(clearTimeout(u),u=null),l&&(clearTimeout(l),l=null),!R()&&!P()){p();return}o||(o=!0,setTimeout(()=>o=!1)),P()&&(o="action");var U=t.selection&&S.rangeRef(t,t.selection,{affinity:"forward"});Eo.set(t,t.marks),J_("flush",si.get(t),Tn.get(t));for(var H=R(),V;V=(se=Tn.get(t))===null||se===void 0?void 0:se[0];){var se,ve,oe=yr.get(t);oe!==void 0&&(yr.delete(t),t.marks=oe),oe&&d===!1&&(d=null);var K=Y_(V);(!t.selection||!ne.equals(t.selection,K))&&de.select(t,K),V.diff.text?S.insertText(t,V.diff.text):S.deleteFragment(t),Tn.set(t,(ve=Tn.get(t))===null||ve===void 0?void 0:ve.filter(M=>{var{id:J}=M;return J!==V.id})),V_(t,V)||(H=!1,si.delete(t),Eo.delete(t),o="action",ai.delete(t),n.cancel(),r.cancel(),U==null||U.unref())}var G=U==null?void 0:U.unref();if(G&&!ai.get(t)&&(!t.selection||!ne.equals(G,t.selection))&&de.select(t,G),P()){v();return}H&&n(),n.flush(),r.flush(),p();var Q=Eo.get(t);Eo.delete(t),Q!==void 0&&(t.marks=Q,t.onChange())},C=U=>{a&&clearTimeout(a),a=setTimeout(()=>{ps.set(t,!1),y()},Z_)},x=U=>{ps.set(t,!0),a&&(clearTimeout(a),a=null)},E=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,V=lm.get(t);if(V){if(R()||H){V.style.display="none";return}V.style.removeProperty("display")}},b=(U,H)=>{var V,se=(V=Tn.get(t))!==null&&V!==void 0?V:[];Tn.set(t,se);var ve=Ee.leaf(t,U),oe=se.findIndex(Q=>$.equals(Q.path,U));if(oe<0){var K=sE(ve.text,H);K&&se.push({path:U,diff:H,id:f++}),E();return}var G=G_(ve.text,se[oe].diff,H);if(!G){se.splice(oe,1),E();return}se[oe]=mf(mf({},se[oe]),{},{diff:G})},O=function(H){var{at:V}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d=!1,ai.delete(t),n.cancel(),r.cancel(),P()&&y(),si.set(t,{at:V,run:H}),l=setTimeout(y)},A=U=>{var H;if(u&&(clearTimeout(u),u=null),!wa.get(t)){var{inputType:V}=U,se=null,ve=U.dataTransfer||U.data||void 0;d!==!1&&V!=="insertText"&&V!=="insertCompositionText"&&(d=!1);var[oe]=U.getTargetRanges();oe&&(se=pe.toSlateRange(t,oe,{exactMatch:!1,suppressThrow:!0}));var K=pe.getWindow(t),G=K.getSelection();if(!se&&G&&(oe=G,se=pe.toSlateRange(t,G,{exactMatch:!1,suppressThrow:!0})),se=(H=se)!==null&&H!==void 0?H:t.selection,!!se){var Q=!0;if(V.startsWith("delete")){if(ne.isExpanded(se)){var[M,J]=ne.edges(se),te=Ee.leaf(t,M.path);if(te.text.length===M.offset&&J.offset===0){var fe=S.next(t,{at:M.path,match:Fe.isText});fe&&$.equals(fe[1],J.path)&&(se={anchor:J,focus:J})}}var X=V.endsWith("Backward")?"backward":"forward",[j,Z]=ne.edges(se),[ae,ce]=S.leaf(t,j.path),Pe={text:"",start:j.offset,end:Z.offset},Oe=Tn.get(t),Ie=Oe==null?void 0:Oe.find(Ot=>$.equals(Ot.path,ce)),Be=Ie?[Ie.diff,Pe]:[Pe],N=iE(ae.text,...Be);if(N.length===0&&(Q=!1),ne.isExpanded(se)){if(Q&&$.equals(se.anchor.path,se.focus.path)){var me={path:se.anchor.path,offset:j.offset},Se=S.range(t,me,me);return I(Se),b(se.anchor.path,{text:"",end:Z.offset,start:j.offset})}return O(()=>S.deleteFragment(t,{direction:X}),{at:se})}}switch(V){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return O(()=>S.deleteFragment(t),{at:se});case"deleteContent":case"deleteContentForward":{var{anchor:ke}=se;if(Q&&ne.isCollapsed(se)){var De=Ee.leaf(t,ke.path);if(ke.offset<De.text.length)return b(ke.path,{text:"",start:ke.offset,end:ke.offset+1})}return O(()=>S.deleteForward(t),{at:se})}case"deleteContentBackward":{var Ge,{anchor:bt}=se,ze=pm(oe)?oe.isCollapsed:!!((Ge=oe)!==null&&Ge!==void 0&&Ge.collapsed);return Q&&ze&&ne.isCollapsed(se)&&bt.offset>0?b(bt.path,{text:"",start:bt.offset-1,end:bt.offset}):O(()=>S.deleteBackward(t),{at:se})}case"deleteEntireSoftLine":return O(()=>{S.deleteBackward(t,{unit:"line"}),S.deleteForward(t,{unit:"line"})},{at:se});case"deleteHardLineBackward":return O(()=>S.deleteBackward(t,{unit:"block"}),{at:se});case"deleteSoftLineBackward":return O(()=>S.deleteBackward(t,{unit:"line"}),{at:se});case"deleteHardLineForward":return O(()=>S.deleteForward(t,{unit:"block"}),{at:se});case"deleteSoftLineForward":return O(()=>S.deleteForward(t,{unit:"line"}),{at:se});case"deleteWordBackward":return O(()=>S.deleteBackward(t,{unit:"word"}),{at:se});case"deleteWordForward":return O(()=>S.deleteForward(t,{unit:"word"}),{at:se});case"insertLineBreak":return O(()=>S.insertSoftBreak(t),{at:se});case"insertParagraph":return O(()=>S.insertBreak(t),{at:se});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(eM(ve))return O(()=>pe.insertData(t,ve),{at:se});var it=ve??"";if(yr.get(t)&&(it=it.replace("\uFEFF","")),V==="insertText"&&/.*\n.*\n$/.test(it)&&(it=it.slice(0,-1)),it.includes(`
`))return O(()=>{var Ot=it.split(`
`);Ot.forEach((un,Wt)=>{un&&S.insertText(t,un),Wt!==Ot.length-1&&S.insertSoftBreak(t)})},{at:se});if($.equals(se.anchor.path,se.focus.path)){var[$t,lt]=ne.edges(se),et={start:$t.offset,end:lt.offset,text:it};if(it&&d&&V==="insertCompositionText"){var Xe=d.start+d.text.search(/\S|$/),wt=et.start+et.text.search(/\S|$/);wt===Xe+1&&et.end===d.start+d.text.length?(et.start-=1,d=null,Y()):d=!1}else V==="insertText"?d===null?d=et:d&&ne.isCollapsed(se)&&d.end+d.text.length===$t.offset?d=mf(mf({},d),{},{text:d.text+it}):d=!1:d=!1;if(Q){b($t.path,et);return}}return O(()=>S.insertText(t,it),{at:se})}}}}},P=()=>!!si.get(t),R=()=>{var U;return!!((U=Tn.get(t))!==null&&U!==void 0&&U.length)},F=()=>P()||R(),L=()=>o,I=U=>{ai.set(t,U),u&&(clearTimeout(u),u=null);var{selection:H}=t;if(U){var V=!H||!$.equals(H.anchor.path,U.anchor.path),se=!H||!$.equals(H.anchor.path.slice(0,-1),U.anchor.path.slice(0,-1));(V&&d||se)&&(d=!1),(V||R())&&(u=setTimeout(y,Q_))}},q=()=>{(P()||!R())&&y()},ue=U=>{R()||(E(!0),setTimeout(E))},Y=()=>{P()||(l=setTimeout(y))},re=U=>{if(!(R()||P())&&U.some(V=>mm(t,V,U))){var H;(H=QC.get(t))===null||H===void 0||H()}};return{flush:y,scheduleFlush:Y,hasPendingDiffs:R,hasPendingAction:P,hasPendingChanges:F,isFlushing:L,handleUserSelect:I,handleCompositionEnd:C,handleCompositionStart:x,handleDOMBeforeInput:A,handleKeyDown:ue,handleDomMutations:re,handleInput:q}}function nM(){var e=m.useRef(!1);return m.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var Ju=ff?m.useLayoutEffect:m.useEffect;function rM(e,t,n){var[r]=m.useState(()=>new MutationObserver(t));Ju(()=>{r.takeRecords()}),m.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var oM=["node"];function cE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function iM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var sM={subtree:!0,childList:!0,characterData:!0},aM=bn?e=>{var{node:t}=e,n=ya(e,oM);if(!bn)return null;var r=Hr(),o=nM(),[a]=m.useState(()=>tM(iM({editor:r},n)));return rM(t,a.handleDomMutations,sM),dm.set(r,a.scheduleFlush),o&&a.flush(),a}:()=>null,uM=["anchor","focus"],lM=["anchor","focus"],cM=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),fE=(e,t)=>{var n=ya(e,uM),r=ya(t,lM);return e[Ca]===t[Ca]&&cM(n,r)},fM=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!ne.equals(r,o)||!fE(r,o))return!1}return!0},dM=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!fE(r,o))return!1}return!0};function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function hM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var pM=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,a=Hr(),u=pe.findPath(a,o),l=$.parent(u),f=!!n[JC];return a.isVoid(r)?He.createElement(ym,{length:Ee.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!a.isInline(r)&&S.string(a,l)===""?He.createElement(ym,{isLineBreak:!0,isMarkPlaceholder:f}):n.text===""?He.createElement(ym,{isMarkPlaceholder:f}):t&&n.text.slice(-1)===`
`?He.createElement(hE,{isTrailing:!0,text:n.text}):He.createElement(hE,{text:n.text})},hE=e=>{var{text:t,isTrailing:n=!1}=e,r=m.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[a]=m.useState(o);return Ju(()=>{var u=o();r.current&&r.current.textContent!==u&&(r.current.textContent=u)}),He.createElement(mM,{ref:r},a)},mM=m.memo(m.forwardRef((e,t)=>He.createElement("span",{"data-slate-string":!0,ref:t},e.children))),ym=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),He.createElement("span",hM({},o),!(bn||GC)||!n?"\uFEFF":null,n?He.createElement("br",null):null)};function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var vM=bn?300:0;function gM(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function vE(e){e.current&&(clearTimeout(e.current),e.current=null)}var yM=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:a,renderLeaf:u=A=>He.createElement(wM,mE({},A))}=e,l=Hr(),f=m.useRef(null),d=m.useRef(null),[p,v]=m.useState(!1),y=m.useRef(null),C=m.useCallback(A=>{if(gM(f,A==null),A==null){var P;lm.delete(l),(P=t.onPlaceholderResize)===null||P===void 0||P.call(t,null)}else{if(lm.set(l,A),!f.current){var R=window.ResizeObserver||E_;f.current=new R(()=>{var F;(F=t.onPlaceholderResize)===null||F===void 0||F.call(t,A)})}f.current.observe(A),d.current=A}},[d,t,l]),x=He.createElement(pM,{isLast:n,leaf:t,parent:o,text:r}),E=!!t[Ca];if(m.useEffect(()=>(E?y.current||(y.current=setTimeout(()=>{v(!0),y.current=null},vM)):(vE(y),v(!1)),()=>vE(y)),[E,v]),E&&p){var b={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:ds?"inherit":void 0},contentEditable:!1,ref:C}};x=He.createElement(He.Fragment,null,a(b),x)}var O={"data-slate-leaf":!0};return u({attributes:O,children:x,leaf:t,text:r})},bM=He.memo(yM,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&Fe.equals(t.leaf,e.leaf)&&t.leaf[Ca]===e.leaf[Ca]),wM=e=>{var{attributes:t,children:n}=e;return He.createElement("span",mE({},t),n)},CM=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:a,text:u}=e,l=Hr(),f=m.useRef(null),d=Fe.decorations(u,t),p=pe.findKey(l,u),v=[],y=0;y<d.length;y++){var C=d[y];v.push(He.createElement(bM,{isLast:n&&y===d.length-1,key:"".concat(p.id,"-").concat(y),renderPlaceholder:o,leaf:C,text:u,parent:r,renderLeaf:a}))}var x=m.useCallback(E=>{var b=pf.get(l);E?(b==null||b.set(p,E),hs.set(u,E),Xu.set(E,u)):(b==null||b.delete(p),hs.delete(u),f.current&&Xu.delete(f.current)),f.current=E},[f,l,p,u]);return He.createElement("span",{"data-slate-node":"text",ref:x},v)},gE=He.memo(CM,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&dM(t.decorations,e.decorations));function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var EM=e=>{var{decorations:t,element:n,renderElement:r=A=>He.createElement(xM,bm({},A)),renderPlaceholder:o,renderLeaf:a,selection:u}=e,l=Hr(),f=AM(),d=l.isInline(n),p=pe.findKey(l,n),v=m.useCallback(A=>{var P=pf.get(l);A?(P==null||P.set(p,A),hs.set(n,A),Xu.set(A,n)):(P==null||P.delete(p),hs.delete(n))},[l,p,n]),y=EE({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:a,selection:u}),C={"data-slate-node":"element",ref:v};if(d&&(C["data-slate-inline"]=!0),!d&&S.hasInlines(l,n)){var x=Ee.string(n),E=lC(x);E==="rtl"&&(C.dir=E)}if(S.isVoid(l,n)){C["data-slate-void"]=!0,!f&&d&&(C.contentEditable=!1);var b=d?"span":"div",[[O]]=Ee.texts(n);y=He.createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},He.createElement(gE,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:O})),am.set(O,0),um.set(O,n)}return r({attributes:C,children:y,element:n})},DM=He.memo(EM,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&fM(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&ne.equals(e.selection,t.selection))),xM=e=>{var{attributes:t,children:n,element:r}=e,o=Hr(),a=o.isInline(r)?"span":"div";return He.createElement(a,bm(bm({},t),{},{style:{position:"relative"}}),n)},bE=m.createContext(()=>[]),SM=()=>m.useContext(bE),wE=m.createContext(!1),CE=()=>m.useContext(wE),EE=e=>{var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:a,selection:u}=e,l=SM(),f=Hr();wa.set(f,!1);for(var d=pe.findPath(f,n),p=[],v=Ne.isElement(n)&&!f.isInline(n)&&S.hasInlines(f,n),y=0;y<n.children.length;y++){var C=d.concat(y),x=n.children[y],E=pe.findKey(f,x),b=S.range(f,C),O=u&&ne.intersection(b,u),A=l([x,C]);for(var P of t){var R=ne.intersection(P,b);R&&A.push(R)}Ne.isElement(x)?p.push(He.createElement(wE.Provider,{key:"provider-".concat(E.id),value:!!O},He.createElement(DM,{decorations:A,element:x,key:E.id,renderElement:r,renderPlaceholder:o,renderLeaf:a,selection:O}))):p.push(He.createElement(gE,{decorations:A,key:E.id,isLast:v&&y===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:a,text:x})),am.set(x,y),um.set(x,n)}return p},DE=m.createContext(!1),AM=()=>m.useContext(DE),xE=m.createContext(null),OM=()=>{var e=m.useContext(xE);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function TM(){var e=Hr(),t=m.useRef(!1),n=m.useRef(0),r=m.useCallback(()=>{if(!t.current){t.current=!0;var o=pe.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return m.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var kM=3,RM={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},PM={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},IM={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},It=e=>{var t=RM[e],n=PM[e],r=IM[e],o=t&&rm.isHotkey(t),a=n&&rm.isHotkey(n),u=r&&rm.isHotkey(r);return l=>!!(o&&o(l)||YC&&a&&a(l)||!YC&&u&&u(l))},_t={isBold:It("bold"),isCompose:It("compose"),isMoveBackward:It("moveBackward"),isMoveForward:It("moveForward"),isDeleteBackward:It("deleteBackward"),isDeleteForward:It("deleteForward"),isDeleteLineBackward:It("deleteLineBackward"),isDeleteLineForward:It("deleteLineForward"),isDeleteWordBackward:It("deleteWordBackward"),isDeleteWordForward:It("deleteWordForward"),isExtendBackward:It("extendBackward"),isExtendForward:It("extendForward"),isExtendLineBackward:It("extendLineBackward"),isExtendLineForward:It("extendLineForward"),isItalic:It("italic"),isMoveLineBackward:It("moveLineBackward"),isMoveLineForward:It("moveLineForward"),isMoveWordBackward:It("moveWordBackward"),isMoveWordForward:It("moveWordForward"),isRedo:It("redo"),isSoftBreak:It("insertSoftBreak"),isSplitBlock:It("splitBlock"),isTransposeCharacter:It("transposeCharacter"),isUndo:It("undo")},NM=(e,t)=>{var n=[],r=()=>{n=[]},o=u=>{if(t.current){var l=u.filter(f=>mm(e,f,u));n.push(...l)}};function a(){n.length>0&&(n.reverse().forEach(u=>{u.type!=="characterData"&&(u.removedNodes.forEach(l=>{u.target.insertBefore(l,u.nextSibling)}),u.addedNodes.forEach(l=>{u.target.removeChild(l)}))}),r())}return{registerMutations:o,restoreDOM:a,clear:r}},BM={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class SE extends m.Component{constructor(){super(...arguments),Jn(this,"context",null),Jn(this,"manager",null),Jn(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,BM)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=NM(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var a;(a=this.manager)===null||a===void 0||a.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Jn(SE,"contextType",om);var FM=bn?SE:e=>{var{children:t}=e;return He.createElement(He.Fragment,null,t)},_M=m.createContext(!1),MM=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],jM=["text"];function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var LM=e=>He.createElement(He.Fragment,null,EE(e)),$M=m.forwardRef((e,t)=>{var n=m.useCallback(j=>He.createElement(zM,Wr({},j)),[]),{autoFocus:r,decorate:o=UM,onDOMBeforeInput:a,placeholder:u,readOnly:l=!1,renderElement:f,renderLeaf:d,renderPlaceholder:p=n,scrollSelectionIntoView:v=HM,style:y={},as:C="div",disableDefaultStyles:x=!1}=e,E=ya(e,MM),b=OM(),[O,A]=m.useState(!1),P=m.useRef(null),R=m.useRef([]),[F,L]=m.useState(),I=m.useRef(!1),{onUserInput:q,receivedUserInput:ue}=TM(),[,Y]=m.useReducer(j=>j+1,0);QC.set(b,Y),cm.set(b,l);var re=m.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);m.useEffect(()=>{P.current&&r&&P.current.focus()},[r]);var U=m.useRef(),H=m.useMemo(()=>Q2(()=>{if(wa.get(b)){H();return}var j=pe.toDOMNode(b,b),Z=j.getRootNode();if(!I.current&&ds&&Z instanceof ShadowRoot){I.current=!0;var ae=z_();ae?document.execCommand("indent"):de.deselect(b),I.current=!1;return}var ce=U.current;if((bn||!pe.isComposing(b))&&(!re.isUpdatingSelection||ce!=null&&ce.isFlushing())&&!re.isDraggingInternally){var Pe=pe.findDocumentOrShadowRoot(b),{activeElement:Oe}=Pe,Ie=pe.toDOMNode(b,b),Be=Qu(Pe);if(Oe===Ie?(re.latestElement=Oe,ii.set(b,!0)):ii.delete(b),!Be)return de.deselect(b);var{anchorNode:N,focusNode:me}=Be,Se=pe.hasEditableTarget(b,N)||pe.isTargetInsideNonReadonlyVoid(b,N),ke=pe.hasTarget(b,me);if(Se&&ke){var De=pe.toSlateRange(b,Be,{exactMatch:!1,suppressThrow:!0});De&&(!pe.isComposing(b)&&!(ce!=null&&ce.hasPendingChanges())&&!(ce!=null&&ce.isFlushing())?de.select(b,De):ce==null||ce.handleUserSelect(De))}l&&(!Se||!ke)&&de.deselect(b)}},100),[b,l,re]),V=m.useMemo(()=>Y2(H,0),[H]);U.current=aM({node:P,onDOMSelectionChange:H,scheduleOnDOMSelectionChange:V}),Ju(()=>{var j,Z,ae;P.current&&(ae=hm(P.current))?(ZC.set(b,ae),df.set(b,P.current),hs.set(b,P.current),Xu.set(P.current,b)):hs.delete(b);var{selection:ce}=b,Pe=pe.findDocumentOrShadowRoot(b),Oe=Qu(Pe);if(!(!Oe||!pe.isFocused(b)||(j=U.current)!==null&&j!==void 0&&j.hasPendingAction())){var Ie=Se=>{var ke=Oe.type!=="None";if(!(!ce&&!ke)){var De=Oe.focusNode,Ge;if(ba&&Oe.rangeCount>1){var bt=Oe.getRangeAt(0),ze=Oe.getRangeAt(Oe.rangeCount-1);bt.startContainer===De?Ge=ze.endContainer:Ge=bt.startContainer}else Ge=Oe.anchorNode;var it=df.get(b),$t=!1;if(it.contains(Ge)&&it.contains(De)&&($t=!0),ke&&$t&&ce&&!Se){var lt=pe.toSlateRange(b,Oe,{exactMatch:!0,suppressThrow:!0});if(lt&&ne.equals(lt,ce)){var et;if(!re.hasMarkPlaceholder||(et=Ge)!==null&&et!==void 0&&(et=et.parentElement)!==null&&et!==void 0&&et.hasAttribute("data-slate-mark-placeholder"))return}}if(ce&&!pe.hasRange(b,ce)){b.selection=pe.toSlateRange(b,Oe,{exactMatch:!1,suppressThrow:!0});return}re.isUpdatingSelection=!0;var Xe=ce&&pe.toDOMRange(b,ce);return Xe?(pe.isComposing(b)&&!bn?Oe.collapseToEnd():ne.isBackward(ce)?Oe.setBaseAndExtent(Xe.endContainer,Xe.endOffset,Xe.startContainer,Xe.startOffset):Oe.setBaseAndExtent(Xe.startContainer,Xe.startOffset,Xe.endContainer,Xe.endOffset),v(b,Xe)):Oe.removeAllRanges(),Xe}};Oe.rangeCount<=1&&Ie();var Be=((Z=U.current)===null||Z===void 0?void 0:Z.isFlushing())==="action";if(!bn||!Be){setTimeout(()=>{re.isUpdatingSelection=!1});return}var N=null,me=requestAnimationFrame(()=>{if(Be){var Se=ke=>{try{var De=pe.toDOMNode(b,b);De.focus(),Ie(ke)}catch{}};Se(),N=setTimeout(()=>{Se(!0),re.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(me),N&&clearTimeout(N)}}});var se=m.useCallback(j=>{var Z=pe.toDOMNode(b,b),ae=Z.getRootNode();if(I!=null&&I.current&&ds&&ae instanceof ShadowRoot){var ce=j.getTargetRanges(),Pe=ce[0],Oe=new window.Range;Oe.setStart(Pe.startContainer,Pe.startOffset),Oe.setEnd(Pe.endContainer,Pe.endOffset);var Ie=pe.toSlateRange(b,Oe,{exactMatch:!1,suppressThrow:!1});de.select(b,Ie),j.preventDefault(),j.stopImmediatePropagation();return}if(q(),!l&&pe.hasEditableTarget(b,j.target)&&!WM(j,a)){var Be;if(U.current)return U.current.handleDOMBeforeInput(j);V.flush(),H.flush();var{selection:N}=b,{inputType:me}=j,Se=j.dataTransfer||j.data||void 0,ke=me==="insertCompositionText"||me==="deleteCompositionText";if(ke&&pe.isComposing(b))return;var De=!1;if(me==="insertText"&&N&&ne.isCollapsed(N)&&j.data&&j.data.length===1&&/[a-z ]/i.test(j.data)&&N.anchor.offset!==0&&(De=!0,b.marks&&(De=!1),!wa.get(b))){var Ge,bt,{anchor:ze}=N,[it,$t]=pe.toDOMPoint(b,ze),lt=(Ge=it.parentElement)===null||Ge===void 0?void 0:Ge.closest("a"),et=pe.getWindow(b);if(De&&lt&&pe.hasDOMNode(b,lt)){var Xe,wt=et==null?void 0:et.document.createTreeWalker(lt,NodeFilter.SHOW_TEXT).lastChild();wt===it&&((Xe=wt.textContent)===null||Xe===void 0?void 0:Xe.length)===$t&&(De=!1)}if(De&&it.parentElement&&(et==null||(bt=et.getComputedStyle(it.parentElement))===null||bt===void 0?void 0:bt.whiteSpace)==="pre"){var Ot=S.above(b,{at:ze.path,match:kr=>Ne.isElement(kr)&&S.isBlock(b,kr)});Ot&&Ee.string(Ot[0]).includes("	")&&(De=!1)}}if((!me.startsWith("delete")||me.startsWith("deleteBy"))&&!wa.get(b)){var[un]=j.getTargetRanges();if(un){var Wt=pe.toSlateRange(b,un,{exactMatch:!1,suppressThrow:!1});if(!N||!ne.equals(N,Wt)){De=!1;var Nt=!ke&&b.selection&&S.rangeRef(b,b.selection);de.select(b,Wt),Nt&&Zu.set(b,Nt)}}}if(ke)return;if(De||j.preventDefault(),N&&ne.isExpanded(N)&&me.startsWith("delete")){var ao=me.endsWith("Backward")?"backward":"forward";S.deleteFragment(b,{direction:ao});return}switch(me){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{S.deleteFragment(b);break}case"deleteContent":case"deleteContentForward":{S.deleteForward(b);break}case"deleteContentBackward":{S.deleteBackward(b);break}case"deleteEntireSoftLine":{S.deleteBackward(b,{unit:"line"}),S.deleteForward(b,{unit:"line"});break}case"deleteHardLineBackward":{S.deleteBackward(b,{unit:"block"});break}case"deleteSoftLineBackward":{S.deleteBackward(b,{unit:"line"});break}case"deleteHardLineForward":{S.deleteForward(b,{unit:"block"});break}case"deleteSoftLineForward":{S.deleteForward(b,{unit:"line"});break}case"deleteWordBackward":{S.deleteBackward(b,{unit:"word"});break}case"deleteWordForward":{S.deleteForward(b,{unit:"word"});break}case"insertLineBreak":S.insertSoftBreak(b);break;case"insertParagraph":{S.insertBreak(b);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{me==="insertFromComposition"&&pe.isComposing(b)&&(A(!1),ps.set(b,!1)),(Se==null?void 0:Se.constructor.name)==="DataTransfer"?pe.insertData(b,Se):typeof Se=="string"&&(De?R.current.push(()=>S.insertText(b,Se)):S.insertText(b,Se));break}}var qn=(Be=Zu.get(b))===null||Be===void 0?void 0:Be.unref();Zu.delete(b),qn&&(!b.selection||!ne.equals(b.selection,qn))&&de.select(b,qn)}},[b,H,q,a,l,V]),ve=m.useCallback(j=>{j==null?(H.cancel(),V.cancel(),df.delete(b),hs.delete(b),P.current&&oi&&P.current.removeEventListener("beforeinput",se)):oi&&j.addEventListener("beforeinput",se),P.current=j,typeof t=="function"?t(j):t&&(t.current=j)},[H,V,b,se,t]);Ju(()=>{var j=pe.getWindow(b);j.document.addEventListener("selectionchange",V);var Z=()=>{re.isDraggingInternally=!1};return j.document.addEventListener("dragend",Z),j.document.addEventListener("drop",Z),()=>{j.document.removeEventListener("selectionchange",V),j.document.removeEventListener("dragend",Z),j.document.removeEventListener("drop",Z)}},[V,re]);var oe=o([b,[]]),K=u&&b.children.length===1&&Array.from(Ee.texts(b)).length===1&&Ee.string(b)===""&&!O,G=m.useCallback(j=>{if(j&&K){var Z;L((Z=j.getBoundingClientRect())===null||Z===void 0?void 0:Z.height)}else L(void 0)},[K]);if(K){var Q=S.start(b,[]);oe.push({[Ca]:!0,placeholder:u,onPlaceholderResize:G,anchor:Q,focus:Q})}var{marks:M}=b;if(re.hasMarkPlaceholder=!1,b.selection&&ne.isCollapsed(b.selection)&&M){var{anchor:J}=b.selection,te=Ee.leaf(b,J.path),fe=ya(te,jM);if(!Fe.equals(te,M,{loose:!0})){re.hasMarkPlaceholder=!0;var X=Object.fromEntries(Object.keys(fe).map(j=>[j,null]));oe.push(Wr(Wr(Wr({[JC]:!0},X),M),{},{anchor:J,focus:J}))}}return m.useEffect(()=>{setTimeout(()=>{var{selection:j}=b;if(j){var{anchor:Z}=j,ae=Ee.leaf(b,Z.path);if(M&&!Fe.equals(ae,M,{loose:!0})){yr.set(b,M);return}}yr.delete(b)})}),He.createElement(DE.Provider,{value:l},He.createElement(_M.Provider,{value:O},He.createElement(bE.Provider,{value:o},He.createElement(FM,{node:P,receivedUserInput:ue},He.createElement(C,Wr(Wr({role:l?void 0:"textbox","aria-multiline":l?void 0:!0},E),{},{spellCheck:oi||!ff?E.spellCheck:!1,autoCorrect:oi||!ff?E.autoCorrect:"false",autoCapitalize:oi||!ff?E.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l,zindex:-1,suppressContentEditableWarning:!0,ref:ve,style:Wr(Wr({},x?{}:Wr({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},F?{minHeight:F}:{})),y),onBeforeInput:m.useCallback(j=>{if(!oi&&!l&&!wn(j,E.onBeforeInput)&&pe.hasSelectableTarget(b,j.target)&&(j.preventDefault(),!pe.isComposing(b))){var Z=j.data;S.insertText(b,Z)}},[E.onBeforeInput,b,l]),onInput:m.useCallback(j=>{if(!wn(j,E.onInput)){if(U.current){U.current.handleInput();return}for(var Z of R.current)Z();if(R.current=[],!pe.isFocused(b)){var ae=j.nativeEvent,ce=b;if(ae.inputType==="historyUndo"&&typeof ce.undo=="function"){ce.undo();return}if(ae.inputType==="historyRedo"&&typeof ce.redo=="function"){ce.redo();return}}}},[E.onInput,b]),onBlur:m.useCallback(j=>{if(!(l||re.isUpdatingSelection||!pe.hasSelectableTarget(b,j.target)||wn(j,E.onBlur))){var Z=pe.findDocumentOrShadowRoot(b);if(re.latestElement!==Z.activeElement){var{relatedTarget:ae}=j,ce=pe.toDOMNode(b,b);if(ae!==ce&&!(er(ae)&&ae.hasAttribute("data-slate-spacer"))){if(ae!=null&&ui(ae)&&pe.hasDOMNode(b,ae)){var Pe=pe.toSlateNode(b,ae);if(Ne.isElement(Pe)&&!b.isVoid(Pe))return}if(ds){var Oe=Qu(Z);Oe==null||Oe.removeAllRanges()}ii.delete(b)}}}},[l,re.isUpdatingSelection,re.latestElement,b,E.onBlur]),onClick:m.useCallback(j=>{if(pe.hasTarget(b,j.target)&&!wn(j,E.onClick)&&ui(j.target)){var Z=pe.toSlateNode(b,j.target),ae=pe.findPath(b,Z);if(!S.hasPath(b,ae)||Ee.get(b,ae)!==Z)return;if(j.detail===kM&&ae.length>=1){var ce=ae;if(!(Ne.isElement(Z)&&S.isBlock(b,Z))){var Pe,Oe=S.above(b,{match:De=>Ne.isElement(De)&&S.isBlock(b,De),at:ae});ce=(Pe=Oe==null?void 0:Oe[1])!==null&&Pe!==void 0?Pe:ae.slice(0,1)}var Ie=S.range(b,ce);de.select(b,Ie);return}if(l)return;var Be=S.start(b,ae),N=S.end(b,ae),me=S.void(b,{at:Be}),Se=S.void(b,{at:N});if(me&&Se&&$.equals(me[1],Se[1])){var ke=S.range(b,Be);de.select(b,ke)}}},[b,E.onClick,l]),onCompositionEnd:m.useCallback(j=>{if(pe.hasSelectableTarget(b,j.target)){var Z;if(pe.isComposing(b)&&Promise.resolve().then(()=>{A(!1),ps.set(b,!1)}),(Z=U.current)===null||Z===void 0||Z.handleCompositionEnd(j),wn(j,E.onCompositionEnd)||bn)return;if(!ds&&!R_&&!GC&&!I_&&!P_&&j.data){var ae=yr.get(b);yr.delete(b),ae!==void 0&&(Eo.set(b,b.marks),b.marks=ae),S.insertText(b,j.data);var ce=Eo.get(b);Eo.delete(b),ce!==void 0&&(b.marks=ce)}}},[E.onCompositionEnd,b]),onCompositionUpdate:m.useCallback(j=>{pe.hasSelectableTarget(b,j.target)&&!wn(j,E.onCompositionUpdate)&&(pe.isComposing(b)||(A(!0),ps.set(b,!0)))},[E.onCompositionUpdate,b]),onCompositionStart:m.useCallback(j=>{if(pe.hasSelectableTarget(b,j.target)){var Z;if((Z=U.current)===null||Z===void 0||Z.handleCompositionStart(j),wn(j,E.onCompositionStart)||bn)return;A(!0);var{selection:ae}=b;if(ae&&ne.isExpanded(ae)){S.deleteFragment(b);return}}},[E.onCompositionStart,b]),onCopy:m.useCallback(j=>{pe.hasSelectableTarget(b,j.target)&&!wn(j,E.onCopy)&&!OE(j)&&(j.preventDefault(),pe.setFragmentData(b,j.clipboardData,"copy"))},[E.onCopy,b]),onCut:m.useCallback(j=>{if(!l&&pe.hasSelectableTarget(b,j.target)&&!wn(j,E.onCut)&&!OE(j)){j.preventDefault(),pe.setFragmentData(b,j.clipboardData,"cut");var{selection:Z}=b;if(Z)if(ne.isExpanded(Z))S.deleteFragment(b);else{var ae=Ee.parent(b,Z.anchor.path);S.isVoid(b,ae)&&de.delete(b)}}},[l,b,E.onCut]),onDragOver:m.useCallback(j=>{if(pe.hasTarget(b,j.target)&&!wn(j,E.onDragOver)){var Z=pe.toSlateNode(b,j.target);Ne.isElement(Z)&&S.isVoid(b,Z)&&j.preventDefault()}},[E.onDragOver,b]),onDragStart:m.useCallback(j=>{if(!l&&pe.hasTarget(b,j.target)&&!wn(j,E.onDragStart)){var Z=pe.toSlateNode(b,j.target),ae=pe.findPath(b,Z),ce=Ne.isElement(Z)&&S.isVoid(b,Z)||S.void(b,{at:ae,voids:!0});if(ce){var Pe=S.range(b,ae);de.select(b,Pe)}re.isDraggingInternally=!0,pe.setFragmentData(b,j.dataTransfer,"drag")}},[l,b,E.onDragStart,re]),onDrop:m.useCallback(j=>{if(!l&&pe.hasTarget(b,j.target)&&!wn(j,E.onDrop)){j.preventDefault();var Z=b.selection,ae=pe.findEventRange(b,j),ce=j.dataTransfer;de.select(b,ae),re.isDraggingInternally&&Z&&!ne.equals(Z,ae)&&!S.void(b,{at:ae,voids:!0})&&de.delete(b,{at:Z}),pe.insertData(b,ce),pe.isFocused(b)||pe.focus(b)}},[l,b,E.onDrop,re]),onDragEnd:m.useCallback(j=>{!l&&re.isDraggingInternally&&E.onDragEnd&&pe.hasTarget(b,j.target)&&E.onDragEnd(j)},[l,re,E,b]),onFocus:m.useCallback(j=>{if(!l&&!re.isUpdatingSelection&&pe.hasEditableTarget(b,j.target)&&!wn(j,E.onFocus)){var Z=pe.toDOMNode(b,b),ae=pe.findDocumentOrShadowRoot(b);if(re.latestElement=ae.activeElement,ba&&j.target!==Z){Z.focus();return}ii.set(b,!0)}},[l,re,b,E.onFocus]),onKeyDown:m.useCallback(j=>{if(!l&&pe.hasEditableTarget(b,j.target)){var Z;(Z=U.current)===null||Z===void 0||Z.handleKeyDown(j);var{nativeEvent:ae}=j;if(pe.isComposing(b)&&ae.isComposing===!1&&(ps.set(b,!1),A(!1)),wn(j,E.onKeyDown)||pe.isComposing(b))return;var{selection:ce}=b,Pe=b.children[ce!==null?ce.focus.path[0]:0],Oe=lC(Ee.string(Pe))==="rtl";if(_t.isRedo(ae)){j.preventDefault();var Ie=b;typeof Ie.redo=="function"&&Ie.redo();return}if(_t.isUndo(ae)){j.preventDefault();var Be=b;typeof Be.undo=="function"&&Be.undo();return}if(_t.isMoveLineBackward(ae)){j.preventDefault(),de.move(b,{unit:"line",reverse:!0});return}if(_t.isMoveLineForward(ae)){j.preventDefault(),de.move(b,{unit:"line"});return}if(_t.isExtendLineBackward(ae)){j.preventDefault(),de.move(b,{unit:"line",edge:"focus",reverse:!0});return}if(_t.isExtendLineForward(ae)){j.preventDefault(),de.move(b,{unit:"line",edge:"focus"});return}if(_t.isMoveBackward(ae)){j.preventDefault(),ce&&ne.isCollapsed(ce)?de.move(b,{reverse:!Oe}):de.collapse(b,{edge:Oe?"end":"start"});return}if(_t.isMoveForward(ae)){j.preventDefault(),ce&&ne.isCollapsed(ce)?de.move(b,{reverse:Oe}):de.collapse(b,{edge:Oe?"start":"end"});return}if(_t.isMoveWordBackward(ae)){j.preventDefault(),ce&&ne.isExpanded(ce)&&de.collapse(b,{edge:"focus"}),de.move(b,{unit:"word",reverse:!Oe});return}if(_t.isMoveWordForward(ae)){j.preventDefault(),ce&&ne.isExpanded(ce)&&de.collapse(b,{edge:"focus"}),de.move(b,{unit:"word",reverse:Oe});return}if(oi){if((XC||ds)&&ce&&(_t.isDeleteBackward(ae)||_t.isDeleteForward(ae))&&ne.isCollapsed(ce)){var N=Ee.parent(b,ce.anchor.path);if(Ne.isElement(N)&&S.isVoid(b,N)&&(S.isInline(b,N)||S.isBlock(b,N))){j.preventDefault(),S.deleteBackward(b,{unit:"block"});return}}}else{if(_t.isBold(ae)||_t.isItalic(ae)||_t.isTransposeCharacter(ae)){j.preventDefault();return}if(_t.isSoftBreak(ae)){j.preventDefault(),S.insertSoftBreak(b);return}if(_t.isSplitBlock(ae)){j.preventDefault(),S.insertBreak(b);return}if(_t.isDeleteBackward(ae)){j.preventDefault(),ce&&ne.isExpanded(ce)?S.deleteFragment(b,{direction:"backward"}):S.deleteBackward(b);return}if(_t.isDeleteForward(ae)){j.preventDefault(),ce&&ne.isExpanded(ce)?S.deleteFragment(b,{direction:"forward"}):S.deleteForward(b);return}if(_t.isDeleteLineBackward(ae)){j.preventDefault(),ce&&ne.isExpanded(ce)?S.deleteFragment(b,{direction:"backward"}):S.deleteBackward(b,{unit:"line"});return}if(_t.isDeleteLineForward(ae)){j.preventDefault(),ce&&ne.isExpanded(ce)?S.deleteFragment(b,{direction:"forward"}):S.deleteForward(b,{unit:"line"});return}if(_t.isDeleteWordBackward(ae)){j.preventDefault(),ce&&ne.isExpanded(ce)?S.deleteFragment(b,{direction:"backward"}):S.deleteBackward(b,{unit:"word"});return}if(_t.isDeleteWordForward(ae)){j.preventDefault(),ce&&ne.isExpanded(ce)?S.deleteFragment(b,{direction:"forward"}):S.deleteForward(b,{unit:"word"});return}}}},[l,b,E.onKeyDown]),onPaste:m.useCallback(j=>{!l&&pe.hasEditableTarget(b,j.target)&&!wn(j,E.onPaste)&&(!oi||F_(j.nativeEvent)||ds)&&(j.preventDefault(),pe.insertData(b,j.clipboardData))},[l,b,E.onPaste])}),He.createElement(LM,{decorations:oe,node:b,renderElement:f,renderPlaceholder:p,renderLeaf:d,selection:b.selection}))))))}),zM=e=>{var{attributes:t,children:n}=e;return He.createElement("span",Wr({},t),n,bn&&He.createElement("br",null))},UM=()=>[],HM=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&ne.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),t_(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},wn=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},OE=e=>ui(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),WM=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},VM=m.createContext(!1),KM=m.createContext({});function qM(e){var t=m.useRef([]).current,n=m.useRef({editor:e}).current,r=m.useCallback(a=>{n.editor=a,t.forEach(u=>u(a))},[t,n]),o=m.useMemo(()=>({getSlate:()=>n.editor,addEventListener:a=>(t.push(a),()=>{t.splice(t.indexOf(a),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var GM=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],YM=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:o,onValueChange:a,initialValue:u}=e,l=ya(e,GM),[f,d]=He.useState(()=>{if(!Ee.isNodeList(u))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Jt.stringify(u)));if(!S.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Jt.stringify(t)));return t.children=u,Object.assign(t,l),{v:0,editor:t}}),{selectorContext:p,onChange:v}=qM(t),y=m.useCallback(E=>{var b;switch(r&&r(t.children),E==null||(b=E.operation)===null||b===void 0?void 0:b.type){case"set_selection":o==null||o(t.selection);break;default:a==null||a(t.children)}d(O=>({v:O.v+1,editor:t})),v(t)},[t,v,r,o,a]);m.useEffect(()=>(fm.set(t,y),()=>{fm.set(t,()=>{})}),[t,y]);var[C,x]=m.useState(pe.isFocused(t));return m.useEffect(()=>{x(pe.isFocused(t))},[t]),Ju(()=>{var E=()=>x(pe.isFocused(t));return qC>=17?(document.addEventListener("focusin",E),document.addEventListener("focusout",E),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",E)}):(document.addEventListener("focus",E,!0),document.addEventListener("blur",E,!0),()=>{document.removeEventListener("focus",E,!0),document.removeEventListener("blur",E,!0)})},[]),He.createElement(KM.Provider,{value:p},He.createElement(xE.Provider,{value:f},He.createElement(om.Provider,{value:f.editor},He.createElement(VM.Provider,{value:C},n))))},TE=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},kE=(e,t,n)=>{var r=pe.toDOMRange(e,t).getBoundingClientRect(),o=pe.toDOMRange(e,n).getBoundingClientRect();return TE(r,o)&&TE(o,r)},XM=(e,t)=>{var n=S.range(e,ne.end(t)),r=Array.from(S.positions(e,{at:t})),o=0,a=r.length,u=Math.floor(a/2);if(kE(e,S.range(e,r[o]),n))return S.range(e,r[o],n);if(r.length<2)return S.range(e,r[r.length-1],n);for(;u!==r.length&&u!==o;)kE(e,S.range(e,r[u]),n)?a=u:o=u,u=Math.floor((o+a)/2);return S.range(e,r[a],n)};function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function PE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ZM=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:a,deleteBackward:u,addMark:l,removeMark:f}=r;return pf.set(r,new WeakMap),r.addMark=(d,p)=>{var v,y;(v=dm.get(r))===null||v===void 0||v(),!yr.get(r)&&(y=Tn.get(r))!==null&&y!==void 0&&y.length&&yr.set(r,null),Eo.delete(r),l(d,p)},r.removeMark=d=>{var p;!yr.get(r)&&(p=Tn.get(r))!==null&&p!==void 0&&p.length&&yr.set(r,null),Eo.delete(r),f(d)},r.deleteBackward=d=>{if(d!=="line")return u(d);if(r.selection&&ne.isCollapsed(r.selection)){var p=S.above(r,{match:x=>Ne.isElement(x)&&S.isBlock(r,x),at:r.selection});if(p){var[,v]=p,y=S.range(r,v,r.selection.anchor),C=XM(r,y);ne.isCollapsed(C)||de.delete(r,{at:C})}}},r.apply=d=>{var p=[],v=[],y=Tn.get(r);if(y!=null&&y.length){var C=y.map(V=>X_(V,d)).filter(Boolean);Tn.set(r,C)}var x=ai.get(r);x&&ai.set(r,uE(r,x,d));var E=si.get(r);if(E!=null&&E.at){var b=ot.isPoint(E==null?void 0:E.at)?gm(r,E.at,d):uE(r,E.at,d);si.set(r,b?PE(PE({},E),{},{at:b}):null)}switch(d.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{p.push(...Ea(r,d.path));break}case"set_selection":{var O;(O=Zu.get(r))===null||O===void 0||O.unref(),Zu.delete(r);break}case"insert_node":case"remove_node":{p.push(...Ea(r,$.parent(d.path)));break}case"merge_node":{var A=$.previous(d.path);p.push(...Ea(r,A));break}case"move_node":{var P=$.common($.parent(d.path),$.parent(d.newPath));p.push(...Ea(r,P));var R;$.isBefore(d.path,d.newPath)?(p.push(...Ea(r,$.parent(d.path))),R=d.newPath):(p.push(...Ea(r,$.parent(d.newPath))),R=d.path);var F=Ee.get(t,$.parent(R)),L=pe.findKey(r,F),I=S.pathRef(r,$.parent(R));v.push([I,L]);break}}switch(o(d),d.type){case"insert_node":case"remove_node":case"merge_node":case"move_node":case"split_node":wa.set(r,!0)}for(var[q,ue]of p){var[Y]=S.node(r,q);hf.set(Y,ue)}for(var[re,U]of v){if(re.current){var[H]=S.node(r,re.current);hf.set(H,U)}re.unref()}},r.setFragmentData=d=>{var{selection:p}=r;if(p){var[v,y]=ne.edges(p),C=S.void(r,{at:v.path}),x=S.void(r,{at:y.path});if(!(ne.isCollapsed(p)&&!C)){var E=pe.toDOMRange(r,p),b=E.cloneContents(),O=b.childNodes[0];if(b.childNodes.forEach(Y=>{Y.textContent&&Y.textContent.trim()!==""&&(O=Y)}),x){var[A]=x,P=E.cloneRange(),R=pe.toDOMNode(r,A);P.setEndAfter(R),b=P.cloneContents()}if(C&&(O=b.querySelector("[data-slate-spacer]")),Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(Y=>{var re=Y.getAttribute("data-slate-zero-width")==="n";Y.textContent=re?`
`:""}),tE(O)){var F=O.ownerDocument.createElement("span");F.style.whiteSpace="pre",F.appendChild(O),b.appendChild(F),O=F}var L=r.getFragment(),I=JSON.stringify(L),q=window.btoa(encodeURIComponent(I));O.setAttribute("data-slate-fragment",q),d.setData("application/".concat(n),q);var ue=b.ownerDocument.createElement("div");return ue.appendChild(b),ue.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(ue),d.setData("text/html",ue.innerHTML),d.setData("text/plain",rE(ue)),b.ownerDocument.body.removeChild(ue),d}}},r.insertData=d=>{r.insertFragmentData(d)||r.insertTextData(d)},r.insertFragmentData=d=>{var p=d.getData("application/".concat(n))||$_(d);if(p){var v=decodeURIComponent(window.atob(p)),y=JSON.parse(v);return r.insertFragment(y),!0}return!1},r.insertTextData=d=>{var p=d.getData("text/plain");if(p){var v=p.split(/\r\n|\r|\n/),y=!1;for(var C of v)y&&de.splitNodes(r,{always:!0}),r.insertText(C),y=!0;return!0}return!1},r.onChange=d=>{var p=qC<18?Uc.unstable_batchedUpdates:v=>v();p(()=>{var v=fm.get(r);v&&v(d),a(d)})},r},Ea=(e,t)=>{var n=[];for(var[r,o]of S.levels(e,{at:t})){var a=pe.findKey(e,r);n.push([o,a])}return n};const QM=m.createContext({});function Da(){return m.useContext(QM)}const IE=[{type:"mark",mark:"bold",character:"*"},{type:"mark",mark:"italic",character:"_"},{type:"mark",mark:"strikethrough",character:"~"},{type:"mark",mark:"code",character:"`"}],JM=IE.filter(e=>e.type==="mark").map(e=>e.character);function ej(e,t,n){if(t!==n.character)return!1;const r=nC(e,e.selection,[n.character]);if(!r||ne.isCollapsed(r))return!1;const o=Vu(e,r);if(!o||o.text!==n.character)return!1;const a=Vu(e,o.range);if(a&&!JM.includes(a.text)&&!va(a.text))return!1;const u=S.string(e,r);return u.trim()!==u?!1:(de.select(e,r),e.addMark(n.mark,!0),de.collapse(e,{edge:"end"}),e.removeMark(n.mark),de.delete(e,{at:o.range}),!0)}function tj(e){const{insertText:t}=e;return e.insertText=(n,r)=>{if(!e.selection||!ne.isCollapsed(e.selection))return t(n,r);let o=!0;for(const a of IE)a.type==="mark"&&ej(e,n,a)&&(o=!1);o&&t(n,r)},e}function Vr(e){return!("type"in e)&&"text"in e&&typeof e.text=="string"}function wm(e){return Vr(e)&&Object.keys(e).length===1}const NE={bold:!1,italic:!1,strikethrough:!1,code:!1};function nj(e,t){const n=S.marks(e);return n?n[t]===!0:!1}function BE(e){if(!e)return{...NE};const t=S.marks(e);return{...NE,...t}}function FE(e){return Object.keys(e??{}).filter(t=>t!=="text")}function el(e,t){nj(e,t)?S.removeMark(e,t):S.addMark(e,t,!0)}function _E(e){const t=S.marks(e);if(t)for(const n in t)S.removeMark(e,n)}function ME(e,t){e.selection&&ne.isCollapsed(e.selection)&&Object.keys(S.marks(e)??{}).length>0&&((t==="start"?Vu(e,e.selection):Bp(e,e.selection))||_E(e))}function rj(e,t){const{selection:n}=e;if(!n)return!1;const r=Array.from(S.nodes(e,{at:n,match:o=>Ne.isElement(o)&&S.isBlock(e,o),mode:"lowest"}));for(const[,o]of r){const a=ne.isRange(n)?ne.intersection(n,S.range(e,o)):n;if(!a)continue;if(Array.from(S.nodes(e,{at:a,match:l=>S.isInline(e,l)&&t(l)})).length>0)return!0}return!1}function oj(e){try{return new URL(e),!0}catch{return!1}}function ij(e){const{isInline:t,normalizeNode:n,insertData:r}=e;return e.isInline=o=>o.type==="custom-link"?!0:t(o),e.normalizeNode=o=>{const[a,u]=o;if(Vr(a)){const l=Ee.parent(e,u);if(vf(l)&&!wm(a)){const f=FE(a);de.unsetNodes(e,f,{at:u})}}n(o)},e.insertData=o=>{const{selection:a}=e,u=o.getData("text/plain");let l=!0;a&&!ne.isCollapsed(a)&&a.anchor.path[0]===a.focus.path[0]&&oj(u)&&(rj(e,f=>!Vr(f))||(de.wrapNodes(e,{type:"custom-link",url:u,children:[]},{at:a,split:!0,match:wm}),l=!1)),l&&r(o)},e}function vf(e){return Ne.isElement(e)&&e.type==="custom-link"}function sj(e){const{isInline:t,normalizeNode:n,deleteBackward:r}=e;return e.isInline=o=>o.type==="auto-link"?!0:t(o),e.normalizeNode=o=>{const[a,u]=o;if(!vf(a)){if(Vr(a)){const l=Ee.parent(e,u);if(vf(l))return;if(xa(l)){const f=$.parent(u);if(hj(e,[l,f]),!wm(a)){const d=FE(a);de.unsetNodes(e,d,{at:u})}}else pj(e,[a,u]),mj(e,[a,u])}n(o)}},e.deleteBackward=o=>{r(o);const{selection:a}=e;if(!a||!ne.isCollapsed(a))return;const[u]=S.nodes(e,{at:a,match:xa,mode:"lowest"});u&&de.unwrapNodes(e,{match:xa})},e}function xa(e){return Ne.isElement(e)&&e.type==="auto-link"}const jE=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9().@:%_+~#?&//=]*)/,aj=/[.,;!?\s()]/,uj=/^[.?][a-zA-Z0-9]+/,lj=/[()]/;function gf(e){return aj.test(e)}function LE(e){const t=e[e.length-1];return t!==void 0?gf(t):!1}function $E(e){const t=e[0];return t!==void 0?gf(t):!1}function cj(e){return e[e.length-1]==="."||e[e.length-1]==="?"}function fj(e){if(!lj.test(e))return e.length;let t=0,n=0;for(const r of e){if(r==="("&&n++,r===")"&&(n--,n<0))break;t++}return t}function zE(e,t){const n=S.previous(e,{at:t});return n?Vr(n[0])&&(LE(n[0].text)||n[0].text===""):!0}function UE(e,t){const n=S.next(e,{at:t});return n?Vr(n[0])&&($E(n[0].text)||n[0].text===""):!0}function dj(e,t,n,r){const[o,a]=t,u=o.text,l=u[n-1],f=n>0&&l?gf(l):zE(e,a),d=u[r],p=r<u.length&&d?gf(d):UE(e,a);return f&&p}const hj=(e,t)=>{const[n,r]=t,o=Ee.children(e,r);for(const[d]of o)if(!Vr(d)){de.unwrapNodes(e,{at:r});return}const a=Ee.string(n),u=jE.exec(a),l=u==null?void 0:u[0];if(!u||l!==a){de.unwrapNodes(e,{at:r});return}if(cj(a)){de.unwrapNodes(e,{at:r});const d=a.slice(0,a.length-1);de.wrapNodes(e,{type:"auto-link",url:d,children:[]},{at:{anchor:{path:r,offset:0},focus:{path:r,offset:d.length}},split:!0});return}const f=fj(a);if(f<a.length){de.unwrapNodes(e,{at:r});const d=a.slice(0,f);de.wrapNodes(e,{type:"auto-link",url:d,children:[]},{at:{anchor:{path:r,offset:0},focus:{path:r,offset:d.length}},split:!0});return}if(!zE(e,r)||!UE(e,r)){de.unwrapNodes(e,{at:r});return}if(n.url!==a){de.setNodes(e,{url:l},{at:r});return}},pj=(e,t)=>{const[n,r]=t,o=jE.exec(n.text),a=o==null?void 0:o[0];if(!o||a===void 0)return;const u=o.index,l=u+a.length;dj(e,t,u,l)&&de.wrapNodes(e,{type:"auto-link",url:a,children:[]},{at:{anchor:{path:r,offset:u},focus:{path:r,offset:l}},split:!0})},mj=(e,t)=>{const[n,r]=t,o=n.text,a=S.previous(e,{at:r});if(a&&xa(a[0])){if(uj.test(o)){de.unwrapNodes(e,{at:a[1]}),de.mergeNodes(e,{at:r});return}if(!$E(o)){de.unwrapNodes(e,{at:a[1]});return}}const u=S.next(e,{at:r});if(u&&xa(u[0])&&!LE(o)){de.unwrapNodes(e,{at:u[1]});return}};function Cm(e,t){for(const n of t)if(Vr(n)){if(!va(n.text))return!1}else if(n.type==="paragraph"){if(n.children.length>1||n.children[0]&&!(Vr(n.children[0])&&va(n.children[0].text)))return!1}else if(!S.isEmpty(e,n))return!1;return!0}function vj(e){const{onChange:t}=e;return e.onChange=n=>{Cm(e,e.children)&&_E(e),t(n)},e}function gj(e){const{normalizeNode:t}=e;return e.normalizeNode=n=>{var a;const[r,o]=n;if(Ne.isElement(r)&&r.type==="paragraph"){for(const[u,l]of Ee.children(e,o))if(Ne.isElement(u)&&!e.isInline(u)){de.unwrapNodes(e,{at:l});return}}Ne.isElement(r)&&(r.type==="auto-link"||r.type==="custom-link")&&(r.children.length===0||r.children.length===1&&((a=r.children[0])==null?void 0:a.text)==="")&&de.removeNodes(e,{at:o}),t(n)},e}function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function yj(e,t){if(tl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bj(e){var t=yj(e,"string");return tl(t)==="symbol"?t:String(t)}function Sa(e,t,n){return t=bj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HE=new WeakMap,WE=new WeakMap;class Em{}class yf extends Em{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Sa(this,"offset",void 0),Sa(this,"path",void 0);var{offset:n,path:r}=t;this.offset=n,this.path=r}}class bf extends Em{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Sa(this,"offset",void 0),Sa(this,"path",void 0);var{offset:n,path:r}=t;this.offset=n,this.path=r}}var wj=(e,t)=>{var n=e.text.length;HE.set(e,[n,t])},Cj=e=>HE.get(e),Ej=(e,t)=>{var n=e.text.length;WE.set(e,[n,t])},Dj=e=>WE.get(e);function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(r){Sa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var wf=new WeakSet,Cf=e=>{var t=[],n=o=>{if(o!=null){var a=t[t.length-1];if(typeof o=="string"){var u={text:o};wf.add(u),o=u}if(Fe.isText(o)){var l=o;Fe.isText(a)&&wf.has(a)&&wf.has(l)&&Fe.equals(a,l,{loose:!0})?a.text+=l.text:t.push(l)}else if(Ne.isElement(o))t.push(o);else if(o instanceof Em){var f=t[t.length-1];Fe.isText(f)||(n(""),f=t[t.length-1]),o instanceof yf?wj(f,o):o instanceof bf&&Ej(f,o)}else throw new Error("Unexpected hyperscript child object: ".concat(o))}};for(var r of e.flat(1/0))n(r);return t};function xj(e,t,n){return new yf(t)}function Sj(e,t,n){return[new yf(t),new bf(t)]}function KE(e,t,n){return Dm(Dm({},t),{},{children:Cf(n)})}function Aj(e,t,n){return new bf(t)}function Oj(e,t,n){return Cf(n)}function Tj(e,t,n){var r=n.find(a=>a instanceof yf),o=n.find(a=>a instanceof bf);if(!r||r.offset==null||r.path==null)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||o.offset==null||o.path==null)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return Dm({anchor:{offset:r.offset,path:r.path},focus:{offset:o.offset,path:o.path}},t)}function kj(e,t,n){var r=Cf(n);if(r.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=r;if(o==null&&(o={text:""}),!Fe.isText(o))throw new Error(`
    The <text> hyperscript tag can only contain text content as children.`);return wf.delete(o),Object.assign(o,t),o}var Rj=e=>(t,n,r)=>{var o=[],a;for(var u of r)ne.isRange(u)?a=u:o.push(u);var l=Cf(o),f={},d=e();Object.assign(d,n),d.children=l;for(var[p,v]of Ee.texts(d)){var y=Cj(p),C=Dj(p);if(y!=null){var[x]=y;f.anchor={path:v,offset:x}}if(C!=null){var[E]=C;f.focus={path:v,offset:E}}}if(f.anchor&&!f.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!f.anchor&&f.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return a!=null?d.selection=a:ne.isRange(f)&&(d.selection=f),d};function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function nl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(n),!0).forEach(function(r){Sa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Pj={anchor:xj,cursor:Sj,editor:Rj(eC),element:KE,focus:Aj,fragment:Oj,selection:Tj,text:kj},Ij=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{elements:n={}}=t,r=Bj(n),o=nl(nl(nl({},Pj),r),t.creators),a=Nj(o);return a},Nj=e=>{var t=function(r,o){for(var a=arguments.length,u=new Array(a>2?a-2:0),l=2;l<a;l++)u[l-2]=arguments[l];var f=e[r];if(!f)throw new Error("No hyperscript creator found for tag: <".concat(r,">"));o==null&&(o={}),Qt(o)||(u=[o].concat(u),o={}),u=u.filter(p=>!!p).flat();var d=f(r,o,u);return d};return t},Bj=e=>{var t={},n=function(){var a=e[r];if(typeof a!="object")throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(a));t[r]=(u,l,f)=>KE("element",nl(nl({},a),l),f)};for(var r in e)n();return t},rl=Ij();function ol(e){return e!=null}function GE(e){if(!e.types.includes("Files"))return[];let t=Array.from(e.items).map(n=>{const r=n.webkitGetAsEntry();return r&&r.isFile?n.getAsFile():null}).filter(ol);return t.length||(t=Array.from(e.files).filter(n=>n.type!=="")),t}const Fj=/[\r\n]/g,_j=/\s+/g;function Mj(e,t){try{const n=new URL(e),r=new URL(t);return n.origin===r.origin&&n.pathname===r.pathname}catch{return!1}}const Kr=()=>({type:"paragraph"}),YE={A:e=>{const t=e.getAttribute("href"),n=e.innerText;return{type:t&&Mj(t,n)?"auto-link":"custom-link",url:t??""}},P:Kr,BLOCKQUOTE:Kr,H1:Kr,H2:Kr,H3:Kr,H4:Kr,H5:Kr,H6:Kr,LI:Kr},XE={CODE:()=>({code:!0}),DEL:()=>({strikethrough:!0}),EM:()=>({italic:!0}),I:()=>({italic:!0}),S:()=>({strikethrough:!0}),STRONG:()=>({bold:!0}),B:()=>({bold:!0})};function ZE(e){const t=[];return e.nodeName==="LI"&&t.push(e),e.childNodes.forEach(n=>{n.nodeType===1&&t.push(...ZE(n))}),t}function QE(e,t){return e.map(n=>rl("text",t,n))}function xm(e){if(e.nodeType===3){let r=e.textContent;const o=r&&Fj.test(r);return r&&o&&(r=r.replace(_j," ").trim()),r?{text:r}:null}else{if(e.nodeType!==1)return null;if(e.nodeName==="BR")return rl("element",Kr(),[])}let n=Array.from(e.childNodes).map(xm).flat();if((e.nodeName==="UL"||e.nodeName==="OL")&&(n=ZE(e).map(o=>xm(o)).flat()),n.length===0&&(n=[{text:""}]),e.nodeName==="BODY")return n.length>0&&n.every(r=>typeof r=="string")&&(n=[{type:"paragraph",children:[{text:n.join("")}]}]),rl("fragment",{},n.filter(r=>typeof r!="string"));if(YE[e.nodeName]){const r=YE[e.nodeName](e);return rl("element",r,n)}if(XE[e.nodeName]){const r=XE[e.nodeName](e);return n.some(o=>o&&typeof o!="string"&&"type"in o)?rl("fragment",{},n):QE(n,r)}if(e.nodeName==="SPAN"){const r=e.style,o={};return(r.fontWeight==="bold"||r.fontWeight==="700"||r.fontWeight==="800"||r.fontWeight==="900")&&(o.bold=!0),r.fontStyle==="italic"&&(o.italic=!0),r.textDecoration==="line-through"&&(o.strikethrough=!0),QE(n,o)}return n}function jj(e,{createAttachments:t,pasteFilesAsAttachments:n}){const{insertData:r}=e;return e.insertData=o=>{var a,u;if(o.types.includes("Files")&&n){const l=GE(o);if(l.length>0){t(l);return}}if(o.types.includes("text/html")&&!o.types.includes("application/x-slate-fragment")){const l=o.getData("text/html");try{const{body:f}=new DOMParser().parseFromString(l,"text/html");if((a=f.querySelector("br.Apple-interchange-newline"))==null||a.remove(),f.children.length===1&&((u=f.children[0])==null?void 0:u.nodeName)==="B"){const p=f.children[0];for(;p.firstChild;)f.insertBefore(p.firstChild,p);f.removeChild(p)}const d=xm(f);if(d!==null&&Array.isArray(d)){de.insertFragment(e,d);return}}catch{}}r(o)},e}function JE(e,t){try{return pe.toDOMRange(e,t)}catch{return JE(e,{anchor:t.anchor,focus:t.anchor})}}const Lj=/Mac|iPod|iPhone|iPad/;function e1(){return typeof window<"u"&&Lj.test(window.navigator.platform)}const $j={alt:()=>"altKey",ctrl:()=>"ctrlKey",meta:()=>"metaKey",mod:()=>e1()?"metaKey":"ctrlKey",shift:()=>"shiftKey"};function Cn(e,t,n={}){return e.key!==t?!1:Object.entries(n).filter(([,o])=>typeof o=="boolean").every(([o,a])=>{const u=$j[o]();return e[u]===a})}const t1=m.createContext(null);function Sm(){const e=m.useContext(t1);return We(e,"Persist is missing from the React tree.")}function zj(e){const t=Array.isArray(e)?m.Children.only(e):e;return m.isValidElement(t)?t:void 0}function n1(e){const[t,n]=Sm(),r=m.useRef(null),o=m.useRef(null);$r(()=>{const a=e.current;if(!a)return;const u=l=>{l.animationName===o.current&&n(),r.current=l.animationName};return a.addEventListener("animationcancel",u),a.addEventListener("animationend",u),()=>{a.removeEventListener("animationcancel",u),a.removeEventListener("animationend",u)}},[e,n]),$r(()=>{const a=e.current;let u;if(a)return t||(u=requestAnimationFrame(()=>{const l=getComputedStyle(a);o.current=l.animationName,(l.animationName==="none"||l.animationName===r.current||l.display==="none")&&n()})),()=>{cancelAnimationFrame(u)}},[t,e,n])}function r1({children:e}){const[t,n]=m.useState(!0),r=m.useRef(null),o=zj(e),a=m.useCallback(()=>{os.flushSync(()=>n(!1))},[]);return $r(()=>{o&&(n(!0),r.current=o)},[o]),w.jsx(t1.Provider,{value:[!!o,a],children:o??(t?r.current:null)})}const o1=m.forwardRef(({container:e=document==null?void 0:document.body,asChild:t,...n},r)=>{const o=t?Zt:"div";return e?os.createPortal(w.jsx(o,{"data-liveblocks-portal":"",...n,ref:r}),e):null});function Uj(e,t){if(typeof e.requestSubmit=="function")return e.requestSubmit(t);t?t.click():(t=document.createElement("input"),t.type="submit",t.hidden=!0,e.appendChild(t),t.click(),e.removeChild(t))}function i1(e,t,n){return Math.min(Math.max(e,t),n)}function Hj(e,t,n){const r=n-t;return r>0?((e-t)%r+r)%r+t:0}const Wj={wrap:!0};function Vj(e,t,n){const{wrap:r}=m.useMemo(()=>({...Wj,...n}),[n]),o=m.useMemo(()=>r?Hj:i1,[r]),[a,u]=m.useState(e);m.useEffect(()=>{u(d=>i1(d,0,Math.max(t-1,0)))},[t]);const l=m.useCallback(()=>{u(d=>o(d-1,0,Math.max(t,0)))},[t,o]),f=m.useCallback(()=>{u(d=>o(d+1,0,Math.max(t,0)))},[t,o]);return[a,l,f,u]}function il(e){const[t]=m.useState(e);return t}function Am(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e},[e]),t}function Om(e,t){const n=Am(t);m.useEffect(()=>e.subscribe(()=>n.current()),[e,n])}function Kj(e,t){t&&(typeof e=="function"?e(t):e&&"current"in e&&(e.current=t))}function qj(e,...t){for(const n of t)Kj(n,e)}function sl(...e){return m.useCallback(t=>qj(t,...e),e)}const s1=m.createContext(null),a1=m.createContext(null),u1=m.createContext(null),l1=m.createContext(null),c1=m.createContext(null);function Ef(){const e=m.useContext(a1);return We(e,"Composer.Form is missing from the React tree.")}function f1(){return m.useContext(u1)}function Tm(){const e=f1();return We(e,"Composer.Form is missing from the React tree.")}function km(e="useComposerSuggestionsContext"){const t=m.useContext(l1);return We(t,`${e} cant be used outside of Composer.Editor.`)}function Gj(e="useComposerFloatingToolbarContext"){const t=m.useContext(c1);return We(t,`${e} cant be used outside of Composer.Editor.`)}function $n(){const e=m.useContext(s1);return We(e,"Composer.Form is missing from the React tree.")}const Yj=["top","right","bottom","left"],br=Math.min,fn=Math.max,Df=Math.round,xf=Math.floor,qr=e=>({x:e,y:e}),Xj={left:"right",right:"left",bottom:"top",top:"bottom"},Zj={start:"end",end:"start"};function Rm(e,t,n){return fn(e,br(t,n))}function Gr(e,t){return typeof e=="function"?e(t):e}function wr(e){return e.split("-")[0]}function Aa(e){return e.split("-")[1]}function Pm(e){return e==="x"?"y":"x"}function Im(e){return e==="y"?"height":"width"}const Qj=new Set(["top","bottom"]);function Cr(e){return Qj.has(wr(e))?"y":"x"}function Nm(e){return Pm(Cr(e))}function Jj(e,t,n){n===void 0&&(n=!1);const r=Aa(e),o=Nm(e),a=Im(o);let u=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=Sf(u)),[u,Sf(u)]}function e3(e){const t=Sf(e);return[Bm(e),t,Bm(t)]}function Bm(e){return e.replace(/start|end/g,t=>Zj[t])}const d1=["left","right"],h1=["right","left"],t3=["top","bottom"],n3=["bottom","top"];function r3(e,t,n){switch(e){case"top":case"bottom":return n?t?h1:d1:t?d1:h1;case"left":case"right":return t?t3:n3;default:return[]}}function o3(e,t,n,r){const o=Aa(e);let a=r3(wr(e),n==="start",r);return o&&(a=a.map(u=>u+"-"+o),t&&(a=a.concat(a.map(Bm)))),a}function Sf(e){return e.replace(/left|right|bottom|top/g,t=>Xj[t])}function i3(e){return{top:0,right:0,bottom:0,left:0,...e}}function Fm(e){return typeof e!="number"?i3(e):{top:e,right:e,bottom:e,left:e}}function Oa(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function p1(e,t,n){let{reference:r,floating:o}=e;const a=Cr(t),u=Nm(t),l=Im(u),f=wr(t),d=a==="y",p=r.x+r.width/2-o.width/2,v=r.y+r.height/2-o.height/2,y=r[l]/2-o[l]/2;let C;switch(f){case"top":C={x:p,y:r.y-o.height};break;case"bottom":C={x:p,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:v};break;case"left":C={x:r.x-o.width,y:v};break;default:C={x:r.x,y:r.y}}switch(Aa(t)){case"start":C[u]-=y*(n&&d?-1:1);break;case"end":C[u]+=y*(n&&d?-1:1);break}return C}const s3=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:u}=n,l=a.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let d=await u.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:v}=p1(d,r,f),y=r,C={},x=0;for(let E=0;E<l.length;E++){const{name:b,fn:O}=l[E],{x:A,y:P,data:R,reset:F}=await O({x:p,y:v,initialPlacement:r,placement:y,strategy:o,middlewareData:C,rects:d,platform:u,elements:{reference:e,floating:t}});p=A??p,v=P??v,C={...C,[b]:{...C[b],...R}},F&&x<=50&&(x++,typeof F=="object"&&(F.placement&&(y=F.placement),F.rects&&(d=F.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):F.rects),{x:p,y:v}=p1(d,y,f)),E=-1)}return{x:p,y:v,placement:y,strategy:o,middlewareData:C}};async function al(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:u,elements:l,strategy:f}=e,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:y=!1,padding:C=0}=Gr(t,e),x=Fm(C),b=l[y?v==="floating"?"reference":"floating":v],O=Oa(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:p,strategy:f})),A=v==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),R=await(a.isElement==null?void 0:a.isElement(P))?await(a.getScale==null?void 0:a.getScale(P))||{x:1,y:1}:{x:1,y:1},F=Oa(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:P,strategy:f}):A);return{top:(O.top-F.top+x.top)/R.y,bottom:(F.bottom-O.bottom+x.bottom)/R.y,left:(O.left-F.left+x.left)/R.x,right:(F.right-O.right+x.right)/R.x}}const a3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:u,elements:l,middlewareData:f}=t,{element:d,padding:p=0}=Gr(e,t)||{};if(d==null)return{};const v=Fm(p),y={x:n,y:r},C=Nm(o),x=Im(C),E=await u.getDimensions(d),b=C==="y",O=b?"top":"left",A=b?"bottom":"right",P=b?"clientHeight":"clientWidth",R=a.reference[x]+a.reference[C]-y[C]-a.floating[x],F=y[C]-a.reference[C],L=await(u.getOffsetParent==null?void 0:u.getOffsetParent(d));let I=L?L[P]:0;(!I||!await(u.isElement==null?void 0:u.isElement(L)))&&(I=l.floating[P]||a.floating[x]);const q=R/2-F/2,ue=I/2-E[x]/2-1,Y=br(v[O],ue),re=br(v[A],ue),U=Y,H=I-E[x]-re,V=I/2-E[x]/2+q,se=Rm(U,V,H),ve=!f.arrow&&Aa(o)!=null&&V!==se&&a.reference[x]/2-(V<U?Y:re)-E[x]/2<0,oe=ve?V<U?V-U:V-H:0;return{[C]:y[C]+oe,data:{[C]:se,centerOffset:V-se-oe,...ve&&{alignmentOffset:oe}},reset:ve}}}),u3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:u,initialPlacement:l,platform:f,elements:d}=t,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:E=!0,...b}=Gr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const O=wr(o),A=Cr(l),P=wr(l)===l,R=await(f.isRTL==null?void 0:f.isRTL(d.floating)),F=y||(P||!E?[Sf(l)]:e3(l)),L=x!=="none";!y&&L&&F.push(...o3(l,E,x,R));const I=[l,...F],q=await al(t,b),ue=[];let Y=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&ue.push(q[O]),v){const V=Jj(o,u,R);ue.push(q[V[0]],q[V[1]])}if(Y=[...Y,{placement:o,overflows:ue}],!ue.every(V=>V<=0)){var re,U;const V=(((re=a.flip)==null?void 0:re.index)||0)+1,se=I[V];if(se&&(!(v==="alignment"?A!==Cr(se):!1)||Y.every(K=>Cr(K.placement)===A?K.overflows[0]>0:!0)))return{data:{index:V,overflows:Y},reset:{placement:se}};let ve=(U=Y.filter(oe=>oe.overflows[0]<=0).sort((oe,K)=>oe.overflows[1]-K.overflows[1])[0])==null?void 0:U.placement;if(!ve)switch(C){case"bestFit":{var H;const oe=(H=Y.filter(K=>{if(L){const G=Cr(K.placement);return G===A||G==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(G=>G>0).reduce((G,Q)=>G+Q,0)]).sort((K,G)=>K[1]-G[1])[0])==null?void 0:H[0];oe&&(ve=oe);break}case"initialPlacement":ve=l;break}if(o!==ve)return{reset:{placement:ve}}}return{}}}};function m1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function v1(e){return Yj.some(t=>e[t]>=0)}const l3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Gr(e,t);switch(r){case"referenceHidden":{const a=await al(t,{...o,elementContext:"reference"}),u=m1(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:v1(u)}}}case"escaped":{const a=await al(t,{...o,altBoundary:!0}),u=m1(a,n.floating);return{data:{escapedOffsets:u,escaped:v1(u)}}}default:return{}}}}};function g1(e){const t=br(...e.map(a=>a.left)),n=br(...e.map(a=>a.top)),r=fn(...e.map(a=>a.right)),o=fn(...e.map(a=>a.bottom));return{x:t,y:n,width:r-t,height:o-n}}function c3(e){const t=e.slice().sort((o,a)=>o.y-a.y),n=[];let r=null;for(let o=0;o<t.length;o++){const a=t[o];!r||a.y-r.y>r.height/2?n.push([a]):n[n.length-1].push(a),r=a}return n.map(o=>Oa(g1(o)))}const f3=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:a,strategy:u}=t,{padding:l=2,x:f,y:d}=Gr(e,t),p=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(r.reference))||[]),v=c3(p),y=Oa(g1(p)),C=Fm(l);function x(){if(v.length===2&&v[0].left>v[1].right&&f!=null&&d!=null)return v.find(b=>f>b.left-C.left&&f<b.right+C.right&&d>b.top-C.top&&d<b.bottom+C.bottom)||y;if(v.length>=2){if(Cr(n)==="y"){const Y=v[0],re=v[v.length-1],U=wr(n)==="top",H=Y.top,V=re.bottom,se=U?Y.left:re.left,ve=U?Y.right:re.right,oe=ve-se,K=V-H;return{top:H,bottom:V,left:se,right:ve,width:oe,height:K,x:se,y:H}}const b=wr(n)==="left",O=fn(...v.map(Y=>Y.right)),A=br(...v.map(Y=>Y.left)),P=v.filter(Y=>b?Y.left===A:Y.right===O),R=P[0].top,F=P[P.length-1].bottom,L=A,I=O,q=I-L,ue=F-R;return{top:R,bottom:F,left:L,right:I,width:q,height:ue,x:L,y:R}}return y}const E=await a.getElementRects({reference:{getBoundingClientRect:x},floating:r.floating,strategy:u});return o.reference.x!==E.reference.x||o.reference.y!==E.reference.y||o.reference.width!==E.reference.width||o.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}},y1=new Set(["left","top"]);async function d3(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=wr(n),l=Aa(n),f=Cr(n)==="y",d=y1.has(u)?-1:1,p=a&&f?-1:1,v=Gr(t,e);let{mainAxis:y,crossAxis:C,alignmentAxis:x}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return l&&typeof x=="number"&&(C=l==="end"?x*-1:x),f?{x:C*p,y:y*d}:{x:y*d,y:C*p}}const h3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:u,middlewareData:l}=t,f=await d3(t,e);return u===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:u}}}}},p3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:l={fn:b=>{let{x:O,y:A}=b;return{x:O,y:A}}},...f}=Gr(e,t),d={x:n,y:r},p=await al(t,f),v=Cr(wr(o)),y=Pm(v);let C=d[y],x=d[v];if(a){const b=y==="y"?"top":"left",O=y==="y"?"bottom":"right",A=C+p[b],P=C-p[O];C=Rm(A,C,P)}if(u){const b=v==="y"?"top":"left",O=v==="y"?"bottom":"right",A=x+p[b],P=x-p[O];x=Rm(A,x,P)}const E=l.fn({...t,[y]:C,[v]:x});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[y]:a,[v]:u}}}}}},m3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:u}=t,{offset:l=0,mainAxis:f=!0,crossAxis:d=!0}=Gr(e,t),p={x:n,y:r},v=Cr(o),y=Pm(v);let C=p[y],x=p[v];const E=Gr(l,t),b=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(f){const P=y==="y"?"height":"width",R=a.reference[y]-a.floating[P]+b.mainAxis,F=a.reference[y]+a.reference[P]-b.mainAxis;C<R?C=R:C>F&&(C=F)}if(d){var O,A;const P=y==="y"?"width":"height",R=y1.has(wr(o)),F=a.reference[v]-a.floating[P]+(R&&((O=u.offset)==null?void 0:O[v])||0)+(R?0:b.crossAxis),L=a.reference[v]+a.reference[P]+(R?0:((A=u.offset)==null?void 0:A[v])||0)-(R?b.crossAxis:0);x<F?x=F:x>L&&(x=L)}return{[y]:C,[v]:x}}}},v3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:u,elements:l}=t,{apply:f=()=>{},...d}=Gr(e,t),p=await al(t,d),v=wr(o),y=Aa(o),C=Cr(o)==="y",{width:x,height:E}=a.floating;let b,O;v==="top"||v==="bottom"?(b=v,O=y===(await(u.isRTL==null?void 0:u.isRTL(l.floating))?"start":"end")?"left":"right"):(O=v,b=y==="end"?"top":"bottom");const A=E-p.top-p.bottom,P=x-p.left-p.right,R=br(E-p[b],A),F=br(x-p[O],P),L=!t.middlewareData.shift;let I=R,q=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(q=P),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=A),L&&!y){const Y=fn(p.left,0),re=fn(p.right,0),U=fn(p.top,0),H=fn(p.bottom,0);C?q=x-2*(Y!==0||re!==0?Y+re:fn(p.left,p.right)):I=E-2*(U!==0||H!==0?U+H:fn(p.top,p.bottom))}await f({...t,availableWidth:q,availableHeight:I});const ue=await u.getDimensions(l.floating);return x!==ue.width||E!==ue.height?{reset:{rects:!0}}:{}}}};function Af(){return typeof window<"u"}function Ta(e){return b1(e)?(e.nodeName||"").toLowerCase():"#document"}function zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yr(e){var t;return(t=(b1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function b1(e){return Af()?e instanceof Node||e instanceof zn(e).Node:!1}function Er(e){return Af()?e instanceof Element||e instanceof zn(e).Element:!1}function Xr(e){return Af()?e instanceof HTMLElement||e instanceof zn(e).HTMLElement:!1}function w1(e){return!Af()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zn(e).ShadowRoot}const g3=new Set(["inline","contents"]);function ul(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Dr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!g3.has(o)}const y3=new Set(["table","td","th"]);function b3(e){return y3.has(Ta(e))}const w3=[":popover-open",":modal"];function Of(e){return w3.some(t=>{try{return e.matches(t)}catch{return!1}})}const C3=["transform","translate","scale","rotate","perspective"],E3=["transform","translate","scale","rotate","perspective","filter"],D3=["paint","layout","strict","content"];function _m(e){const t=Mm(),n=Er(e)?Dr(e):e;return C3.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||E3.some(r=>(n.willChange||"").includes(r))||D3.some(r=>(n.contain||"").includes(r))}function x3(e){let t=li(e);for(;Xr(t)&&!ka(t);){if(_m(t))return t;if(Of(t))return null;t=li(t)}return null}function Mm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const S3=new Set(["html","body","#document"]);function ka(e){return S3.has(Ta(e))}function Dr(e){return zn(e).getComputedStyle(e)}function Tf(e){return Er(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function li(e){if(Ta(e)==="html")return e;const t=e.assignedSlot||e.parentNode||w1(e)&&e.host||Yr(e);return w1(t)?t.host:t}function C1(e){const t=li(e);return ka(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xr(t)&&ul(t)?t:C1(t)}function ll(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=C1(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),u=zn(o);if(a){const l=jm(u);return t.concat(u,u.visualViewport||[],ul(o)?o:[],l&&n?ll(l):[])}return t.concat(o,ll(o,[],n))}function jm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function E1(e){const t=Dr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Xr(e),a=o?e.offsetWidth:n,u=o?e.offsetHeight:r,l=Df(n)!==a||Df(r)!==u;return l&&(n=a,r=u),{width:n,height:r,$:l}}function Lm(e){return Er(e)?e:e.contextElement}function Ra(e){const t=Lm(e);if(!Xr(t))return qr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=E1(t);let u=(a?Df(n.width):n.width)/r,l=(a?Df(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!l||!Number.isFinite(l))&&(l=1),{x:u,y:l}}const A3=qr(0);function D1(e){const t=zn(e);return!Mm()||!t.visualViewport?A3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function O3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zn(e)?!1:t}function ms(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Lm(e);let u=qr(1);t&&(r?Er(r)&&(u=Ra(r)):u=Ra(e));const l=O3(a,n,r)?D1(a):qr(0);let f=(o.left+l.x)/u.x,d=(o.top+l.y)/u.y,p=o.width/u.x,v=o.height/u.y;if(a){const y=zn(a),C=r&&Er(r)?zn(r):r;let x=y,E=jm(x);for(;E&&r&&C!==x;){const b=Ra(E),O=E.getBoundingClientRect(),A=Dr(E),P=O.left+(E.clientLeft+parseFloat(A.paddingLeft))*b.x,R=O.top+(E.clientTop+parseFloat(A.paddingTop))*b.y;f*=b.x,d*=b.y,p*=b.x,v*=b.y,f+=P,d+=R,x=zn(E),E=jm(x)}}return Oa({width:p,height:v,x:f,y:d})}function kf(e,t){const n=Tf(e).scrollLeft;return t?t.left+n:ms(Yr(e)).left+n}function x1(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-kf(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function T3(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",u=Yr(r),l=t?Of(t.floating):!1;if(r===u||l&&a)return n;let f={scrollLeft:0,scrollTop:0},d=qr(1);const p=qr(0),v=Xr(r);if((v||!v&&!a)&&((Ta(r)!=="body"||ul(u))&&(f=Tf(r)),Xr(r))){const C=ms(r);d=Ra(r),p.x=C.x+r.clientLeft,p.y=C.y+r.clientTop}const y=u&&!v&&!a?x1(u,f):qr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-f.scrollLeft*d.x+p.x+y.x,y:n.y*d.y-f.scrollTop*d.y+p.y+y.y}}function k3(e){return Array.from(e.getClientRects())}function R3(e){const t=Yr(e),n=Tf(e),r=e.ownerDocument.body,o=fn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=fn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+kf(e);const l=-n.scrollTop;return Dr(r).direction==="rtl"&&(u+=fn(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:u,y:l}}const S1=25;function P3(e,t){const n=zn(e),r=Yr(e),o=n.visualViewport;let a=r.clientWidth,u=r.clientHeight,l=0,f=0;if(o){a=o.width,u=o.height;const p=Mm();(!p||p&&t==="fixed")&&(l=o.offsetLeft,f=o.offsetTop)}const d=kf(r);if(d<=0){const p=r.ownerDocument,v=p.body,y=getComputedStyle(v),C=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,x=Math.abs(r.clientWidth-v.clientWidth-C);x<=S1&&(a-=x)}else d<=S1&&(a+=d);return{width:a,height:u,x:l,y:f}}const I3=new Set(["absolute","fixed"]);function N3(e,t){const n=ms(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=Xr(e)?Ra(e):qr(1),u=e.clientWidth*a.x,l=e.clientHeight*a.y,f=o*a.x,d=r*a.y;return{width:u,height:l,x:f,y:d}}function A1(e,t,n){let r;if(t==="viewport")r=P3(e,n);else if(t==="document")r=R3(Yr(e));else if(Er(t))r=N3(t,n);else{const o=D1(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Oa(r)}function O1(e,t){const n=li(e);return n===t||!Er(n)||ka(n)?!1:Dr(n).position==="fixed"||O1(n,t)}function B3(e,t){const n=t.get(e);if(n)return n;let r=ll(e,[],!1).filter(l=>Er(l)&&Ta(l)!=="body"),o=null;const a=Dr(e).position==="fixed";let u=a?li(e):e;for(;Er(u)&&!ka(u);){const l=Dr(u),f=_m(u);!f&&l.position==="fixed"&&(o=null),(a?!f&&!o:!f&&l.position==="static"&&!!o&&I3.has(o.position)||ul(u)&&!f&&O1(e,u))?r=r.filter(p=>p!==u):o=l,u=li(u)}return t.set(e,r),r}function F3(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const u=[...n==="clippingAncestors"?Of(t)?[]:B3(t,this._c):[].concat(n),r],l=u[0],f=u.reduce((d,p)=>{const v=A1(t,p,o);return d.top=fn(v.top,d.top),d.right=br(v.right,d.right),d.bottom=br(v.bottom,d.bottom),d.left=fn(v.left,d.left),d},A1(t,l,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function _3(e){const{width:t,height:n}=E1(e);return{width:t,height:n}}function M3(e,t,n){const r=Xr(t),o=Yr(t),a=n==="fixed",u=ms(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const f=qr(0);function d(){f.x=kf(o)}if(r||!r&&!a)if((Ta(t)!=="body"||ul(o))&&(l=Tf(t)),r){const C=ms(t,!0,a,t);f.x=C.x+t.clientLeft,f.y=C.y+t.clientTop}else o&&d();a&&!r&&o&&d();const p=o&&!r&&!a?x1(o,l):qr(0),v=u.left+l.scrollLeft-f.x-p.x,y=u.top+l.scrollTop-f.y-p.y;return{x:v,y,width:u.width,height:u.height}}function $m(e){return Dr(e).position==="static"}function T1(e,t){if(!Xr(e)||Dr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Yr(e)===n&&(n=n.ownerDocument.body),n}function k1(e,t){const n=zn(e);if(Of(e))return n;if(!Xr(e)){let o=li(e);for(;o&&!ka(o);){if(Er(o)&&!$m(o))return o;o=li(o)}return n}let r=T1(e,t);for(;r&&b3(r)&&$m(r);)r=T1(r,t);return r&&ka(r)&&$m(r)&&!_m(r)?n:r||x3(e)||n}const j3=async function(e){const t=this.getOffsetParent||k1,n=this.getDimensions,r=await n(e.floating);return{reference:M3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function L3(e){return Dr(e).direction==="rtl"}const $3={convertOffsetParentRelativeRectToViewportRelativeRect:T3,getDocumentElement:Yr,getClippingRect:F3,getOffsetParent:k1,getElementRects:j3,getClientRects:k3,getDimensions:_3,getScale:Ra,isElement:Er,isRTL:L3};function R1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function z3(e,t){let n=null,r;const o=Yr(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function u(l,f){l===void 0&&(l=!1),f===void 0&&(f=1),a();const d=e.getBoundingClientRect(),{left:p,top:v,width:y,height:C}=d;if(l||t(),!y||!C)return;const x=xf(v),E=xf(o.clientWidth-(p+y)),b=xf(o.clientHeight-(v+C)),O=xf(p),P={rootMargin:-x+"px "+-E+"px "+-b+"px "+-O+"px",threshold:fn(0,br(1,f))||1};let R=!0;function F(L){const I=L[0].intersectionRatio;if(I!==f){if(!R)return u();I?u(!1,I):r=setTimeout(()=>{u(!1,1e-7)},1e3)}I===1&&!R1(d,e.getBoundingClientRect())&&u(),R=!1}try{n=new IntersectionObserver(F,{...P,root:o.ownerDocument})}catch{n=new IntersectionObserver(F,P)}n.observe(e)}return u(!0),a}function Rf(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,d=Lm(e),p=o||a?[...d?ll(d):[],...ll(t)]:[];p.forEach(O=>{o&&O.addEventListener("scroll",n,{passive:!0}),a&&O.addEventListener("resize",n)});const v=d&&l?z3(d,n):null;let y=-1,C=null;u&&(C=new ResizeObserver(O=>{let[A]=O;A&&A.target===d&&C&&(C.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=C)==null||P.observe(t)})),n()}),d&&!f&&C.observe(d),C.observe(t));let x,E=f?ms(e):null;f&&b();function b(){const O=ms(e);E&&!R1(E,O)&&n(),E=O,x=requestAnimationFrame(b)}return n(),()=>{var O;p.forEach(A=>{o&&A.removeEventListener("scroll",n),a&&A.removeEventListener("resize",n)}),v==null||v(),(O=C)==null||O.disconnect(),C=null,f&&cancelAnimationFrame(x)}}const U3=h3,H3=p3,W3=u3,V3=v3,K3=l3,P1=a3,q3=f3,G3=m3,Y3=(e,t,n)=>{const r=new Map,o={platform:$3,...n},a={...o.platform,_c:r};return s3(e,t,{...o,platform:a})};var X3=typeof document<"u",Z3=function(){},Pf=X3?m.useLayoutEffect:Z3;function If(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!If(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!If(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function I1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function N1(e,t){const n=I1(e);return Math.round(t*n)/n}function zm(e){const t=m.useRef(e);return Pf(()=>{t.current=e}),t}function Nf(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:u}={},transform:l=!0,whileElementsMounted:f,open:d}=e,[p,v]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,C]=m.useState(r);If(y,r)||C(r);const[x,E]=m.useState(null),[b,O]=m.useState(null),A=m.useCallback(K=>{K!==L.current&&(L.current=K,E(K))},[]),P=m.useCallback(K=>{K!==I.current&&(I.current=K,O(K))},[]),R=a||x,F=u||b,L=m.useRef(null),I=m.useRef(null),q=m.useRef(p),ue=f!=null,Y=zm(f),re=zm(o),U=zm(d),H=m.useCallback(()=>{if(!L.current||!I.current)return;const K={placement:t,strategy:n,middleware:y};re.current&&(K.platform=re.current),Y3(L.current,I.current,K).then(G=>{const Q={...G,isPositioned:U.current!==!1};V.current&&!If(q.current,Q)&&(q.current=Q,os.flushSync(()=>{v(Q)}))})},[y,t,n,re,U]);Pf(()=>{d===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,v(K=>({...K,isPositioned:!1})))},[d]);const V=m.useRef(!1);Pf(()=>(V.current=!0,()=>{V.current=!1}),[]),Pf(()=>{if(R&&(L.current=R),F&&(I.current=F),R&&F){if(Y.current)return Y.current(R,F,H);H()}},[R,F,H,Y,ue]);const se=m.useMemo(()=>({reference:L,floating:I,setReference:A,setFloating:P}),[A,P]),ve=m.useMemo(()=>({reference:R,floating:F}),[R,F]),oe=m.useMemo(()=>{const K={position:n,left:0,top:0};if(!ve.floating)return K;const G=N1(ve.floating,p.x),Q=N1(ve.floating,p.y);return l?{...K,transform:"translate("+G+"px, "+Q+"px)",...I1(ve.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:Q}},[n,l,ve.floating,p.x,p.y]);return m.useMemo(()=>({...p,update:H,refs:se,elements:ve,floatingStyles:oe}),[p,H,se,ve,oe])}const Q3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?P1({element:r.current,padding:o}).fn(n):{}:r?P1({element:r,padding:o}).fn(n):{}}}},Bf=(e,t)=>({...U3(e),options:[e,t]}),Ff=(e,t)=>({...H3(e),options:[e,t]}),_f=(e,t)=>({...G3(e),options:[e,t]}),Mf=(e,t)=>({...W3(e),options:[e,t]}),jf=(e,t)=>({...V3(e),options:[e,t]}),Lf=(e,t)=>({...K3(e),options:[e,t]}),J3=(e,t)=>({...q3(e),options:[e,t]}),Um=(e,t)=>({...Q3(e),options:[e,t]});function eL(e){return{type:"mention",id:e.id}}function tL(e){return{type:"link",url:e.url}}function nL(e){return{type:"link",url:e.url,text:e.children.map(t=>t.text).join("")}}function rL(e){return{type:"mention",id:e.id,children:[{text:""}]}}function oL(e){return e.text?{type:"custom-link",url:e.url,children:[{text:e.text}]}:{type:"auto-link",url:e.url,children:[{text:e.url}]}}function iL(e){return{version:1,content:e.map(t=>{if(t.type!=="paragraph")return null;const n=t.children.map(r=>Ku(r)?eL(r):xa(r)?tL(r):vf(r)?nL(r):Vr(r)?r:null).filter(ol);return{...t,children:n}}).filter(ol)}}const sL=[];function aL(e){return!e||!(e!=null&&e.content)?sL:e.content.map(t=>{if(t.type!=="paragraph")return null;const n=t.children.map(r=>rC(r)?rL(r):oC(r)?oL(r):k2(r)?r:null).filter(ol);return{...t,children:n}}).filter(ol)}function uL(e){switch(e){case"start":return"end";case"end":return"start";default:return"center"}}function B1(e){const[t,n="center"]=e.split("-");return[t,n]}function F1(){const[e,t]=m.useState(null),n=m.useCallback(t,[t]),[r,o]=m.useState();return $r(()=>{e&&o(window.getComputedStyle(e).zIndex)},[e]),[n,r]}function _1({type:e="bounds",position:t,alignment:n,dir:r,open:o}){const a=m.useMemo(()=>{const u={padding:Wc},l=[e==="range"?J3(u):null,Mf({...u,crossAxis:!1}),Lf(u),Ff({...u,limiter:_f()}),e==="range"?Bf(_u):null,jf({...u,apply({availableWidth:f,availableHeight:d,elements:p}){p.floating.style.setProperty("--lb-composer-floating-available-width",`${f}px`),p.floating.style.setProperty("--lb-composer-floating-available-height",`${d}px`)}})];return{strategy:"fixed",placement:n==="center"?t:`${t}-${r==="rtl"?uL(n):n}`,middleware:l,whileElementsMounted:(...f)=>Rf(...f,{animationFrame:!0})}},[n,t,r,e]);return Nf({...a,open:o})}function M1({onDragEnter:e,onDragLeave:t,onDragOver:n,onDrop:r,disabled:o}){const{isDisabled:a}=$n(),u=a||o,{createAttachments:l}=Tm(),[f,d]=m.useState(!1),p=Am(f),v=m.useCallback(E=>{e==null||e(E),!(p.current||u||E.isDefaultPrevented()||!E.dataTransfer.types.includes("Files"))&&(E.preventDefault(),E.stopPropagation(),d(!0))},[e,u]),y=m.useCallback(E=>{t==null||t(E),!(!p.current||u||E.isDefaultPrevented())&&((E.relatedTarget?E.relatedTarget===E.currentTarget||E.currentTarget.contains(E.relatedTarget):E.currentTarget!==E.target)||(E.preventDefault(),E.stopPropagation(),d(!1)))},[t,u]),C=m.useCallback(E=>{n==null||n(E),!(u||E.isDefaultPrevented())&&(E.preventDefault(),E.stopPropagation())},[n,u]),x=m.useCallback(E=>{if(r==null||r(E),!p.current||u||E.isDefaultPrevented())return;E.preventDefault(),E.stopPropagation(),d(!1);const b=GE(E.dataTransfer);l(b)},[r,u,l]);return[f,{onDragEnter:v,onDragLeave:y,onDragOver:C,onDrop:x,"data-drop":f?"":void 0,"data-disabled":u?"":void 0}]}class Hm extends Error{constructor(n,r="client"){super(n);yt(this,"origin");yt(this,"name","AttachmentTooLargeError");this.origin=r}}function lL(e,t,n){const r=new Map,o=new Map,a=mt();let u=null;function l(){u=null,a.notify()}function f(C){const x=new AbortController;o.set(C.id,x),e[rt].httpClient.uploadAttachment({roomId:t,attachment:C,signal:x.signal}).then(()=>{r.set(C.id,{...C,status:"uploaded"}),l()}).catch(E=>{E instanceof Error&&E.name!=="AbortError"&&E.name!=="TimeoutError"&&(r.set(C.id,{...C,status:"error",error:E instanceof Qs&&E.status===413?new Hm("File is too large.","server"):E}),l())})}function d(C){if(C.length===0)return;const x=C.filter(b=>!r.has(b.id)),E=[];for(const b of x)if(b.type==="localAttachment"){if(b.file.size>n.maxFileSize){r.set(b.id,{...b,status:"error",error:new Hm("File is too large.","client")});continue}r.set(b.id,{...b,status:"uploading"}),E.push(b)}else r.set(b.id,b);x.length>0&&l();for(const b of E)f(b)}function p(C){const x=o.get(C);x==null||x.abort(),r.delete(C),o.delete(C),l()}function v(){return u||(u=Array.from(r.values())),u}function y(){o.forEach(C=>C.abort()),o.clear(),r.clear(),l()}return{addAttachments:d,removeAttachment:p,getSnapshot:v,subscribe:a.subscribe,clear:y}}function j1(e){e.preventDefault()}function cL(e,t){const n=at(),r=il(e),o=il(()=>lL(n,t.roomId,t));m.useEffect(()=>{o.addAttachments(r)},[r,o]),m.useEffect(()=>()=>{o.clear()},[o]);const a=m.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot),u=m.useMemo(()=>a.some(l=>l.type==="localAttachment"&&l.status==="uploading"),[a]);return m.useEffect(()=>{if(u)return window.addEventListener("beforeunload",j1),()=>{window.removeEventListener("beforeunload",j1)}},[u]),{attachments:a,isUploadingAttachments:u,addAttachments:o.addAttachments,removeAttachment:o.removeAttachment,clearAttachments:o.clear}}const fL="top",dL="top",hL="ComposerFloatingToolbar",pL="ComposerSuggestions",mL="ComposerSuggestionsList",vL="ComposerSuggestionsListItem",gL={version:1,content:[{type:"paragraph",children:[{text:""}]}]};function yL({createAttachments:e,pasteFilesAsAttachments:t}){return gj(T2(ij(sj(tj(vj(jj(N2(ZM(eC())),{createAttachments:e,pasteFilesAsAttachments:t})))))))}function bL({Mention:e,attributes:t,children:n,element:r}){const o=CE();return w.jsxs("span",{...t,children:[r.id?w.jsx(e,{userId:r.id,isSelected:o}):null,n]})}function wL({Link:e,attributes:t,element:n,children:r}){const o=m.useMemo(()=>iC(n.url)??n.url,[n.url]);return w.jsx("span",{...t,children:w.jsx(e,{href:o,children:r})})}function CL({id:e,itemId:t,userIds:n,selectedUserId:r,setSelectedUserId:o,mentionDraft:a,setMentionDraft:u,onItemSelect:l,position:f=fL,dir:d,MentionSuggestions:p}){const v=Hr(),{onEditorChange:y}=Ef(),{isFocused:C}=$n(),{portalContainer:x}=Da(),[E,b]=F1(),O=C&&(a==null?void 0:a.range)!==void 0&&n!==void 0,{refs:{setReference:A,setFloating:P},strategy:R,isPositioned:F,placement:L,x:I,y:q,update:ue,elements:Y}=_1({position:f,dir:d,alignment:"start",open:O});return Om(y,()=>{u(S2(v))}),$r(()=>{if(!a){A(null);return}const re=JE(v,a.range);A(re??null)},[A,v,a]),$r(()=>{var H;if(!O)return;const re=(H=Y.floating)==null?void 0:H.firstChild;if(!re)return;re.style.overflowY="visible",re.style.maxHeight="none",ue();const U=requestAnimationFrame(()=>{re.style.overflowY="auto",re.style.maxHeight="var(--lb-composer-floating-available-height)"});return()=>{cancelAnimationFrame(U)}},[n==null?void 0:n.length,O,Y.floating,ue]),w.jsx(r1,{children:O?w.jsx(l1.Provider,{value:{id:e,itemId:t,selectedValue:r,setSelectedValue:o,onItemSelect:l,placement:L,dir:d,ref:E},children:w.jsx(o1,{ref:P,container:x,style:{position:R,top:0,left:0,transform:F?`translate3d(${Math.round(I)}px, ${Math.round(q)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:b},children:w.jsx(p,{userIds:n,selectedUserId:r})})}):null})}function EL({id:e,position:t=dL,dir:n,FloatingToolbar:r,hasFloatingToolbarRange:o,setHasFloatingToolbarRange:a}){const u=Hr(),{onEditorChange:l}=Ef(),{isFocused:f}=$n(),{portalContainer:d}=Da(),[p,v]=F1(),[y,C]=m.useState(!1),x=f&&!y&&o,{refs:{setReference:E,setFloating:b},strategy:O,isPositioned:A,placement:P,x:R,y:F}=_1({type:"range",position:t,dir:n,alignment:"center",open:x});return $r(()=>{if(!f)return;const L=()=>C(!0),I=()=>C(!1);return document.addEventListener("pointerdown",L),document.addEventListener("pointerup",I),()=>{document.removeEventListener("pointerdown",L),document.removeEventListener("pointerup",I)}},[f]),Om(l,()=>{E(null),requestAnimationFrame(()=>{const L=window.getSelection();if(!u.selection||ne.isCollapsed(u.selection)||!L||!L.rangeCount)a(!1),E(null);else{a(!0);const I=L.getRangeAt(0);E(I)}})}),w.jsx(r1,{children:x?w.jsx(c1.Provider,{value:{id:e,placement:P,dir:n,ref:p},children:w.jsx(o1,{ref:b,container:d,style:{position:O,top:0,left:0,transform:A?`translate3d(${Math.round(R)}px, ${Math.round(F)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:v},children:w.jsx(r,{})})}):null})}const DL=m.forwardRef(({children:e,onPointerDown:t,style:n,asChild:r,...o},a)=>{const[u]=Sm(),l=m.useRef(null),{id:f,ref:d,placement:p,dir:v}=Gj(hL),y=sl(a,d,l),[C,x]=m.useMemo(()=>B1(p),[p]),E=r?Zt:"div";n1(l);const b=m.useCallback(O=>{t==null||t(O),O.preventDefault(),O.stopPropagation()},[t]);return w.jsx(E,{dir:v,role:"toolbar",id:f,"aria-label":"Floating toolbar",...o,onPointerDown:b,"data-state":u?"open":"closed","data-side":C,"data-align":x,style:{display:"flex",flexDirection:"row",maxWidth:"var(--lb-composer-floating-available-width)",overflowX:"auto",...n},ref:y,children:e})});function xL({Mention:e,Link:t,...n}){const{attributes:r,children:o,element:a}=n;switch(a.type){case"mention":return w.jsx(bL,{Mention:e,...n});case"auto-link":case"custom-link":return w.jsx(wL,{Link:t,...n});case"paragraph":return w.jsx("p",{...r,style:{position:"relative"},children:o});default:return null}}function SL({attributes:e,children:t,leaf:n}){return n.bold&&(t=w.jsx("strong",{children:t})),n.italic&&(t=w.jsx("em",{children:t})),n.strikethrough&&(t=w.jsx("s",{children:t})),n.code&&(t=w.jsx("code",{children:t})),w.jsx("span",{...e,children:t})}function AL({attributes:e,children:t}){const{opacity:n,...r}=e.style;return w.jsx("span",{...e,style:r,"data-placeholder":"",children:t})}const L1=m.forwardRef(({children:e,asChild:t,...n},r)=>{const o=t?Zt:"span",a=CE();return w.jsx(o,{"data-selected":a||void 0,...n,ref:r,children:e})}),$1=m.forwardRef(({children:e,asChild:t,...n},r)=>{const o=t?Zt:"a";return w.jsx(o,{target:"_blank",rel:"noopener noreferrer nofollow",...n,ref:r,children:e})}),z1=m.forwardRef(({children:e,style:t,asChild:n,...r},o)=>{const[a]=Sm(),u=m.useRef(null),{ref:l,placement:f,dir:d}=km(pL),p=sl(o,l,u),[v,y]=m.useMemo(()=>B1(f),[f]),C=n?Zt:"div";return n1(u),w.jsx(C,{dir:d,...r,"data-state":a?"open":"closed","data-side":v,"data-align":y,style:{display:"flex",flexDirection:"column",maxHeight:"var(--lb-composer-floating-available-height)",overflowY:"auto",...t},ref:p,children:e})}),U1=m.forwardRef(({children:e,asChild:t,...n},r)=>{const{id:o}=km(mL),a=t?Zt:"ul";return w.jsx(a,{role:"listbox",id:o,"aria-label":"Suggestions list",...n,ref:r,children:e})}),H1=m.forwardRef(({value:e,children:t,onPointerMove:n,onPointerDown:r,onClick:o,asChild:a,...u},l)=>{const f=m.useRef(null),d=sl(l,f),{selectedValue:p,setSelectedValue:v,itemId:y,onItemSelect:C}=km(vL),x=a?Zt:"li",E=m.useMemo(()=>p===e,[p,e]),b=m.useMemo(()=>y(e),[y,e]);m.useEffect(()=>{f!=null&&f.current&&E&&f.current.scrollIntoView({block:"nearest"})},[E]);const O=m.useCallback(R=>{n==null||n(R),R.isDefaultPrevented()||v(e)},[n,v,e]),A=m.useCallback(R=>{r==null||r(R),R.preventDefault(),R.stopPropagation()},[r]),P=m.useCallback(R=>{o==null||o(R);const F=R.isDefaultPrevented();R.preventDefault(),R.stopPropagation(),F||C(e)},[o,C,e]);return w.jsx(x,{role:"option",id:b,"data-selected":E||void 0,"aria-selected":E||void 0,onPointerMove:O,onPointerDown:A,onClick:P,...u,ref:d,children:t})}),OL={Link:({href:e,children:t})=>w.jsx($1,{href:e,children:t}),Mention:({userId:e})=>w.jsxs(L1,{children:[ri,e]}),MentionSuggestions:({userIds:e})=>e.length>0?w.jsx(z1,{children:w.jsx(U1,{children:e.map(t=>w.jsx(H1,{value:t,children:t},t))})}):null},TL=m.forwardRef(({defaultValue:e,onKeyDown:t,onFocus:n,onBlur:r,disabled:o,autoFocus:a,components:u,dir:l,...f},d)=>{const p=ap(),{editor:v,validate:y,setFocused:C,onEditorChange:x,roomId:E}=Ef(),{submit:b,focus:O,blur:A,select:P,canSubmit:R,isDisabled:F,isFocused:L}=$n(),I=F||o,q=il(e??gL),ue=m.useMemo(()=>aL(q),[q]),{Link:Y,Mention:re,MentionSuggestions:U,FloatingToolbar:H}=m.useMemo(()=>({...OL,...u}),[u]),[V,se]=m.useState(!1),ve=lp(),oe=p?ve:!0,[K,G]=m.useState(),Q=kN(E,K==null?void 0:K.text),[M,J,te,fe]=Vj(0,(Q==null?void 0:Q.length)??0),X=m.useId(),j=`liveblocks-floating-toolbar-${X}`,Z=`liveblocks-suggestions-list-${X}`,ae=m.useCallback(De=>De?`liveblocks-suggestions-list-item-${X}-${De}`:void 0,[X]),ce=m.useCallback(De=>w.jsx(xL,{Mention:re,Link:Y,...De}),[Y,re]),Pe=m.useCallback(De=>{y(De),x.notify()},[y,x]),Oe=m.useCallback(De=>{!K||!De||(de.select(v,K.range),A2(v,De),G(void 0),fe(0))},[v,K,fe]),Ie=m.useCallback(De=>{if(t==null||t(De),!De.isDefaultPrevented())if(Cn(De,"ArrowLeft")&&ME(v,"start"),Cn(De,"ArrowRight")&&ME(v,"end"),K&&(Q!=null&&Q.length)){if(Cn(De,"ArrowDown")&&(De.preventDefault(),te()),Cn(De,"ArrowUp")&&(De.preventDefault(),J()),Cn(De,"Enter")||Cn(De,"Tab")){De.preventDefault();const Ge=Q==null?void 0:Q[M];Oe(Ge)}Cn(De,"Escape")&&(De.preventDefault(),G(void 0),fe(0))}else V&&Cn(De,"Escape")&&(De.preventDefault(),se(!1)),Cn(De,"Escape")&&A(),Cn(De,"Enter",{shift:!1})&&(De.preventDefault(),R&&b()),Cn(De,"Enter",{shift:!0})&&(De.preventDefault(),v.insertBreak()),Cn(De,"b",{mod:!0})&&(De.preventDefault(),el(v,"bold")),Cn(De,"i",{mod:!0})&&(De.preventDefault(),el(v,"italic")),Cn(De,"s",{mod:!0,shift:!0})&&(De.preventDefault(),el(v,"strikethrough")),Cn(De,"e",{mod:!0})&&(De.preventDefault(),el(v,"code"))},[t,K,Q,V,v,te,J,M,Oe,fe,A,R,b]),Be=m.useCallback(De=>{n==null||n(De),De.isDefaultPrevented()||C(!0)},[n,C]),N=m.useCallback(De=>{r==null||r(De),De.isDefaultPrevented()||C(!1)},[r,C]),me=m.useMemo(()=>Q==null?void 0:Q[M],[M,Q]),Se=m.useCallback(De=>{const Ge=Q==null?void 0:Q.indexOf(De);Ge!==void 0&&Ge>=0&&fe(Ge)},[fe,Q]),ke=m.useMemo(()=>K?{role:"combobox","aria-autocomplete":"list","aria-expanded":!0,"aria-controls":Z,"aria-activedescendant":ae(me)}:V?{"aria-haspopup":!0,"aria-controls":j}:{},[K,Z,ae,me,V,j]);return m.useImperativeHandle(d,()=>pe.toDOMNode(v,v),[v]),$r(()=>{a&&O()},[a,v,O]),$r(()=>{L&&v.selection===null&&P()},[v,P,L]),w.jsxs(YM,{editor:v,initialValue:ue,onChange:Pe,children:[w.jsx($M,{dir:l,enterKeyHint:K?"enter":"send",autoCapitalize:"sentences","aria-label":"Composer editor","data-focused":L||void 0,"data-disabled":I||void 0,...ke,...f,readOnly:I,disabled:I,onKeyDown:Ie,onFocus:Be,onBlur:N,renderElement:ce,renderLeaf:SL,renderPlaceholder:AL}),oe&&w.jsx(CL,{dir:l,mentionDraft:K,setMentionDraft:G,selectedUserId:me,setSelectedUserId:Se,userIds:Q,id:Z,itemId:ae,onItemSelect:Oe,MentionSuggestions:U}),H&&w.jsx(EL,{dir:l,id:j,hasFloatingToolbarRange:V,setHasFloatingToolbarRange:se,FloatingToolbar:H})]})}),kL=10,RL=1024*1024*1024;function PL(e){return{type:"localAttachment",status:"idle",id:ty(),name:e.name,size:e.size,mimeType:e.type,file:e}}const IL=m.forwardRef(({children:e,onSubmit:t,onComposerSubmit:n,defaultAttachments:r=[],pasteFilesAsAttachments:o,preventUnsavedChanges:a=!0,disabled:u,asChild:l,roomId:f,...d},p)=>{const v=l?Zt:"form",[y,C]=m.useState(!0),[x,E]=m.useState(!1),[b,O]=m.useState(!1),A=qb({allowOutsideRoom:!0}),P=f!==void 0?f:A==null?void 0:A.id;if(P===void 0)throw new Error("Composer.Form must be a descendant of RoomProvider.");const R=kL,F=RL,{attachments:L,isUploadingAttachments:I,addAttachments:q,removeAttachment:ue,clearAttachments:Y}=cL(r,{maxFileSize:F,roomId:P}),re=L.length,U=re>=R,H=m.useMemo(()=>x||u===!0,[x,u]),V=m.useMemo(()=>!y&&!I,[y,I]),[se,ve]=m.useState(BE),oe=m.useRef(null),K=sl(p,oe),G=m.useRef(null),Q=RN(),M=a?!y||I||L.length>0:!1;m.useEffect(()=>{Q==null||Q.setSyncStatus(M?"has-local-changes":"synchronized")},[Q,M]);const J=m.useCallback(ze=>{if(!ze.length)return;const it=Math.max(0,R-re);ze.splice(it);const $t=ze.map(lt=>PL(lt));q($t)},[q,R,re]),te=m.useRef(J);m.useEffect(()=>{te.current=J},[J]);const fe=m.useCallback(ze=>{te.current(ze)},[]),X=il(()=>yL({createAttachments:fe,pasteFilesAsAttachments:o})),j=il(mt),Z=m.useCallback(ze=>{C(Cm(X,ze))},[X]),ae=m.useCallback(()=>{V&&requestAnimationFrame(()=>{oe.current&&Uj(oe.current)})},[V]),ce=m.useCallback(()=>{de.delete(X,{at:{anchor:S.start(X,[]),focus:S.end(X,[])}})},[X]),Pe=m.useCallback(()=>{de.select(X,S.end(X,[]))},[X]),Oe=m.useCallback((ze=!0)=>{try{pe.isFocused(X)||(de.select(X,ze||!X.selection?S.end(X,[]):X.selection),pe.focus(X))}catch{}},[X]),Ie=m.useCallback(()=>{try{pe.blur(X)}catch{}},[X]),Be=m.useCallback(()=>{u||(Oe(),O2(X))},[u,X,Oe]),N=m.useCallback(ze=>{u||(Oe(!1),qw(X,ze))},[u,X,Oe]),me=m.useCallback(()=>{u||G.current&&G.current.click()},[u]),Se=m.useCallback(ze=>{u||ze.target.files&&(J(Array.from(ze.target.files)),ze.target.value="")},[J,u]),ke=m.useCallback(()=>{ce(),Ie(),Y(),E(!1)},[Ie,ce,Y]),De=m.useCallback(ze=>{if(u)return;if(Cm(X,X.children)){ze.preventDefault();return}if(t==null||t(ze),!n||ze.isDefaultPrevented()){ze.preventDefault();return}const $t=iL(X.children),lt=L.filter(Xe=>Xe.type==="attachment"||Xe.type==="localAttachment"&&Xe.status==="uploaded").map(Xe=>({id:Xe.id,type:"attachment",mimeType:Xe.mimeType,size:Xe.size,name:Xe.name})),et=n({body:$t,attachments:lt},ze);ze.preventDefault(),et?(E(!0),et.then(ke)):ke()},[u,X,L,n,t,ke]),Ge=m.useCallback(ze=>{ze.stopPropagation()},[]),bt=m.useCallback(ze=>{el(X,ze)},[X]);return Om(j,()=>{ve(BE(X))}),w.jsx(a1.Provider,{value:{editor:X,validate:Z,setFocused:O,onEditorChange:j,roomId:P},children:w.jsx(u1.Provider,{value:{createAttachments:J,isUploadingAttachments:I,hasMaxAttachments:U,maxAttachments:R,maxAttachmentSize:F},children:w.jsx(s1.Provider,{value:{isDisabled:H,isFocused:b,isEmpty:y,canSubmit:V,submit:ae,clear:ce,select:Pe,focus:Oe,blur:Ie,createMention:Be,insertText:N,attachments:L,attachFiles:me,removeAttachment:ue,toggleMark:bt,marks:se},children:w.jsxs(v,{...d,onSubmit:De,ref:K,children:[w.jsx("input",{type:"file",multiple:!0,ref:G,onChange:Se,onClick:Ge,tabIndex:-1,style:{display:"none"}}),w.jsx(FN,{children:e})]})})})})}),W1=m.forwardRef(({children:e,disabled:t,asChild:n,...r},o)=>{const a=n?Zt:"button",{canSubmit:u,isDisabled:l}=$n(),f=l||t||!u;return w.jsx(a,{type:"submit",...r,ref:o,disabled:f,children:e})}),NL=m.forwardRef(({children:e,onClick:t,disabled:n,asChild:r,...o},a)=>{const u=r?Zt:"button",{hasMaxAttachments:l}=Tm(),{isDisabled:f,attachFiles:d}=$n(),p=f||l||n,v=m.useCallback(y=>{t==null||t(y),y.isDefaultPrevented()||d()},[d,t]);return w.jsx(u,{type:"button",...o,onClick:v,ref:a,disabled:p,children:e})});m.forwardRef(({onDragEnter:e,onDragLeave:t,onDragOver:n,onDrop:r,disabled:o,asChild:a,...u},l)=>{const f=a?Zt:"div",{isDisabled:d}=$n(),p=d||o,[,v]=M1({onDragEnter:e,onDragLeave:t,onDragOver:n,onDrop:r,disabled:p});return w.jsx(f,{...v,"data-disabled":p?"":void 0,...u,ref:l})});const BL=m.forwardRef(({children:e,mark:t,onValueChange:n,onClick:r,onPointerDown:o,asChild:a,...u},l)=>{const f=a?Zt:"button",{marks:d,toggleMark:p}=$n(),v=m.useCallback(C=>{o==null||o(C),C.preventDefault(),C.stopPropagation()},[o]),y=m.useCallback(C=>{r==null||r(C),C.isDefaultPrevented()||(C.preventDefault(),C.stopPropagation(),p(t),n==null||n(t))},[t,r,n,p]);return w.jsx(vp,{asChild:!0,pressed:d[t],onClick:y,onPointerDown:v,...u,children:w.jsx(f,{...u,ref:l,children:e})})});function Wm(e){return e.charAt(0).toUpperCase()+e.slice(1)}function $f(e){const t=new Map;return(...n)=>{const r=JSON.stringify(n.map(u=>ea(u))),o=t.get(r);if(o!==void 0)return o;const a=e(...n);return t.set(r,a),a}}const V1=$f((...e)=>new Intl.DateTimeFormat(...e)),K1=$f((...e)=>new Intl.RelativeTimeFormat(...e)),FL=$f((...e)=>new Intl.ListFormat(...e)),_L=$f((...e)=>new Intl.NumberFormat(...e));function ML(e,t){const n=m.useRef(e);m.useEffect(()=>{n.current=e},[e]),m.useEffect(()=>{if(!t&&t!==0)return;const r=setInterval(()=>{n.current()===!1&&clearInterval(r)},t);return()=>clearInterval(r)},[t])}function jL(){const[e,t]=m.useReducer(n=>n+1,0);return[t,e]}const LL=4320*60*1e3,$L=30*1e3,q1={seconds:60,minutes:60,hours:24,days:7,weeks:4.34524,months:12};function zL(e,t){const n=V1(t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});return Wm(n.format(e))}function UL(e,t){const n=V1(t,{month:"short",day:"numeric"});return Wm(n.format(e))}const HL=["br","fr","nb","nn","no","ro","sv"];function WL(e,t){let n;t?n=t:n=K1().resolvedOptions().locale;const r=HL.some(u=>n===u||n.startsWith(`${u}-`)),o=K1(n,{style:r?"short":"narrow",numeric:"auto"});let a=(e.getTime()-Date.now())/1e3;if(a>-60&&a<q1.seconds)return o.format(0,"seconds");for(const[u,l]of Object.entries(q1)){if(Math.abs(a)<l)return o.format(Math.round(a),u);a/=l}return Wm(o.format(Math.round(a),"years"))}function VL(e,t){return e.getTime()>Date.now()-LL?WL(e,t):UL(e,t)}const KL=m.forwardRef(({date:e,locale:t,children:n=VL,title:r=zL,dateTime:o,interval:a=$L,asChild:u,...l},f)=>{const d=u?Zt:"time",[p,v]=jL(),y=m.useMemo(()=>new Date(e),[e]),C=m.useMemo(()=>y.toISOString(),[y]),x=m.useMemo(()=>typeof r=="function"?r(y,t):r,[r,y,v]),E=m.useMemo(()=>typeof n=="function"?n(y,t):n,[n,y,v]);return ML(p,a),w.jsx(d,{...l,ref:f,dateTime:o??C,title:x,children:E})});function cl(){const e=at();return ns(e[rt].currentUserId)??null}function qL(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}let Pa;const Vm=new WeakMap;function GL(e,t){Pa||(Pa=new IntersectionObserver(n=>{for(const r of n){const o=Vm.get(r.target);o==null||o(r)}})),Vm.set(e,t),Pa.observe(e)}function G1(e){Vm.delete(e),Pa==null||Pa.unobserve(e)}function YL(e,t,n){const r=(n==null?void 0:n.enabled)??!0,o=Am(t);m.useEffect(()=>{const a=e.current;if(a)return r?GL(a,u=>{u.isIntersecting&&o.current()}):G1(a),()=>{G1(a)}},[r])}function XL(e){return window.addEventListener("blur",e),window.addEventListener("focus",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("focus",e)}}function ZL(){return document.hasFocus()}function QL(){return!0}function JL(){return m.useSyncExternalStore(XL,ZL,QL)}function Y1(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"m14.077 11.737-3.723 3.62c-1.55 1.507-4.128 1.507-5.678 0-1.543-1.5-1.543-4.02 0-5.52l5.731-5.573c1.034-1.006 2.754-1.007 3.789-.003 1.03 1 1.032 2.682.003 3.684l-5.744 5.572a1.377 1.377 0 0 1-1.893 0 1.283 1.283 0 0 1-.392-.92c0-.345.14-.676.392-.92L10.348 8"})})}function e5(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M5.5 10h6.63m0 5.75H5.5V4.25h5.63M11.125 10a2.875 2.875 0 0 0 0-5.75m1 11.5a2.875 2.875 0 0 0 0-5.75"})})}function t5(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"m7.5 6-4 4 4 4m5-8 4 4-4 4"})})}function n5(e){return w.jsxs(Ft,{...e,children:[w.jsx("path",{d:"M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14Z"}),w.jsx("path",{d:"M7.5 11.5S8.25 13 10 13s2.5-1.5 2.5-1.5M8 8h.007"}),w.jsx("path",{d:"M12 8h.007"}),w.jsx("circle",{cx:8,cy:8,r:.25}),w.jsx("circle",{cx:12,cy:8,r:.25})]})}function r5(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M15 4.25H8m4 11.5H5m6.75-11.5-3.5 11.5"})})}function o5(e){return w.jsxs(Ft,{...e,children:[w.jsx("path",{d:"M10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),w.jsx("path",{d:"M13 7v3.7c0 1.105.855 2.1 1.9 2.1a2.12 2.12 0 0 0 2.1-2.1V10a7 7 0 1 0-2.8 5.6"})]})}function i5(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"m5 16 12-6L5 4l2 6-2 6ZM7 10h10"})})}function s5(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M15.5 10h-11m4.669 0C7.599 9.44 6.5 8.484 6.5 7.125 6.5 5.537 7.79 4.25 10 4.25c1.654 0 2.793.721 3.261 1.75M6.74 14c.468 1.029 1.607 1.75 3.261 1.75 2 0 3.5-1 3.5-2.5 0-.085-.004-.169-.013-.25"})})}function a5(e,t,n){const[r,o]=m.useState(n),a=e!==void 0,u=m.useRef(a);m.useEffect(()=>{u.current=a},[a]);const l=a?e:r,f=m.useCallback(d=>(a||o(d),t==null?void 0:t(d)),[a,t]);return[l,f]}function fl(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M3 10a7 7 0 0 1 7-7",className:"lb-icon-spinner"})})}function X1(e){return w.jsxs(Ft,{...e,children:[w.jsx("path",{d:"m3.794 13.526 5.326-9.89a1 1 0 0 1 1.76 0l5.326 9.89a1 1 0 0 1-.88 1.474H4.674a1 1 0 0 1-.88-1.474ZM10 7.5v2m0 2.5h.007"}),w.jsx("circle",{cx:10,cy:12,r:.25})]})}const Z1=1e3,Km=["B","KB","MB","GB"];function Q1(e,t){if(e===0)return`0 ${Km[1]}`;let n;e===0?n=1:n=Math.max(1,Math.min(Math.floor(Math.log(Math.abs(e))/Math.log(Z1)),Km.length-1));let r=e/Z1**n,o=1;n===1&&(r>=10&&(o=0),r<.1&&r>0&&(o=2),r<.01&&(r=.01));const a=Km[n];return`${_L(t,{minimumFractionDigits:0,maximumFractionDigits:o}).format(r)} ${a}`}function Do(e,t=[]){let n=[];function r(a,u){const l=m.createContext(u),f=n.length;n=[...n,u];const d=v=>{var O;const{scope:y,children:C,...x}=v,E=((O=y==null?void 0:y[e])==null?void 0:O[f])||l,b=m.useMemo(()=>x,Object.values(x));return w.jsx(E.Provider,{value:b,children:C})};d.displayName=a+"Provider";function p(v,y){var E;const C=((E=y==null?void 0:y[e])==null?void 0:E[f])||l,x=m.useContext(C);if(x)return x;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[d,p]}const o=()=>{const a=n.map(u=>m.createContext(u));return function(l){const f=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:f}}),[l,f])}};return o.scopeName=e,[r,u5(o,...t)]}function u5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=r.reduce((l,{useScope:f,scopeName:d})=>{const v=f(a)[`__scope${d}`];return{...l,...v}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var l5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ci=l5.reduce((e,t)=>{const n=bo(`Primitive.${t}`),r=m.forwardRef((o,a)=>{const{asChild:u,...l}=o,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(f,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function c5(e,t){e&&os.flushSync(()=>e.dispatchEvent(t))}function rn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function qm(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e);m.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var f5="DismissableLayer",Gm="dismissableLayer.update",d5="dismissableLayer.pointerDownOutside",h5="dismissableLayer.focusOutside",J1,eD=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tD=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:l,...f}=e,d=m.useContext(eD),[p,v]=m.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=m.useState({}),x=vt(t,I=>v(I)),E=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),O=E.indexOf(b),A=p?E.indexOf(p):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,R=A>=O,F=v5(I=>{const q=I.target,ue=[...d.branches].some(Y=>Y.contains(q));!R||ue||(o==null||o(I),u==null||u(I),I.defaultPrevented||l==null||l())},y),L=g5(I=>{const q=I.target;[...d.branches].some(Y=>Y.contains(q))||(a==null||a(I),u==null||u(I),I.defaultPrevented||l==null||l())},y);return qm(I=>{A===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},y),m.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(J1=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),nD(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=J1)}},[p,y,n,d]),m.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),nD())},[p,d]),m.useEffect(()=>{const I=()=>C({});return document.addEventListener(Gm,I),()=>document.removeEventListener(Gm,I)},[]),w.jsx(ci.div,{...f,ref:x,style:{pointerEvents:P?R?"auto":"none":void 0,...e.style},onFocusCapture:Ve(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,F.onPointerDownCapture)})});tD.displayName=f5;var p5="DismissableLayerBranch",m5=m.forwardRef((e,t)=>{const n=m.useContext(eD),r=m.useRef(null),o=vt(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),w.jsx(ci.div,{...e,ref:o})});m5.displayName=p5;function v5(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e),r=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let f=function(){rD(d5,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function g5(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e),r=m.useRef(!1);return m.useEffect(()=>{const o=a=>{a.target&&!r.current&&rD(h5,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function nD(){const e=new CustomEvent(Gm);document.dispatchEvent(e)}function rD(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?c5(o,a):o.dispatchEvent(a)}var y5=j0[" useId ".trim().toString()]||(()=>{}),b5=0;function dl(e){const[t,n]=m.useState(y5());return Xt(()=>{n(r=>r??String(b5++))},[e]),t?`radix-${t}`:""}var w5="Arrow",oD=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return w.jsx(ci.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});oD.displayName=w5;var C5=oD;function Ym(e){const[t,n]=m.useState(void 0);return Xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,l;if("borderBoxSize"in a){const f=a.borderBoxSize,d=Array.isArray(f)?f[0]:f;u=d.inlineSize,l=d.blockSize}else u=e.offsetWidth,l=e.offsetHeight;n({width:u,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Xm="Popper",[iD,sD]=Do(Xm),[E5,aD]=iD(Xm),uD=e=>{const{__scopePopper:t,children:n}=e,[r,o]=m.useState(null);return w.jsx(E5,{scope:t,anchor:r,onAnchorChange:o,children:n})};uD.displayName=Xm;var lD="PopperAnchor",cD=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=aD(lD,n),u=m.useRef(null),l=vt(t,u),f=m.useRef(null);return m.useEffect(()=>{const d=f.current;f.current=(r==null?void 0:r.current)||u.current,d!==f.current&&a.onAnchorChange(f.current)}),r?null:w.jsx(ci.div,{...o,ref:l})});cD.displayName=lD;var Zm="PopperContent",[D5,x5]=iD(Zm),fD=m.forwardRef((e,t)=>{var Z,ae,ce,Pe,Oe,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:l=0,avoidCollisions:f=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:C="optimized",onPlaced:x,...E}=e,b=aD(Zm,n),[O,A]=m.useState(null),P=vt(t,Be=>A(Be)),[R,F]=m.useState(null),L=Ym(R),I=(L==null?void 0:L.width)??0,q=(L==null?void 0:L.height)??0,ue=r+(a!=="center"?"-"+a:""),Y=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},re=Array.isArray(d)?d:[d],U=re.length>0,H={padding:Y,boundary:re.filter(A5),altBoundary:U},{refs:V,floatingStyles:se,placement:ve,isPositioned:oe,middlewareData:K}=Nf({strategy:"fixed",placement:ue,whileElementsMounted:(...Be)=>Rf(...Be,{animationFrame:C==="always"}),elements:{reference:b.anchor},middleware:[Bf({mainAxis:o+q,alignmentAxis:u}),f&&Ff({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?_f():void 0,...H}),f&&Mf({...H}),jf({...H,apply:({elements:Be,rects:N,availableWidth:me,availableHeight:Se})=>{const{width:ke,height:De}=N.reference,Ge=Be.floating.style;Ge.setProperty("--radix-popper-available-width",`${me}px`),Ge.setProperty("--radix-popper-available-height",`${Se}px`),Ge.setProperty("--radix-popper-anchor-width",`${ke}px`),Ge.setProperty("--radix-popper-anchor-height",`${De}px`)}}),R&&Um({element:R,padding:l}),O5({arrowWidth:I,arrowHeight:q}),y&&Lf({strategy:"referenceHidden",...H})]}),[G,Q]=pD(ve),M=rn(x);Xt(()=>{oe&&(M==null||M())},[oe,M]);const J=(Z=K.arrow)==null?void 0:Z.x,te=(ae=K.arrow)==null?void 0:ae.y,fe=((ce=K.arrow)==null?void 0:ce.centerOffset)!==0,[X,j]=m.useState();return Xt(()=>{O&&j(window.getComputedStyle(O).zIndex)},[O]),w.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:oe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(Pe=K.transformOrigin)==null?void 0:Pe.x,(Oe=K.transformOrigin)==null?void 0:Oe.y].join(" "),...((Ie=K.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:w.jsx(D5,{scope:n,placedSide:G,onArrowChange:F,arrowX:J,arrowY:te,shouldHideArrow:fe,children:w.jsx(ci.div,{"data-side":G,"data-align":Q,...E,ref:P,style:{...E.style,animation:oe?void 0:"none"}})})})});fD.displayName=Zm;var dD="PopperArrow",S5={top:"bottom",right:"left",bottom:"top",left:"right"},hD=m.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=x5(dD,r),u=S5[a.placedSide];return w.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:w.jsx(C5,{...o,ref:n,style:{...o.style,display:"block"}})})});hD.displayName=dD;function A5(e){return e!==null}var O5=e=>({name:"transformOrigin",options:e,fn(t){var b,O,A;const{placement:n,rects:r,middlewareData:o}=t,u=((b=o.arrow)==null?void 0:b.centerOffset)!==0,l=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[d,p]=pD(n),v={start:"0%",center:"50%",end:"100%"}[p],y=(((O=o.arrow)==null?void 0:O.x)??0)+l/2,C=(((A=o.arrow)==null?void 0:A.y)??0)+f/2;let x="",E="";return d==="bottom"?(x=u?v:`${y}px`,E=`${-f}px`):d==="top"?(x=u?v:`${y}px`,E=`${r.floating.height+f}px`):d==="right"?(x=`${-f}px`,E=u?v:`${C}px`):d==="left"&&(x=`${r.floating.width+f}px`,E=u?v:`${C}px`),{data:{x,y:E}}}});function pD(e){const[t,n="center"]=e.split("-");return[t,n]}var T5=uD,k5=cD,R5=fD,P5=hD,I5="Portal",mD=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,a]=m.useState(!1);Xt(()=>a(!0),[]);const u=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return u?Uc.createPortal(w.jsx(ci.div,{...r,ref:t}),u):null});mD.displayName=I5;function N5(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Qm=e=>{const{present:t,children:n}=e,r=B5(t),o=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=vt(r.ref,F5(o));return typeof n=="function"||r.isPresent?m.cloneElement(o,{ref:a}):null};Qm.displayName="Presence";function B5(e){const[t,n]=m.useState(),r=m.useRef(null),o=m.useRef(e),a=m.useRef("none"),u=e?"mounted":"unmounted",[l,f]=N5(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=zf(r.current);a.current=l==="mounted"?d:"none"},[l]),Xt(()=>{const d=r.current,p=o.current;if(p!==e){const y=a.current,C=zf(d);e?f("MOUNT"):C==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(p&&y!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),Xt(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,v=C=>{const E=zf(r.current).includes(CSS.escape(C.animationName));if(C.target===t&&E&&(f("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},y=C=>{C.target===t&&(a.current=zf(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function zf(e){return(e==null?void 0:e.animationName)||"none"}function F5(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),M5="VisuallyHidden",vD=m.forwardRef((e,t)=>w.jsx(ci.span,{...e,ref:t,style:{..._5,...e.style}}));vD.displayName=M5;var j5=vD,[Uf]=Do("Tooltip",[sD]),Hf=sD(),gD="TooltipProvider",L5=700,Jm="tooltip.open",[$5,ev]=Uf(gD),Wf=e=>{const{__scopeTooltip:t,delayDuration:n=L5,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:a}=e,u=m.useRef(!0),l=m.useRef(!1),f=m.useRef(0);return m.useEffect(()=>{const d=f.current;return()=>window.clearTimeout(d)},[]),w.jsx($5,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:o,children:a})};Wf.displayName=gD;var hl="Tooltip",[z5,pl]=Uf(hl),yD=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:a,disableHoverableContent:u,delayDuration:l}=e,f=ev(hl,e.__scopeTooltip),d=Hf(t),[p,v]=m.useState(null),y=dl(),C=m.useRef(0),x=u??f.disableHoverableContent,E=l??f.delayDuration,b=m.useRef(!1),[O,A]=Fu({prop:r,defaultProp:o??!1,onChange:I=>{I?(f.onOpen(),document.dispatchEvent(new CustomEvent(Jm))):f.onClose(),a==null||a(I)},caller:hl}),P=m.useMemo(()=>O?b.current?"delayed-open":"instant-open":"closed",[O]),R=m.useCallback(()=>{window.clearTimeout(C.current),C.current=0,b.current=!1,A(!0)},[A]),F=m.useCallback(()=>{window.clearTimeout(C.current),C.current=0,A(!1)},[A]),L=m.useCallback(()=>{window.clearTimeout(C.current),C.current=window.setTimeout(()=>{b.current=!0,A(!0),C.current=0},E)},[E,A]);return m.useEffect(()=>()=>{C.current&&(window.clearTimeout(C.current),C.current=0)},[]),w.jsx(T5,{...d,children:w.jsx(z5,{scope:t,contentId:y,open:O,stateAttribute:P,trigger:p,onTriggerChange:v,onTriggerEnter:m.useCallback(()=>{f.isOpenDelayedRef.current?L():R()},[f.isOpenDelayedRef,L,R]),onTriggerLeave:m.useCallback(()=>{x?F():(window.clearTimeout(C.current),C.current=0)},[F,x]),onOpen:R,onClose:F,disableHoverableContent:x,children:n})})};yD.displayName=hl;var tv="TooltipTrigger",bD=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=pl(tv,n),a=ev(tv,n),u=Hf(n),l=m.useRef(null),f=vt(t,l,o.onTriggerChange),d=m.useRef(!1),p=m.useRef(!1),v=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),w.jsx(k5,{asChild:!0,...u,children:w.jsx(ci.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:f,onPointerMove:Ve(e.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ve(e.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:Ve(e.onPointerDown,()=>{o.open&&o.onClose(),d.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ve(e.onFocus,()=>{d.current||o.onOpen()}),onBlur:Ve(e.onBlur,o.onClose),onClick:Ve(e.onClick,o.onClose)})})});bD.displayName=tv;var nv="TooltipPortal",[U5,H5]=Uf(nv,{forceMount:void 0}),wD=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:o}=e,a=pl(nv,t);return w.jsx(U5,{scope:t,forceMount:n,children:w.jsx(Qm,{present:n||a.open,children:w.jsx(mD,{asChild:!0,container:o,children:r})})})};wD.displayName=nv;var Ia="TooltipContent",CD=m.forwardRef((e,t)=>{const n=H5(Ia,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...a}=e,u=pl(Ia,e.__scopeTooltip);return w.jsx(Qm,{present:r||u.open,children:u.disableHoverableContent?w.jsx(ED,{side:o,...a,ref:t}):w.jsx(W5,{side:o,...a,ref:t})})}),W5=m.forwardRef((e,t)=>{const n=pl(Ia,e.__scopeTooltip),r=ev(Ia,e.__scopeTooltip),o=m.useRef(null),a=vt(t,o),[u,l]=m.useState(null),{trigger:f,onClose:d}=n,p=o.current,{onPointerInTransitChange:v}=r,y=m.useCallback(()=>{l(null),v(!1)},[v]),C=m.useCallback((x,E)=>{const b=x.currentTarget,O={x:x.clientX,y:x.clientY},A=Y5(O,b.getBoundingClientRect()),P=X5(O,A),R=Z5(E.getBoundingClientRect()),F=J5([...P,...R]);l(F),v(!0)},[v]);return m.useEffect(()=>()=>y(),[y]),m.useEffect(()=>{if(f&&p){const x=b=>C(b,p),E=b=>C(b,f);return f.addEventListener("pointerleave",x),p.addEventListener("pointerleave",E),()=>{f.removeEventListener("pointerleave",x),p.removeEventListener("pointerleave",E)}}},[f,p,C,y]),m.useEffect(()=>{if(u){const x=E=>{const b=E.target,O={x:E.clientX,y:E.clientY},A=(f==null?void 0:f.contains(b))||(p==null?void 0:p.contains(b)),P=!Q5(O,u);A?y():P&&(y(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[f,p,u,d,y]),w.jsx(ED,{...e,ref:a})}),[V5,K5]=Uf(hl,{isInside:!1}),q5=Zb("TooltipContent"),ED=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:u,...l}=e,f=pl(Ia,n),d=Hf(n),{onClose:p}=f;return m.useEffect(()=>(document.addEventListener(Jm,p),()=>document.removeEventListener(Jm,p)),[p]),m.useEffect(()=>{if(f.trigger){const v=y=>{const C=y.target;C!=null&&C.contains(f.trigger)&&p()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,p]),w.jsx(tD,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:p,children:w.jsxs(R5,{"data-state":f.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(q5,{children:r}),w.jsx(V5,{scope:n,isInside:!0,children:w.jsx(j5,{id:f.contentId,role:"tooltip",children:o||r})})]})})});CD.displayName=Ia;var DD="TooltipArrow",G5=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Hf(n);return K5(DD,n).isInside?null:w.jsx(P5,{...o,...r,ref:t})});G5.displayName=DD;function Y5(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,o,a)){case a:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function X5(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Z5(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function Q5(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const l=t[a],f=t[u],d=l.x,p=l.y,v=f.x,y=f.y;p>r!=y>r&&n<(v-d)*(r-p)/(y-p)+d&&(o=!o)}return o}function J5(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),e4(t)}function e4(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const a=n[n.length-1],u=n[n.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var t4=yD,n4=bD,r4=wD,o4=CD;const i4={title:"Alt",key:""},rv={title:"Command",key:""},ov={title:"Ctrl",key:""},s4={title:"Shift",key:""},a4={title:"Enter",key:""},xD={title:"Space",key:""},SD={title:"Escape",key:""},Vf={alt:()=>i4,mod:()=>e1()?rv:ov,control:()=>ov,ctrl:()=>ov,command:()=>rv,cmd:()=>rv,shift:()=>s4,enter:()=>a4," ":()=>xD,space:()=>xD,escape:()=>SD,esc:()=>SD};function u4(e){const t=e.split("-");return w.jsx(w.Fragment,{children:t.map((n,r)=>{const o=n.toLowerCase();return o in Vf?w.jsx(l4,{name:o},r):w.jsx("span",{children:n},r)})})}const Un=m.forwardRef(({children:e,content:t,multiline:n,className:r,...o},a)=>{const{portalContainer:u}=Da();return w.jsxs(t4,{disableHoverableContent:!0,children:[w.jsx(n4,{asChild:!0,ref:a,children:e}),w.jsx(r4,{container:u,children:w.jsx(o4,{className:dt("lb-root lb-portal lb-tooltip",n&&"lb-tooltip:multiline",r),side:"top",align:"center",sideOffset:_u,collisionPadding:Wc,...o,children:t})})]})}),iv=m.forwardRef(({children:e,content:t,shortcut:n,...r},o)=>{const a=m.useMemo(()=>n?u4(n):null,[n]);return w.jsx(Un,{content:w.jsxs(w.Fragment,{children:[t,a&&w.jsx("kbd",{className:"lb-tooltip-shortcut",children:a})]}),...r,ref:o,children:e})});function l4({name:e,...t}){const{title:n,key:r}=m.useMemo(()=>{var o;return(o=Vf[e])==null?void 0:o.call(Vf)},[e]);return w.jsx("abbr",{title:n,...t,children:r})}const AD=60*1024*1024,c4=/^(.+?)(\.[^.]+)?$/;function f4(e){const t=e.match(c4);return{base:(t==null?void 0:t[1])??e,extension:t==null?void 0:t[2]}}function d4(e){return e==="application/zip"||e==="application/gzip"||e==="application/vnd.rar"||e==="application/x-rar-compressed"||e==="application/x-7z-compressed"||e==="application/x-zip-compressed"||e==="application/x-tar"||e==="application/x-bzip"||e==="application/x-bzip2"?w.jsx("path",{d:"M13 15h2v1h-1.5a.5.5 0 0 0 0 1H15v1h-1.5a.5.5 0 0 0 0 1H15v1h-1.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 .5-.5V20h1.5a.5.5 0 0 0 0-1H15v-1h1.5a.5.5 0 0 0 0-1H15v-1h1.5a.5.5 0 0 0 .5-.5V15a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2Z"}):e.startsWith("text/")||e.startsWith("font/")||e.startsWith("application/")?w.jsx("path",{d:"M10 16a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Z"}):e.startsWith("image/")?w.jsx("path",{d:"M12 16h6a1 1 0 0 1 1 1v3l-1.293-1.293a1 1 0 0 0-1.414 0L14.09 20.91l-.464-.386a1 1 0 0 0-1.265-.013l-1.231.985A.995.995 0 0 1 11 21v-4a1 1 0 0 1 1-1Zm-2 1a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-4Zm3 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"}):e.startsWith("video/")?w.jsx("path",{d:"M12 15.71a1 1 0 0 1 1.49-.872l4.96 2.79a1 1 0 0 1 0 1.744l-4.96 2.79A1 1 0 0 1 12 21.29v-5.58Z"}):e.startsWith("audio/")?w.jsx("path",{d:"M15 15a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 1 0v-7a.5.5 0 0 0-.5-.5Zm-2.5 2.5a.5.5 0 0 1 1 0v3a.5.5 0 0 1-1 0v-3Zm-2 1a.5.5 0 0 1 1 0v1a.5.5 0 0 1-1 0v-1Zm6-1a.5.5 0 0 1 1 0v3a.5.5 0 0 1-1 0v-3ZM19 16a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5Z"}):null}const h4=m.memo(({mimeType:e})=>{const t=m.useMemo(()=>d4(e),[e]);return w.jsxs("svg",{className:"lb-attachment-icon",width:30,height:30,viewBox:"0 0 30 30",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M6 5a2 2 0 0 1 2-2h5.843a4 4 0 0 1 2.829 1.172l6.156 6.156A4 4 0 0 1 24 13.157V25a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V5Z",className:"lb-attachment-icon-shadow"}),w.jsx("path",{d:"M6 5a2 2 0 0 1 2-2h5.843a4 4 0 0 1 2.829 1.172l6.156 6.156A4 4 0 0 1 24 13.157V25a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V5Z",className:"lb-attachment-icon-background"}),w.jsx("path",{d:"M14.382 3.037a4 4 0 0 1 2.29 1.135l6.156 6.157a4 4 0 0 1 1.136 2.289A2 2 0 0 0 22 11h-4a2 2 0 0 1-2-2V5a2 2 0 0 0-1.618-1.963Z",className:"lb-attachment-icon-fold"}),t&&w.jsx("g",{className:"lb-attachment-icon-glyph",children:t})]})});function p4({attachment:e,markPreviewAsUnsupported:t,roomId:n}){const{url:r}=Bu(e.id,n),[o,a]=m.useState(!1),u=m.useCallback(()=>{a(!0)},[]);return w.jsxs(w.Fragment,{children:[o?null:w.jsx(fl,{}),r?w.jsx("div",{className:"lb-attachment-preview-media","data-hidden":o?void 0:"",children:w.jsx("img",{src:r,loading:"lazy",onLoad:u,onError:t})}):null]})}function m4({attachment:e,markPreviewAsUnsupported:t,roomId:n}){const{url:r}=Bu(e.id,n),[o,a]=m.useState(!1),u=m.useCallback(()=>{a(!0)},[]);return w.jsxs(w.Fragment,{children:[o?null:w.jsx(fl,{}),r?w.jsx("div",{className:"lb-attachment-preview-media","data-hidden":o?void 0:"",children:w.jsx("video",{src:r,onLoadedData:u,onError:t})}):null]})}function OD({attachment:e,allowMediaPreview:t=!0,roomId:n}){const[r,o]=m.useState(!1),a=e.type==="attachment"||e.status==="uploaded";function u(){o(!0)}if(!r&&t&&a&&e.size<=AD){if(e.mimeType.startsWith("image/"))return w.jsx(p4,{attachment:e,markPreviewAsUnsupported:u,roomId:n});if(e.mimeType.startsWith("video/"))return w.jsx(m4,{attachment:e,markPreviewAsUnsupported:u,roomId:n})}return w.jsx(h4,{mimeType:e.mimeType})}function TD({attachment:e}){const{base:t,extension:n}=m.useMemo(()=>f4(e.name),[e.name]);return w.jsxs("span",{className:"lb-attachment-name",title:e.name,children:[w.jsx("span",{className:"lb-attachment-name-base",children:t}),n&&w.jsx("span",{className:"lb-attachment-name-extension",children:n})]})}function kD(e){return m.useCallback(n=>{if(e==null||e(n),!n.isDefaultPrevented()&&(n.key==="Enter"||n.key===" ")){n.preventDefault();const r=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});n.target.dispatchEvent(r)}},[e])}function RD(e,t){const n=Qn(t),r=f1(),o=!!r,a=r==null?void 0:r.maxAttachmentSize,u=e.type==="localAttachment"?e.status:void 0,l=u==="uploading",f=u==="error";let d;e.type==="localAttachment"&&e.status==="error"?e.error instanceof Hm?e.error.origin==="server"?d=n.ATTACHMENT_TOO_LARGE():d=n.ATTACHMENT_TOO_LARGE(a?Q1(a,n.locale):void 0):d=n.ATTACHMENT_ERROR(e.error):d=Q1(e.size,n.locale);const p=o?n.COMPOSER_REMOVE_ATTACHMENT:n.COMMENT_DELETE_ATTACHMENT;return{isUploading:l,isError:f,description:d,deleteLabel:p}}function v4({attachment:e,overrides:t,onClick:n,onDeleteClick:r,preventFocusOnDelete:o,allowMediaPreview:a=!0,roomId:u,className:l,onKeyDown:f,...d}){const{isUploading:p,isError:v,description:y,deleteLabel:C}=RD(e,t),x=m.useCallback(b=>{o&&b.preventDefault()},[o]),E=kD(f);return w.jsxs("div",{className:dt("lb-attachment lb-media-attachment",l),"data-error":v?"":void 0,...d,role:n?"button":void 0,onClick:n,tabIndex:n?0:-1,onKeyDown:n?E:void 0,children:[w.jsx("div",{className:"lb-attachment-preview",children:p?w.jsx(fl,{}):v?w.jsx(X1,{}):w.jsx(OD,{attachment:e,allowMediaPreview:a,roomId:u})}),w.jsxs("div",{className:"lb-attachment-details",children:[w.jsx(TD,{attachment:e}),w.jsx("span",{className:"lb-attachment-description",title:y,children:y})]}),r&&w.jsx(Un,{content:C,children:w.jsx("button",{type:"button",className:"lb-attachment-delete",onClick:r,onPointerDown:x,"aria-label":C,children:w.jsx(gp,{})})})]})}function PD({attachment:e,overrides:t,onClick:n,onDeleteClick:r,preventFocusOnDelete:o,allowMediaPreview:a=!0,roomId:u,className:l,onKeyDown:f,...d}){const{isUploading:p,isError:v,description:y,deleteLabel:C}=RD(e,t),x=m.useCallback(b=>{o&&b.preventDefault()},[o]),E=kD(f);return w.jsxs("div",{className:dt("lb-attachment lb-file-attachment",l),"data-error":v?"":void 0,...d,role:n?"button":void 0,onClick:n,tabIndex:n?0:-1,onKeyDown:n?E:void 0,children:[w.jsx("div",{className:"lb-attachment-preview",children:p?w.jsx(fl,{}):v?w.jsx(X1,{}):w.jsx(OD,{attachment:e,allowMediaPreview:a,roomId:u})}),w.jsxs("div",{className:"lb-attachment-details",children:[w.jsx(TD,{attachment:e}),w.jsx("span",{className:"lb-attachment-description",title:y,children:y})]}),r&&w.jsx(Un,{content:C,children:w.jsx("button",{type:"button",className:"lb-attachment-delete",onClick:r,onPointerDown:x,"aria-label":C,children:w.jsx(gp,{})})})]})}function g4(e){const t=[],n=[];for(const r of e)(r.mimeType.startsWith("image/")||r.mimeType.startsWith("video/"))&&r.size<=AD?t.push(r):n.push(r);return{mediaAttachments:t,fileAttachments:n}}function y4({className:e,...t}){return w.jsx("a",{href:"https://liveblocks.io",target:"_blank",rel:"noopener noreferrer",className:dt("lb-composer-attribution",e),...t,children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 72","aria-label":"Made with Liveblocks",children:w.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 10h-8v50h8V10Zm16 14h-8v36h8V24Zm0-15h-8v9h8V9Zm13 15h-9l12 36h10l13-36h-9l-9 28-8-28Zm44-1c-11 0-18 8-18 19s7 19 18 19c8 0 15-4 17-13h-8c-1 4-5 6-9 6-6 0-9-3-9-10h27c0-10-6-21-18-21Zm0 7c5 0 9 3 9 8h-18c0-5 4-8 9-8Zm42-7c-4 0-8 2-11 6V10h-8v50h8v-5c3 4 7 6 11 6 11 0 16-9 16-19s-5-19-16-19Zm-2 32c-7 0-9-7-9-13s2-13 9-13 9 7 9 13-2 13-9 13Zm32-45h-8v50h8V10Zm24 51c11 0 18-8 18-19s-8-19-18-19c-11 0-19 8-19 19s7 19 19 19Zm0-6c-8 0-10-7-10-13s2-13 10-13c7 0 9 7 9 13s-2 13-9 13Zm39 6c8 0 15-4 17-12l-8-1c-2 4-4 6-9 6-7 0-9-6-9-12s2-12 9-12c5 0 8 3 8 7l9-1c-2-8-9-13-17-13-11 0-18 9-18 19 0 11 7 19 18 19Zm30-14 4-4 10 17h10l-15-23 15-13h-11l-13 13V10h-9v50h9V47Zm39 14c8 0 16-3 16-12 0-8-8-10-15-11-2-1-7-1-7-5 0-3 3-4 6-4 4 0 7 3 7 7l8-1c-1-9-8-12-15-12s-15 3-15 11 9 10 15 11c3 1 8 2 8 5 0 4-4 5-7 5-5 0-8-3-9-7l-8 1c1 8 9 12 16 12ZM41 27H0l12 12v17l29-29ZM20 60h40L48 48V32L20 60Z",fill:"currentColor"})})})}function ID(e){return e.trim().split(" ").reduce((t,n,r,o)=>((r===0||r===o.length-1)&&(t+=n.charAt(0).toLocaleUpperCase()),t),"")}function ND({userId:e,className:t,...n}){const{user:r,isLoading:o}=qy(e),a=m.useMemo(()=>r==null?void 0:r.name,[r]),u=m.useMemo(()=>r==null?void 0:r.avatar,[r]),l=m.useMemo(()=>a?ID(a):void 0,[a]),f=m.useMemo(()=>!o&&!r?ID(e):void 0,[o,r,e]);return w.jsxs("div",{className:dt("lb-avatar",t),"data-loading":o?"":void 0,...n,children:[u&&w.jsx("img",{className:"lb-avatar-image",src:u,alt:a}),l?w.jsx("span",{className:"lb-avatar-fallback","aria-hidden":!0,children:l}):f?w.jsx("span",{className:"lb-avatar-fallback","aria-label":e,title:e,children:f}):null]})}function b4(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M14.5 8.5 10 13 5.5 8.5"})})}const sv=m.forwardRef(({variant:e="default",size:t="default",disableable:n=!0,className:r,children:o,...a},u)=>w.jsx("button",{type:"button",className:dt("lb-button",!n&&"lb-button:non-disableable",r),"data-variant":e,"data-size":t,...a,ref:u,children:o})),xr=m.forwardRef(({icon:e,children:t,...n},r)=>w.jsxs(sv,{...n,ref:r,children:[e?w.jsx("span",{className:"lb-icon-container",children:e}):null,t?w.jsx("span",{className:"lb-button-label",children:t}):null]}));m.forwardRef(({icon:e,children:t,className:n,...r},o)=>w.jsxs(sv,{...r,type:"button",className:dt("lb-select-button",n),ref:o,children:[e?w.jsx("span",{className:"lb-icon-container",children:e}):null,t?w.jsx("span",{className:"lb-button-label",children:t}):null,w.jsx("span",{className:"lb-select-button-chevron",children:w.jsx(b4,{})})]}));var w4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xo=w4.reduce((e,t)=>{const n=bo(`Primitive.${t}`),r=m.forwardRef((o,a)=>{const{asChild:u,...l}=o,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(f,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function C4(e,t){e&&os.flushSync(()=>e.dispatchEvent(t))}var E4="DismissableLayer",av="dismissableLayer.update",D4="dismissableLayer.pointerDownOutside",x4="dismissableLayer.focusOutside",BD,FD=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_D=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:l,...f}=e,d=m.useContext(FD),[p,v]=m.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=m.useState({}),x=vt(t,I=>v(I)),E=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),O=E.indexOf(b),A=p?E.indexOf(p):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,R=A>=O,F=O4(I=>{const q=I.target,ue=[...d.branches].some(Y=>Y.contains(q));!R||ue||(o==null||o(I),u==null||u(I),I.defaultPrevented||l==null||l())},y),L=T4(I=>{const q=I.target;[...d.branches].some(Y=>Y.contains(q))||(a==null||a(I),u==null||u(I),I.defaultPrevented||l==null||l())},y);return qm(I=>{A===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},y),m.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(BD=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),MD(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=BD)}},[p,y,n,d]),m.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),MD())},[p,d]),m.useEffect(()=>{const I=()=>C({});return document.addEventListener(av,I),()=>document.removeEventListener(av,I)},[]),w.jsx(xo.div,{...f,ref:x,style:{pointerEvents:P?R?"auto":"none":void 0,...e.style},onFocusCapture:Ve(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,F.onPointerDownCapture)})});_D.displayName=E4;var S4="DismissableLayerBranch",A4=m.forwardRef((e,t)=>{const n=m.useContext(FD),r=m.useRef(null),o=vt(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),w.jsx(xo.div,{...e,ref:o})});A4.displayName=S4;function O4(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e),r=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let f=function(){jD(D4,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function T4(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e),r=m.useRef(!1);return m.useEffect(()=>{const o=a=>{a.target&&!r.current&&jD(x4,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function MD(){const e=new CustomEvent(av);document.dispatchEvent(e)}function jD(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?C4(o,a):o.dispatchEvent(a)}var uv=0;function LD(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$D()),document.body.insertAdjacentElement("beforeend",e[1]??$D()),uv++,()=>{uv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),uv--}},[])}function $D(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lv="focusScope.autoFocusOnMount",cv="focusScope.autoFocusOnUnmount",zD={bubbles:!1,cancelable:!0},k4="FocusScope",UD=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...u}=e,[l,f]=m.useState(null),d=rn(o),p=rn(a),v=m.useRef(null),y=vt(t,E=>f(E)),C=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let E=function(P){if(C.paused||!l)return;const R=P.target;l.contains(R)?v.current=R:fi(v.current,{select:!0})},b=function(P){if(C.paused||!l)return;const R=P.relatedTarget;R!==null&&(l.contains(R)||fi(v.current,{select:!0}))},O=function(P){if(document.activeElement===document.body)for(const F of P)F.removedNodes.length>0&&fi(l)};document.addEventListener("focusin",E),document.addEventListener("focusout",b);const A=new MutationObserver(O);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",b),A.disconnect()}}},[r,l,C.paused]),m.useEffect(()=>{if(l){VD.add(C);const E=document.activeElement;if(!l.contains(E)){const O=new CustomEvent(lv,zD);l.addEventListener(lv,d),l.dispatchEvent(O),O.defaultPrevented||(R4(F4(HD(l)),{select:!0}),document.activeElement===E&&fi(l))}return()=>{l.removeEventListener(lv,d),setTimeout(()=>{const O=new CustomEvent(cv,zD);l.addEventListener(cv,p),l.dispatchEvent(O),O.defaultPrevented||fi(E??document.body,{select:!0}),l.removeEventListener(cv,p),VD.remove(C)},0)}}},[l,d,p,C]);const x=m.useCallback(E=>{if(!n&&!r||C.paused)return;const b=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,O=document.activeElement;if(b&&O){const A=E.currentTarget,[P,R]=P4(A);P&&R?!E.shiftKey&&O===R?(E.preventDefault(),n&&fi(P,{select:!0})):E.shiftKey&&O===P&&(E.preventDefault(),n&&fi(R,{select:!0})):O===A&&E.preventDefault()}},[n,r,C.paused]);return w.jsx(xo.div,{tabIndex:-1,...u,ref:y,onKeyDown:x})});UD.displayName=k4;function R4(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fi(r,{select:t}),document.activeElement!==n)return}function P4(e){const t=HD(e),n=WD(t,e),r=WD(t.reverse(),e);return[n,r]}function HD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function WD(e,t){for(const n of e)if(!I4(n,{upTo:t}))return n}function I4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function N4(e){return e instanceof HTMLInputElement&&"select"in e}function fi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&N4(e)&&t&&e.select()}}var VD=B4();function B4(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=KD(e,t),e.unshift(t)},remove(t){var n;e=KD(e,t),(n=e[0])==null||n.resume()}}}function KD(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function F4(e){return e.filter(t=>t.tagName!=="A")}var _4="Arrow",qD=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return w.jsx(xo.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});qD.displayName=_4;var M4=qD,fv="Popper",[GD,YD]=Do(fv),[j4,XD]=GD(fv),ZD=e=>{const{__scopePopper:t,children:n}=e,[r,o]=m.useState(null);return w.jsx(j4,{scope:t,anchor:r,onAnchorChange:o,children:n})};ZD.displayName=fv;var QD="PopperAnchor",JD=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=XD(QD,n),u=m.useRef(null),l=vt(t,u),f=m.useRef(null);return m.useEffect(()=>{const d=f.current;f.current=(r==null?void 0:r.current)||u.current,d!==f.current&&a.onAnchorChange(f.current)}),r?null:w.jsx(xo.div,{...o,ref:l})});JD.displayName=QD;var dv="PopperContent",[L4,$4]=GD(dv),ex=m.forwardRef((e,t)=>{var Z,ae,ce,Pe,Oe,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:l=0,avoidCollisions:f=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:C="optimized",onPlaced:x,...E}=e,b=XD(dv,n),[O,A]=m.useState(null),P=vt(t,Be=>A(Be)),[R,F]=m.useState(null),L=Ym(R),I=(L==null?void 0:L.width)??0,q=(L==null?void 0:L.height)??0,ue=r+(a!=="center"?"-"+a:""),Y=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},re=Array.isArray(d)?d:[d],U=re.length>0,H={padding:Y,boundary:re.filter(U4),altBoundary:U},{refs:V,floatingStyles:se,placement:ve,isPositioned:oe,middlewareData:K}=Nf({strategy:"fixed",placement:ue,whileElementsMounted:(...Be)=>Rf(...Be,{animationFrame:C==="always"}),elements:{reference:b.anchor},middleware:[Bf({mainAxis:o+q,alignmentAxis:u}),f&&Ff({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?_f():void 0,...H}),f&&Mf({...H}),jf({...H,apply:({elements:Be,rects:N,availableWidth:me,availableHeight:Se})=>{const{width:ke,height:De}=N.reference,Ge=Be.floating.style;Ge.setProperty("--radix-popper-available-width",`${me}px`),Ge.setProperty("--radix-popper-available-height",`${Se}px`),Ge.setProperty("--radix-popper-anchor-width",`${ke}px`),Ge.setProperty("--radix-popper-anchor-height",`${De}px`)}}),R&&Um({element:R,padding:l}),H4({arrowWidth:I,arrowHeight:q}),y&&Lf({strategy:"referenceHidden",...H})]}),[G,Q]=rx(ve),M=rn(x);Xt(()=>{oe&&(M==null||M())},[oe,M]);const J=(Z=K.arrow)==null?void 0:Z.x,te=(ae=K.arrow)==null?void 0:ae.y,fe=((ce=K.arrow)==null?void 0:ce.centerOffset)!==0,[X,j]=m.useState();return Xt(()=>{O&&j(window.getComputedStyle(O).zIndex)},[O]),w.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:oe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(Pe=K.transformOrigin)==null?void 0:Pe.x,(Oe=K.transformOrigin)==null?void 0:Oe.y].join(" "),...((Ie=K.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:w.jsx(L4,{scope:n,placedSide:G,onArrowChange:F,arrowX:J,arrowY:te,shouldHideArrow:fe,children:w.jsx(xo.div,{"data-side":G,"data-align":Q,...E,ref:P,style:{...E.style,animation:oe?void 0:"none"}})})})});ex.displayName=dv;var tx="PopperArrow",z4={top:"bottom",right:"left",bottom:"top",left:"right"},nx=m.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=$4(tx,r),u=z4[a.placedSide];return w.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:w.jsx(M4,{...o,ref:n,style:{...o.style,display:"block"}})})});nx.displayName=tx;function U4(e){return e!==null}var H4=e=>({name:"transformOrigin",options:e,fn(t){var b,O,A;const{placement:n,rects:r,middlewareData:o}=t,u=((b=o.arrow)==null?void 0:b.centerOffset)!==0,l=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[d,p]=rx(n),v={start:"0%",center:"50%",end:"100%"}[p],y=(((O=o.arrow)==null?void 0:O.x)??0)+l/2,C=(((A=o.arrow)==null?void 0:A.y)??0)+f/2;let x="",E="";return d==="bottom"?(x=u?v:`${y}px`,E=`${-f}px`):d==="top"?(x=u?v:`${y}px`,E=`${r.floating.height+f}px`):d==="right"?(x=`${-f}px`,E=u?v:`${C}px`):d==="left"&&(x=`${r.floating.width+f}px`,E=u?v:`${C}px`),{data:{x,y:E}}}});function rx(e){const[t,n="center"]=e.split("-");return[t,n]}var W4=ZD,ox=JD,V4=ex,K4=nx,q4="Portal",ix=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,a]=m.useState(!1);Xt(()=>a(!0),[]);const u=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return u?Uc.createPortal(w.jsx(xo.div,{...r,ref:t}),u):null});ix.displayName=q4;function G4(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var hv=e=>{const{present:t,children:n}=e,r=Y4(t),o=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=vt(r.ref,X4(o));return typeof n=="function"||r.isPresent?m.cloneElement(o,{ref:a}):null};hv.displayName="Presence";function Y4(e){const[t,n]=m.useState(),r=m.useRef(null),o=m.useRef(e),a=m.useRef("none"),u=e?"mounted":"unmounted",[l,f]=G4(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Kf(r.current);a.current=l==="mounted"?d:"none"},[l]),Xt(()=>{const d=r.current,p=o.current;if(p!==e){const y=a.current,C=Kf(d);e?f("MOUNT"):C==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(p&&y!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),Xt(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,v=C=>{const E=Kf(r.current).includes(CSS.escape(C.animationName));if(C.target===t&&E&&(f("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},y=C=>{C.target===t&&(a.current=Kf(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Kf(e){return(e==null?void 0:e.animationName)||"none"}function X4(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Z4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Na=new WeakMap,qf=new WeakMap,Gf={},pv=0,sx=function(e){return e&&(e.host||sx(e.parentNode))},Q4=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=sx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},J4=function(e,t,n,r){var o=Q4(t,Array.isArray(e)?e:[e]);Gf[n]||(Gf[n]=new WeakMap);var a=Gf[n],u=[],l=new Set,f=new Set(o),d=function(v){!v||l.has(v)||(l.add(v),d(v.parentNode))};o.forEach(d);var p=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(y){if(l.has(y))p(y);else try{var C=y.getAttribute(r),x=C!==null&&C!=="false",E=(Na.get(y)||0)+1,b=(a.get(y)||0)+1;Na.set(y,E),a.set(y,b),u.push(y),E===1&&x&&qf.set(y,!0),b===1&&y.setAttribute(n,"true"),x||y.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",y,O)}})};return p(t),l.clear(),pv++,function(){u.forEach(function(v){var y=Na.get(v)-1,C=a.get(v)-1;Na.set(v,y),a.set(v,C),y||(qf.has(v)||v.removeAttribute(r),qf.delete(v)),C||v.removeAttribute(n)}),pv--,pv||(Na=new WeakMap,Na=new WeakMap,qf=new WeakMap,Gf={})}},ax=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Z4(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),J4(r,o,n,"aria-hidden")):function(){return null}},Zr=function(){return Zr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Zr.apply(this,arguments)};function ux(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function e8(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var Yf="right-scroll-bar-position",Xf="width-before-scroll-bar",t8="with-scroll-bars-hidden",n8="--removed-body-scroll-bar-size";function mv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function r8(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var o8=typeof window<"u"?m.useLayoutEffect:m.useEffect,lx=new WeakMap;function i8(e,t){var n=r8(null,function(r){return e.forEach(function(o){return mv(o,r)})});return o8(function(){var r=lx.get(n);if(r){var o=new Set(r),a=new Set(e),u=n.current;o.forEach(function(l){a.has(l)||mv(l,null)}),a.forEach(function(l){o.has(l)||mv(l,u)})}lx.set(n,e)},[e]),n}function s8(e){return e}function a8(e,t){t===void 0&&(t=s8);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var u=t(a,r);return n.push(u),function(){n=n.filter(function(l){return l!==u})}},assignSyncMedium:function(a){for(r=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var u=[];if(n.length){var l=n;n=[],l.forEach(a),u=n}var f=function(){var p=u;u=[],p.forEach(a)},d=function(){return Promise.resolve().then(f)};d(),n={push:function(p){u.push(p),d()},filter:function(p){return u=u.filter(p),n}}}};return o}function u8(e){e===void 0&&(e={});var t=a8(null);return t.options=Zr({async:!0,ssr:!1},e),t}var cx=function(e){var t=e.sideCar,n=ux(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Zr({},n))};cx.isSideCarExport=!0;function l8(e,t){return e.useMedium(t),cx}var fx=u8(),vv=function(){},Zf=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:vv,onWheelCapture:vv,onTouchMoveCapture:vv}),o=r[0],a=r[1],u=e.forwardProps,l=e.children,f=e.className,d=e.removeScrollBar,p=e.enabled,v=e.shards,y=e.sideCar,C=e.noRelative,x=e.noIsolation,E=e.inert,b=e.allowPinchZoom,O=e.as,A=O===void 0?"div":O,P=e.gapMode,R=ux(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=y,L=i8([n,t]),I=Zr(Zr({},R),o);return m.createElement(m.Fragment,null,p&&m.createElement(F,{sideCar:fx,removeScrollBar:d,shards:v,noRelative:C,noIsolation:x,inert:E,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:P}),u?m.cloneElement(m.Children.only(l),Zr(Zr({},I),{ref:L})):m.createElement(A,Zr({},I,{className:f,ref:L}),l))});Zf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Zf.classNames={fullWidth:Xf,zeroRight:Yf};var c8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function f8(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=c8();return t&&e.setAttribute("nonce",t),e}function d8(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function h8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var p8=function(){var e=0,t=null;return{add:function(n){e==0&&(t=f8())&&(d8(t,n),h8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},m8=function(){var e=p8();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},dx=function(){var e=m8(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},v8={left:0,top:0,right:0,gap:0},gv=function(e){return parseInt(e||"",10)||0},g8=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[gv(n),gv(r),gv(o)]},y8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return v8;var t=g8(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},b8=dx(),Ba="data-scroll-locked",w8=function(e,t,n,r){var o=e.left,a=e.top,u=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(t8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ba,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Xf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Yf," .").concat(Yf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xf," .").concat(Xf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ba,`] {
    `).concat(n8,": ").concat(l,`px;
  }
`)},hx=function(){var e=parseInt(document.body.getAttribute(Ba)||"0",10);return isFinite(e)?e:0},C8=function(){m.useEffect(function(){return document.body.setAttribute(Ba,(hx()+1).toString()),function(){var e=hx()-1;e<=0?document.body.removeAttribute(Ba):document.body.setAttribute(Ba,e.toString())}},[])},E8=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;C8();var a=m.useMemo(function(){return y8(o)},[o]);return m.createElement(b8,{styles:w8(a,!t,o,n?"":"!important")})},yv=!1;if(typeof window<"u")try{var Qf=Object.defineProperty({},"passive",{get:function(){return yv=!0,!0}});window.addEventListener("test",Qf,Qf),window.removeEventListener("test",Qf,Qf)}catch{yv=!1}var Fa=yv?{passive:!1}:!1,D8=function(e){return e.tagName==="TEXTAREA"},px=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!D8(e)&&n[t]==="visible")},x8=function(e){return px(e,"overflowY")},S8=function(e){return px(e,"overflowX")},mx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=vx(e,r);if(o){var a=gx(e,r),u=a[1],l=a[2];if(u>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},A8=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},O8=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vx=function(e,t){return e==="v"?x8(t):S8(t)},gx=function(e,t){return e==="v"?A8(t):O8(t)},T8=function(e,t){return e==="h"&&t==="rtl"?-1:1},k8=function(e,t,n,r,o){var a=T8(e,window.getComputedStyle(t).direction),u=a*r,l=n.target,f=t.contains(l),d=!1,p=u>0,v=0,y=0;do{if(!l)break;var C=gx(e,l),x=C[0],E=C[1],b=C[2],O=E-b-a*x;(x||O)&&vx(e,l)&&(v+=O,y+=x);var A=l.parentNode;l=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!f&&l!==document.body||f&&(t.contains(l)||t===l));return(p&&Math.abs(v)<1||!p&&Math.abs(y)<1)&&(d=!0),d},Jf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yx=function(e){return[e.deltaX,e.deltaY]},bx=function(e){return e&&"current"in e?e.current:e},R8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},P8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},I8=0,_a=[];function N8(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),o=m.useState(I8++)[0],a=m.useState(dx)[0],u=m.useRef(e);m.useEffect(function(){u.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var E=e8([e.lockRef.current],(e.shards||[]).map(bx),!0).filter(Boolean);return E.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),E.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(E,b){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!u.current.allowPinchZoom;var O=Jf(E),A=n.current,P="deltaX"in E?E.deltaX:A[0]-O[0],R="deltaY"in E?E.deltaY:A[1]-O[1],F,L=E.target,I=Math.abs(P)>Math.abs(R)?"h":"v";if("touches"in E&&I==="h"&&L.type==="range")return!1;var q=window.getSelection(),ue=q&&q.anchorNode,Y=ue?ue===L||ue.contains(L):!1;if(Y)return!1;var re=mx(I,L);if(!re)return!0;if(re?F=I:(F=I==="v"?"h":"v",re=mx(I,L)),!re)return!1;if(!r.current&&"changedTouches"in E&&(P||R)&&(r.current=F),!F)return!0;var U=r.current||F;return k8(U,b,E,U==="h"?P:R)},[]),f=m.useCallback(function(E){var b=E;if(!(!_a.length||_a[_a.length-1]!==a)){var O="deltaY"in b?yx(b):Jf(b),A=t.current.filter(function(F){return F.name===b.type&&(F.target===b.target||b.target===F.shadowParent)&&R8(F.delta,O)})[0];if(A&&A.should){b.cancelable&&b.preventDefault();return}if(!A){var P=(u.current.shards||[]).map(bx).filter(Boolean).filter(function(F){return F.contains(b.target)}),R=P.length>0?l(b,P[0]):!u.current.noIsolation;R&&b.cancelable&&b.preventDefault()}}},[]),d=m.useCallback(function(E,b,O,A){var P={name:E,delta:b,target:O,should:A,shadowParent:B8(O)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(R){return R!==P})},1)},[]),p=m.useCallback(function(E){n.current=Jf(E),r.current=void 0},[]),v=m.useCallback(function(E){d(E.type,yx(E),E.target,l(E,e.lockRef.current))},[]),y=m.useCallback(function(E){d(E.type,Jf(E),E.target,l(E,e.lockRef.current))},[]);m.useEffect(function(){return _a.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Fa),document.addEventListener("touchmove",f,Fa),document.addEventListener("touchstart",p,Fa),function(){_a=_a.filter(function(E){return E!==a}),document.removeEventListener("wheel",f,Fa),document.removeEventListener("touchmove",f,Fa),document.removeEventListener("touchstart",p,Fa)}},[]);var C=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(a,{styles:P8(o)}):null,C?m.createElement(E8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function B8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const F8=l8(fx,N8);var bv=m.forwardRef(function(e,t){return m.createElement(Zf,Zr({},e,{ref:t,sideCar:F8}))});bv.classNames=Zf.classNames;var ed="Popover",[wx]=Do(ed,[YD]),ml=YD(),[_8,di]=wx(ed),Cx=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:u=!1}=e,l=ml(t),f=m.useRef(null),[d,p]=m.useState(!1),[v,y]=Fu({prop:r,defaultProp:o??!1,onChange:a,caller:ed});return w.jsx(W4,{...l,children:w.jsx(_8,{scope:t,contentId:dl(),triggerRef:f,open:v,onOpenChange:y,onOpenToggle:m.useCallback(()=>y(C=>!C),[y]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>p(!0),[]),onCustomAnchorRemove:m.useCallback(()=>p(!1),[]),modal:u,children:n})})};Cx.displayName=ed;var Ex="PopoverAnchor",M8=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=di(Ex,n),a=ml(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:l}=o;return m.useEffect(()=>(u(),()=>l()),[u,l]),w.jsx(ox,{...a,...r,ref:t})});M8.displayName=Ex;var Dx="PopoverTrigger",td=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=di(Dx,n),a=ml(n),u=vt(t,o.triggerRef),l=w.jsx(xo.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Tx(o.open),...r,ref:u,onClick:Ve(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:w.jsx(ox,{asChild:!0,...a,children:l})});td.displayName=Dx;var wv="PopoverPortal",[j8,L8]=wx(wv,{forceMount:void 0}),xx=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,a=di(wv,t);return w.jsx(j8,{scope:t,forceMount:n,children:w.jsx(hv,{present:n||a.open,children:w.jsx(ix,{asChild:!0,container:o,children:r})})})};xx.displayName=wv;var Ma="PopoverContent",Sx=m.forwardRef((e,t)=>{const n=L8(Ma,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,a=di(Ma,e.__scopePopover);return w.jsx(hv,{present:r||a.open,children:a.modal?w.jsx(z8,{...o,ref:t}):w.jsx(U8,{...o,ref:t})})});Sx.displayName=Ma;var $8=bo("PopoverContent.RemoveScroll"),z8=m.forwardRef((e,t)=>{const n=di(Ma,e.__scopePopover),r=m.useRef(null),o=vt(t,r),a=m.useRef(!1);return m.useEffect(()=>{const u=r.current;if(u)return ax(u)},[]),w.jsx(bv,{as:$8,allowPinchZoom:!0,children:w.jsx(Ax,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(e.onCloseAutoFocus,u=>{var l;u.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ve(e.onPointerDownOutside,u=>{const l=u.detail.originalEvent,f=l.button===0&&l.ctrlKey===!0,d=l.button===2||f;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ve(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),U8=m.forwardRef((e,t)=>{const n=di(Ma,e.__scopePopover),r=m.useRef(!1),o=m.useRef(!1);return w.jsx(Ax,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,l;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var f,d;(f=e.onInteractOutside)==null||f.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Ax=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:p,...v}=e,y=di(Ma,n),C=ml(n);return LD(),w.jsx(UD,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:w.jsx(_D,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:p,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:d,onDismiss:()=>y.onOpenChange(!1),children:w.jsx(V4,{"data-state":Tx(y.open),role:"dialog",id:y.contentId,...C,...v,ref:t,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ox="PopoverClose",H8=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=di(Ox,n);return w.jsx(xo.button,{type:"button",...r,ref:t,onClick:Ve(e.onClick,()=>o.onOpenChange(!1))})});H8.displayName=Ox;var W8="PopoverArrow",V8=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ml(n);return w.jsx(K4,{...o,...r,ref:t})});V8.displayName=W8;function Tx(e){return e?"open":"closed"}var K8=Cx,q8=xx,G8=Sx,Y8=Object.defineProperty,X8=(e,t)=>{for(var n in t)Y8(e,n,{get:t[n],enumerable:!0})},So={};X8(So,{ActiveEmoji:()=>fS,Empty:()=>cS,List:()=>aS,Loading:()=>lS,Root:()=>Zx,Search:()=>Qx,SkinTone:()=>dS,SkinToneSelector:()=>uS,Viewport:()=>Jx});var kx="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",Cv=["none","light","medium-light","medium","medium-dark","dark"];function Ev(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Sr=2,dn=null;function Rx(e){try{dn??(dn=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!dn||(queueMicrotask(()=>{dn&&(dn=null)}),dn.canvas.width=Sr,dn.canvas.height=Sr,dn.font=`2px ${kx}`,dn.textBaseline="middle",dn.measureText(e).width>=Sr*2))return!1;dn.fillStyle="#00f",dn.fillText(e,0,0);let t=dn.getImageData(0,0,Sr,Sr).data;dn.clearRect(0,0,Sr,Sr),dn.fillStyle="#f00",dn.fillText(e,0,0);let n=dn.getImageData(0,0,Sr,Sr).data;for(let r=0;r<Sr*Sr*4;r+=4)if(t[r]!==n[r]||t[r+1]!==n[r+1]||t[r+2]!==n[r+2])return!1;return!0}function Px(e,t,n){try{let r=e.getItem(t);if(!r)throw new Error(`No value found for "${t}".`);let o=JSON.parse(r);return n(o)}catch{return null}}function Ix(e,t,n){e.setItem(t,JSON.stringify(n))}function Nx(e){return t=>t===void 0?void 0:e(t)}function Bx(e){return t=>t===null?null:e(t)}function on(e){if(typeof e!="string")throw new Error;return e}function nd(e){if(typeof e!="number")throw new Error;return e}function Fx(e){if(typeof e!="boolean")throw new Error;return e}function hi(e){return t=>{if(typeof t!="object"||t===null)throw new Error;let n={};for(let r in e){let o=t[r];o===void 0&&e[r](void 0),n[r]=e[r](o)}return n}}function Dv(e){return t=>{if(!Array.isArray(t))throw new Error;return t.length>0&&e(t[0]),t}}var _x=(e,t)=>`${e}/${t}/data.json`,Mx=(e,t)=>`${e}/${t}/messages.json`,Z8=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],jx="en",Lx=e=>`frimousse/data/${e}`,$x="frimousse/metadata";async function zx(e,t){try{return(await fetch(e,{method:"HEAD",signal:t})).headers.get("etag")}catch{return null}}async function Q8(e,t,n){let[{emojis:r,emojisEtag:o},{messages:a,messagesEtag:u}]=await Promise.all([fetch(_x(e,t),{signal:n}).then(async l=>({emojis:await l.json(),emojisEtag:l.headers.get("etag")})),fetch(Mx(e,t),{signal:n}).then(async l=>({messages:await l.json(),messagesEtag:l.headers.get("etag")}))]);return{emojis:r,messages:a,emojisEtag:o,messagesEtag:u}}async function J8(e,t,n){let[r,o]=await Promise.all([zx(_x(e,t),n),zx(Mx(e,t),n)]);return{emojisEtag:r,messagesEtag:o}}function e7(e){return e.skins?e.skins.filter(t=>typeof t.tone=="number").reduce((t,n)=>{let r=Cv[n.tone];return t[r]=n.emoji,t},{}):void 0}async function Ux(e,t,n){let{emojis:r,emojisEtag:o,messages:a,messagesEtag:u}=await Q8(e,t,n),l=a.subgroups.find(x=>x.key==="country-flag"||x.key==="subdivision-flag"),f=a.groups.filter(x=>x.key!=="component"),d=r.filter(x=>"group"in x),p=f.map(x=>({index:x.order,label:Ev(x.message)})),v=a.skinTones.reduce((x,E)=>(x[E.key]=Ev(E.message),x),{}),y=d.map(x=>({emoji:x.emoji,category:x.group,version:x.version,label:Ev(x.label),tags:x.tags??[],countryFlag:l&&x.subgroup===l.order||void 0,skins:e7(x)})),C={locale:t,emojis:y,categories:p,skinTones:v};return Ix(localStorage,Lx(t),{data:C,metadata:{emojisEtag:o,messagesEtag:u}}),C}function t7(e,t){let n=new Map;for(let u of e)n.has(u.version)||n.set(u.version,u.emoji);let r=[...n.keys()].sort((u,l)=>l-u),o=r[0]??0,a=Rx("");if(typeof t=="number")return{emojiVersion:t,countryFlags:a};for(let u of r){let l=n.get(u);if(Rx(l))return{emojiVersion:u,countryFlags:a}}return{emojiVersion:o,countryFlags:a}}var n7=hi({emojiVersion:nd,countryFlags:Fx}),r7=hi({data:hi({locale:on,emojis:Dv(hi({emoji:on,category:nd,label:on,version:nd,tags:Dv(on),countryFlag:Nx(Fx),skins:Nx(hi({light:on,"medium-light":on,medium:on,"medium-dark":on,dark:on}))})),categories:Dv(hi({index:nd,label:on})),skinTones:hi({light:on,"medium-light":on,medium:on,"medium-dark":on,dark:on})}),metadata:hi({emojisEtag:Bx(on),messagesEtag:Bx(on)})});async function o7({locale:e,emojiVersion:t,emojibaseUrl:n,signal:r}){let o=typeof n=="string"?n:`https://cdn.jsdelivr.net/npm/emojibase-data@${typeof t=="number"?Math.floor(t):"latest"}`,a=Px(sessionStorage,$x,n7),u=Px(localStorage,Lx(e),r7),l;if(!u)l=await Ux(o,e,r);else if(a)l=u.data;else try{let{emojisEtag:d,messagesEtag:p}=await J8(o,e,r);l=!d||!p||d!==u.metadata.emojisEtag||p!==u.metadata.messagesEtag?await Ux(o,e,r):u.data}catch{l=u.data}a??(a=t7(l.emojis,t)),Ix(sessionStorage,$x,a);let f=l.emojis.filter(d=>{let p=d.version<=a.emojiVersion;return d.countryFlag?p&&a.countryFlags:p});return{locale:e,emojis:f,categories:l.categories,skinTones:l.skinTones}}function Hx(e){return Z8.includes(e)?e:(console.warn(`Locale "${e}" is not supported, using "${jx}" instead.`),jx)}function Wx(e){return Cv.includes(e)?e:(console.warn(`Skin tone "${e}" is not valid, using "none" instead.`),"none")}function i7(e,t){let n=[];if(t<=0)return n;for(let r=0,o=e.length;r<o;r+=t)n.push(e.slice(r,r+t));return n}function s7(e,t){if(!t)return e;let n=t.toLowerCase().trim(),r=new WeakMap;return e.filter(o=>{let a=0;o.label.toLowerCase().includes(n)&&(a+=10);for(let u of o.tags)u.toLowerCase().includes(n)&&(a+=1);return a>0?(r.set(o,a),!0):!1}).sort((o,a)=>(r.get(a)??0)-(r.get(o)??0))}function a7(e,t,n,r){let o=s7(e.emojis,r),a=[],u=[],l=[],f={},d=0,p=0;for(let v of o)f[v.category]||(f[v.category]=[]),f[v.category].push({emoji:n&&n!=="none"&&v.skins?v.skins[n]:v.emoji,label:v.label});for(let v of e.categories){let y=f[v.index];if(!y||y.length===0)continue;let C=i7(Array.from(y),t).map(x=>({categoryIndex:d,emojis:x}));a.push(...C),u.push({label:v.label,rowsCount:C.length,startRowIndex:p}),l.push(p),d++,p+=C.length}return{count:o.length,categories:u,categoriesStartRowIndices:l,rows:a,skinTones:e.skinTones}}function u7(e){let t={},n=null,r=null,o=new Set,a=()=>{if(n){t=n,n=null;for(let d of o)d(t)}r=null},u=()=>n??t,l=d=>{n??(n=t),Object.assign(n,typeof d=="function"?d(u()):d),r||(r=requestAnimationFrame(a))},f=d=>(o.add(d),()=>o.delete(d));return t=e(l,u),{get:u,set:l,subscribe:f}}function l7(e){let[t]=m.useState(e);return t}function c7(e){let t=m.createContext(null);return{useStore:()=>{let n=m.useContext(t);if(!n)throw new Error(e);return n},Provider:({store:n,children:r})=>w.jsx(t.Provider,{value:n,children:r})}}function Hn(e,t,n=Object.is){let[r,o]=m.useState(()=>t(e.get()));return m.useEffect(()=>e.subscribe(()=>{let a=t(e.get());o(u=>n(u,a)?u:a)}),[e,t,n]),m.useDebugValue(r),r}function Ao(e,t,n){let r=m.useCallback(o=>o[t],[t]);return Hn(e,r,n)}var Vx=2;function f7(e,t,n,r){let o=0;return u7((a,u)=>({locale:t,columns:n,skinTone:r,onEmojiSelect:e,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:l=>{var I;let f=u(),d=(l==null?void 0:l.data)??f.data,p=(l==null?void 0:l.categoryHeaderHeight)??f.categoryHeaderHeight,v=(l==null?void 0:l.rowHeight)??f.rowHeight,y=(l==null?void 0:l.viewportHeight)??f.viewportHeight;if(!d||d.rows.length===0||!p||!v||!y)return a({...l,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let C=0,x=0;for(let q of d.categories)if(x++*p+q.startRowIndex*v<o)C+=p;else break;let E=d.categories.length*p+d.rows.length*v,b=Math.floor(Vx*v/2),O=Math.ceil(Vx*v/2),A=Math.min(o-C-b,E-y),P=A+y+O,R=Math.max(0,Math.floor(A/v)),F=Math.min(d.rows.length-1,Math.ceil(P/v)),L=(I=d.rows[R])==null?void 0:I.categoryIndex;return a(L===void 0&&l?l:{...l,viewportStartCategoryIndex:L,viewportStartRowIndex:R,viewportEndRowIndex:F})},onDataChange:l=>{u().updateViewportState({data:l,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:l=>{a({search:l,interaction:l?"keyboard":"none"})},onActiveEmojiChange:(l,f,d)=>{if(a({interaction:l,activeColumnIndex:f,activeRowIndex:d}),l!=="keyboard")return;let{listRef:p,viewportRef:v,rowHeight:y,viewportHeight:C,categoryHeaderHeight:x}=u(),E=p==null?void 0:p.current,b=v==null?void 0:v.current;if(!E||!b||!y||!x||!C)return;let O=d;O===0&&b.scrollTo({top:0,behavior:"instant"});let A=E.querySelector(`[aria-rowindex="${O}"]`);if(!(A instanceof HTMLElement))return;let P=A.offsetTop,R=getComputedStyle(A),F=Number.parseFloat(R.scrollMarginTop),L=Number.parseFloat(R.scrollMarginBottom),I=o+F;P<o+C/2&&(I+=x);let q=I+C-L;(P<I||P+y>q)&&b.scrollTo({top:Math.max(P<I+x?P-Math.max(x,F):P-C+y+L,0),behavior:"instant"})},onActiveEmojiReset:()=>{a({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:l=>{u().updateViewportState({rowHeight:l})},onCategoryHeaderHeightChange:l=>{u().updateViewportState({categoryHeaderHeight:l})},onViewportSizeChange:(l,f)=>{u().updateViewportState({viewportWidth:l,viewportHeight:f})},onViewportScroll:l=>{o=l,u().updateViewportState()}}))}var{useStore:kn,Provider:d7}=c7("EmojiPicker.Root is missing.");function h7(e){return e.search}function xv(e){var t,n;return e.interaction==="none"||(n=(t=e.data)==null?void 0:t.rows[e.activeRowIndex])==null?void 0:n.emojis[e.activeColumnIndex]}function p7(e){var t;return e.data===void 0||typeof((t=e.data)==null?void 0:t.count)=="number"&&e.data.count===0}function m7(e){return e.data===null||e.viewportHeight===null||e.rowHeight===null||e.categoryHeaderHeight===null}function Kx(e){var t;return(t=e.data)==null?void 0:t.rows.length}function v7(e){var t;return(t=e.data)==null?void 0:t.categories.length}function g7(e){var t;return(t=e.data)==null?void 0:t.categoriesStartRowIndices}function y7(e){var t;return(t=e.data)==null?void 0:t.skinTones}function qx(e,t){return(e==null?void 0:e.emoji)===(t==null?void 0:t.emoji)}function b7(e,t){return(e==null?void 0:e.categoryIndex)!==(t==null?void 0:t.categoryIndex)||(e==null?void 0:e.emojis.length)!==(t==null?void 0:t.emojis.length)?!1:!!(e!=null&&e.emojis.every((n,r)=>qx(n,t==null?void 0:t.emojis[r])))}var vl="",Gx=new RegExp("\\p{Emoji_Modifier_Base}","u"),w7=/\uFE0F$/,C7=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,E7={light:"","medium-light":"",medium:"","medium-dark":"",dark:""};function D7(e,t){if(!e.split(vl).some(r=>Gx.test(r)))return e;let n=e.split(vl).map(r=>r.replace(C7,"")).join(vl);return t==="none"?n:n.split(vl).map((r,o,a)=>{let u=a.length>1;return!Gx.test(r)||u&&r===""?r:r.replace(w7,"")+E7[t]}).join(vl)}function x7(e){return Cv.map(t=>({skinTone:t,emoji:D7(e,t)}))}function Yx(){let e=kn(),t=Hn(e,xv,qx);return m.useDeferredValue(t)}function Xx(e=""){let t=kn(),n=Ao(t,"skinTone"),r=m.useMemo(()=>x7(e),[e]),o=m.useCallback(a=>{t.set({skinTone:a})},[]);return[n,o,r]}function Sv(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Array.isArray(e)!==Array.isArray(t))return!1;let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>o in t&&e[o]===t[o])}function S7(...e){}function A7(e,t){let n=null;if(typeof window.requestIdleCallback=="function")n=window.requestIdleCallback(e,t);else{let r=Date.now();n=window.setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,(t==null?void 0:t.timeout)-(Date.now()-r))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(n):window.clearTimeout(n)}}var Qr=typeof window<"u"?m.useLayoutEffect:m.useEffect;function O7(e){let t=m.useRef(e);return Qr(()=>{t.current=e}),m.useCallback((...n)=>t.current(...n),[])}function T7({emojiVersion:e,emojibaseUrl:t}){let[n,r]=m.useState(void 0),o=kn(),a=Ao(o,"locale"),u=Ao(o,"columns"),l=Ao(o,"skinTone"),f=Ao(o,"search");return m.useEffect(()=>{let d=new AbortController,p=d.signal;return o7({locale:a,emojiVersion:e,emojibaseUrl:t,signal:p}).then(v=>{r(v)}).catch(v=>{p.aborted||console.error(v)}),()=>{d.abort()}},[e,t,a]),m.useEffect(()=>{if(n)return A7(()=>{o.get().onDataChange(a7(n,u,l,f))},{timeout:100})},[n,u,l,f]),null}var Zx=m.forwardRef(({locale:e="en",columns:t=9,skinTone:n="none",onEmojiSelect:r=S7,emojiVersion:o,emojibaseUrl:a,onFocusCapture:u,onBlurCapture:l,children:f,style:d,...p},v)=>{let y=O7(r),C=l7(()=>f7(y,Hx(e),t,Wx(n))),[x,E]=m.useState(!1),b=m.useRef(null),O=m.useCallback(R=>{R&&(b.current=R,C.set({rootRef:b}))},[]);Qr(()=>{C.set({locale:Hx(e)})},[e]),Qr(()=>{C.set({columns:t})},[t]),Qr(()=>{C.set({skinTone:Wx(n)})},[n]);let A=m.useCallback(R=>{u==null||u(R);let{searchRef:F,viewportRef:L}=C.get(),I=R.target===(F==null?void 0:F.current)||R.target.hasAttribute("frimousse-search"),q=R.target===(L==null?void 0:L.current)||R.target.hasAttribute("frimousse-viewport");R.isDefaultPrevented()||(E(I||q),R.isDefaultPrevented()||(E(I||q),q?C.get().onActiveEmojiChange("keyboard",0,0):I&&C.get().search===""&&C.set({interaction:"none"})))},[u]),P=m.useCallback(R=>{l==null||l(R),!R.isDefaultPrevented()&&!R.currentTarget.contains(R.relatedTarget)&&E(!1)},[l]);return Qr(()=>{x||C.get().onActiveEmojiReset()},[x]),m.useImperativeHandle(v,()=>b.current),m.useEffect(()=>{if(!x)return;function R(F){if(F.defaultPrevented||!F.key.startsWith("Arrow")&&F.key!=="Enter")return;let{data:L,onEmojiSelect:I,onActiveEmojiChange:q,interaction:ue,activeColumnIndex:Y,activeRowIndex:re}=C.get();if(F.key==="Enter"){let U=xv(C.get());U&&(F.preventDefault(),I(U))}if(F.key.startsWith("Arrow")){let U=Y,H=re;if(F.preventDefault(),ue!=="none"){if(L!=null&&L.rows&&L.rows.length>0)switch(F.key){case"ArrowLeft":{if(U===0){let V=H-1,se=L.rows[V];se&&(H=V,U=se.emojis.length-1)}else U-=1;break}case"ArrowRight":{if(U===L.rows[H].emojis.length-1){let V=H+1;L.rows[V]&&(H=V,U=0)}else U+=1;break}case"ArrowUp":{let V=L.rows[H-1];V&&(H-=1,V.emojis[U]||(U=V.emojis.length-1));break}case"ArrowDown":{let V=L.rows[H+1];V&&(H+=1,V.emojis[U]||(U=V.emojis.length-1));break}}q("keyboard",U,H)}else q("keyboard",0,0)}}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[x]),Qr(()=>{let R=null,F=null,L=null,I=null,q=C.subscribe(H=>{b.current&&(R!==H.viewportWidth&&(R=H.viewportWidth,b.current.style.setProperty("--frimousse-viewport-width",`${H.viewportWidth}px`)),F!==H.viewportHeight&&(F=H.viewportHeight,b.current.style.setProperty("--frimousse-viewport-height",`${H.viewportHeight}px`)),L!==H.rowHeight&&(L=H.rowHeight,b.current.style.setProperty("--frimousse-row-height",`${H.rowHeight}px`)),I!==H.categoryHeaderHeight&&(I=H.categoryHeaderHeight,b.current.style.setProperty("--frimousse-category-header-height",`${H.categoryHeaderHeight}px`)))}),{viewportWidth:ue,viewportHeight:Y,rowHeight:re,categoryHeaderHeight:U}=C.get();return ue&&b.current.style.setProperty("--frimousse-viewport-width",`${ue}px`),Y&&b.current.style.setProperty("--frimousse-viewport-height",`${Y}px`),re&&b.current.style.setProperty("--frimousse-row-height",`${re}px`),U&&b.current.style.setProperty("--frimousse-category-header-height",`${U}px`),q},[]),w.jsx("div",{"data-focused":x?"":void 0,"frimousse-root":"",onBlurCapture:P,onFocusCapture:A,...p,ref:O,style:{"--frimousse-emoji-font":kx,...d},children:w.jsxs(d7,{store:C,children:[w.jsx(T7,{emojiVersion:o,emojibaseUrl:a}),f]})})}),Qx=m.forwardRef(({value:e,defaultValue:t,onChange:n,...r},o)=>{let a=kn(),u=m.useRef(null),l=m.useCallback(v=>{v&&(u.current=v,a.set({searchRef:u}))},[]),f=typeof e=="string",d=m.useRef(f);m.useEffect(()=>{d.current=f},[f]),Qr(()=>{a.set({search:typeof e=="string"?e:typeof t=="string"?t:""})},[]),Qr(()=>{typeof e=="string"&&a.get().onSearchChange(e)},[e]);let p=m.useCallback(v=>{n==null||n(v),v.isDefaultPrevented()||a.get().onSearchChange(v.target.value)},[n]);return m.useImperativeHandle(o,()=>u.current),w.jsx("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search",spellCheck:!1,type:"search",...r,defaultValue:t,onChange:p,ref:l,value:e})}),k7=m.memo(()=>{let e=Yx();return e?w.jsx("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:e.label}):null}),Jx=m.forwardRef(({children:e,onScroll:t,onKeyDown:n,style:r,...o},a)=>{let u=kn(),l=m.useRef(null),f=m.useCallback(y=>{y&&(l.current=y,u.set({viewportRef:l}))},[]),d=Hn(u,Kx),p=Hn(u,v7),v=m.useCallback(y=>{t==null||t(y),u.get().onViewportScroll(y.currentTarget.scrollTop)},[t]);return Qr(()=>{if(!l.current)return;let y=new ResizeObserver(([C])=>{var P,R;let x=((P=C==null?void 0:C.borderBoxSize[0])==null?void 0:P.inlineSize)??0,E=((R=C==null?void 0:C.borderBoxSize[0])==null?void 0:R.blockSize)??0,{onViewportSizeChange:b,viewportHeight:O,viewportWidth:A}=u.get();(O!==E||A!==x)&&b(x,E)});return y.observe(l.current),u.get().onViewportSizeChange(l.current.offsetWidth,l.current.clientHeight),()=>{y.disconnect()}},[]),m.useImperativeHandle(a,()=>l.current),w.jsxs("div",{"frimousse-viewport":"",...o,onScroll:v,ref:f,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof d=="number"&&typeof p=="number"?`var(--frimousse-viewport-width, auto) calc(${d} * var(--frimousse-row-height) + ${p} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...r},children:[w.jsx(k7,{}),e]})});function eS(e,t,n){return{emoji:{...e,isActive:n},role:"gridcell","aria-colindex":t,"aria-selected":n||void 0,"aria-label":e.label,"data-active":n?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function tS(e,t=!1){return{role:t?void 0:"row","aria-rowindex":t?void 0:e,"frimousse-row":"",style:{contain:t?void 0:"content",height:t?void 0:"var(--frimousse-row-height)",display:"flex"}}}function nS(e,t){return{"frimousse-category":"",style:{contain:"content",top:t?`calc(${e} * var(--frimousse-category-header-height) + ${t.startRowIndex} * var(--frimousse-row-height))`:void 0,height:t?`calc(var(--frimousse-category-header-height) + ${t.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function rS(e,t=!1){return{category:e,"frimousse-category-header":"",style:{contain:t?void 0:"layout paint",height:t?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:"sticky",top:0}}}function oS(e,t,n,r){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${e} * var(--frimousse-row-height) + ${t} * var(--frimousse-category-header-height))`,paddingTop:`calc(${n} * var(--frimousse-row-height) + ${r} * var(--frimousse-category-header-height))`}}}function iS(e,t,n){return{"aria-colcount":e,"aria-rowcount":t,"frimousse-list":"",style:{"--frimousse-list-columns":e,...n},role:"grid"}}function R7(e){e.preventDefault()}var P7=m.memo(({Emoji:e,emoji:t,columnIndex:n,rowIndex:r})=>{let o=kn(),a=Hn(o,d=>{var p;return((p=xv(d))==null?void 0:p.emoji)===t.emoji}),u=m.useCallback(()=>{o.get().onEmojiSelect(t)},[t]),l=m.useCallback(()=>{o.get().onActiveEmojiChange("pointer",n,r)},[n,r]),f=m.useCallback(()=>{o.get().onActiveEmojiReset()},[]);return w.jsx(e,{...eS(t,n,a),onClick:u,onPointerDown:R7,onPointerEnter:l,onPointerLeave:f})}),I7=m.memo(({Row:e,Emoji:t,rowIndex:n})=>{let r=kn(),o=Hn(r,a=>{var u;return(u=a.data)==null?void 0:u.rows[n]},b7);return o?w.jsx(e,{...tS(n),children:o.emojis.map((a,u)=>w.jsx(P7,{Emoji:t,columnIndex:u,emoji:a,rowIndex:n},a.label))}):null}),N7=m.memo(({CategoryHeader:e,categoryIndex:t})=>{let n=kn(),r=Hn(n,o=>{var a;return(a=o.data)==null?void 0:a.categories[t]},Sv);return r?w.jsx("div",{...nS(t,r),children:w.jsx(e,{...rS({label:r.label})})}):null}),sS=m.memo(({CategoryHeader:e,Row:t,Emoji:n})=>{let r=m.useRef(null),o=kn(),a=Ao(o,"columns"),u=m.useMemo(()=>Array(a).fill({emoji:"",label:""}),[a]),l=m.useMemo(()=>({label:"Category"}),[]),f=m.useRef(null),d=m.useRef(null);return Qr(()=>{var x,E;let p=(E=(x=r.current)==null?void 0:x.parentElement)==null?void 0:E.parentElement;if(!p||!f.current||!d.current)return;let v=new ResizeObserver(b=>{for(let O of b){let A=O.contentRect.height,{onRowHeightChange:P,onCategoryHeaderHeightChange:R,rowHeight:F,categoryHeaderHeight:L}=o.get();O.target===f.current&&F!==A&&P(A),O.target===d.current&&L!==A&&R(A)}});v.observe(p),v.observe(f.current),v.observe(d.current);let{onRowHeightChange:y,onCategoryHeaderHeightChange:C}=o.get();return y(f.current.clientHeight),C(d.current.clientHeight),()=>{v.disconnect()}},[]),w.jsxs("div",{"aria-hidden":!0,ref:r,style:{height:0,visibility:"hidden"},children:[w.jsx("div",{"frimousse-row-sizer":"",ref:f,children:w.jsx(t,{...tS(-1,!0),children:u.map((p,v)=>w.jsx(n,{...eS(p,v,!1)},v))})}),w.jsx("div",{...nS(-1),children:w.jsx("div",{"frimousse-category-header-sizer":"",ref:d,children:w.jsx(e,{...rS(l,!0)})})})]})});function B7({category:e,...t}){return w.jsx("div",{...t,children:e.label})}function F7({emoji:e,...t}){return w.jsx("button",{type:"button",...t,children:e.emoji})}function _7({...e}){return w.jsx("div",{...e})}var aS=m.forwardRef(({style:e,components:t,...n},r)=>{let o=kn(),a=m.useRef(null),u=m.useCallback(O=>{O&&(a.current=O,o.set({listRef:a}))},[]),l=(t==null?void 0:t.CategoryHeader)??B7,f=(t==null?void 0:t.Emoji)??F7,d=(t==null?void 0:t.Row)??_7,p=Ao(o,"columns"),v=Ao(o,"viewportStartRowIndex"),y=Ao(o,"viewportEndRowIndex"),C=Hn(o,Kx),x=Hn(o,g7,Sv),E=m.useMemo(()=>(x==null?void 0:x.filter(O=>O<v).length)??0,[x,v]),b=(x==null?void 0:x.length)??0;return m.useImperativeHandle(r,()=>a.current),!C||!x||b===0?w.jsx("div",{...iS(p,0,e),...n,children:w.jsx("div",{...oS(0,0,0,0),children:w.jsx(sS,{CategoryHeader:l,Emoji:f,Row:d})})}):w.jsx("div",{...iS(p,C,e),...n,ref:u,children:w.jsxs("div",{...oS(C,b,v,E),children:[w.jsx(sS,{CategoryHeader:l,Emoji:f,Row:d}),Array.from({length:y-v+1},(O,A)=>{let P=v+A,R=x.indexOf(P);return w.jsxs(m.Fragment,{children:[R>=0&&w.jsx("div",{style:{height:"var(--frimousse-category-header-height)"}}),w.jsx(I7,{Emoji:f,Row:d,rowIndex:P})]},P)}),Array.from({length:b},(O,A)=>w.jsx(N7,{CategoryHeader:l,categoryIndex:A},A))]})})}),uS=m.forwardRef(({emoji:e,onClick:t,"aria-label":n="Change skin tone",...r},o)=>{let a=kn(),u=Hn(a,y7,Sv),[l,f,d]=Xx(e),p=m.useMemo(()=>Math.max(0,d.findIndex(b=>b.skinTone===l)),[l,d]),v=d[p],y=d[(p+1)%d.length].skinTone,C=l==="none"||u==null?void 0:u[l],x=y==="none"||u==null?void 0:u[y],E=m.useCallback(b=>{t==null||t(b),b.isDefaultPrevented()||f(y)},[t,f,y]);return w.jsx("button",{type:"button",...r,"aria-label":n+(x?` (${x})`:""),"aria-live":"polite","aria-valuetext":C,"frimousse-skin-tone-selector":"",onClick:E,ref:o,children:v.emoji})});function lS({children:e,...t}){let n=kn();return Hn(n,m7)?w.jsx("span",{"frimousse-loading":"",...t,children:e}):null}function M7({children:e}){let t=kn(),n=Hn(t,h7);return e({search:n})}function cS({children:e,...t}){let n=kn();return Hn(n,p7)?w.jsx("span",{"frimousse-empty":"",...t,children:typeof e=="function"?w.jsx(M7,{children:e}):e}):null}function fS({children:e}){let t=Yx();return e({emoji:t})}function dS({children:e,emoji:t}){let[n,r,o]=Xx(t);return e({skinTone:n,setSkinTone:r,skinToneVariations:o})}Zx.displayName="EmojiPicker.Root",Qx.displayName="EmojiPicker.Search",Jx.displayName="EmojiPicker.Viewport",aS.displayName="EmojiPicker.List",lS.displayName="EmojiPicker.Loading",cS.displayName="EmojiPicker.Empty",uS.displayName="EmojiPicker.SkinToneSelector",fS.displayName="EmojiPicker.ActiveEmoji",dS.displayName="EmojiPicker.SkinTone";function j7(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M9 15A6 6 0 1 0 9 3a6 6 0 0 0 0 12Zm7.5 1.5-3.25-3.25"})})}function L7({emoji:e,className:t,...n}){return w.jsx("button",{className:dt("lb-emoji-picker-emoji",t),...n,children:w.jsx(yp,{emoji:e.emoji})})}function $7({children:e,className:t,...n}){return w.jsx("div",{className:dt("lb-emoji-picker-row",t),...n,children:e})}function z7({category:e,className:t,...n}){return w.jsx("div",{className:dt("lb-emoji-picker-category-header",t),...n,children:w.jsx("span",{className:"lb-emoji-picker-category-header-title",children:e.label})})}const Av=m.forwardRef(({onEmojiSelect:e,onOpenChange:t,children:n,className:r,...o},a)=>{const[u,l]=m.useState(!1),{portalContainer:f,emojibaseUrl:d}=Da(),p=Qn(),v=m.useCallback(x=>{l(x),t==null||t(x)},[t]),y=m.useCallback(({emoji:x})=>{l(!1),e==null||e(x)},[e]),C=m.useCallback(x=>{x.stopPropagation()},[]);return w.jsxs(K8,{open:u,onOpenChange:v,children:[n,w.jsx(q8,{container:f,children:w.jsx(G8,{side:"top",align:"center",sideOffset:_u,collisionPadding:Wc,className:dt("lb-root lb-portal lb-elevation lb-emoji-picker",r),...o,ref:a,asChild:!0,children:w.jsxs(So.Root,{onEmojiSelect:y,locale:p.locale,columns:10,emojiVersion:15.1,emojibaseUrl:d,onClick:C,children:[w.jsx("div",{className:"lb-emoji-picker-header",children:w.jsxs("div",{className:"lb-emoji-picker-search-container",children:[w.jsx(So.Search,{className:"lb-emoji-picker-search",placeholder:p.EMOJI_PICKER_SEARCH_PLACEHOLDER,autoFocus:!0}),w.jsx(j7,{})]})}),w.jsxs(So.Viewport,{className:"lb-emoji-picker-content",children:[w.jsx(So.Loading,{className:"lb-loading lb-emoji-picker-loading",children:w.jsx(fl,{})}),w.jsx(So.Empty,{className:"lb-empty lb-emoji-picker-empty",children:p.EMOJI_PICKER_EMPTY}),w.jsx(So.List,{className:"lb-emoji-picker-list",components:{CategoryHeader:z7,Row:$7,Emoji:L7}})]}),w.jsxs("div",{className:"lb-emoji-picker-footer",children:[w.jsx(So.ActiveEmoji,{children:({emoji:x})=>x?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"lb-emoji-picker-active-emoji",children:x.emoji}),w.jsx("span",{className:"lb-emoji-picker-active-emoji-label",children:x.label})]}):w.jsx("span",{className:"lb-emoji-picker-active-emoji-label lb-emoji-picker-active-emoji-label-placeholder",children:"Select an emoji"})}),w.jsx(Un,{content:p.EMOJI_PICKER_CHANGE_SKIN_TONE,children:w.jsx(So.SkinToneSelector,{className:"lb-button lb-emoji-picker-skin-tone-selector"})})]})]})})})]})});function gl({userId:e,replaceSelf:t,className:n,...r}){const o=cl(),{user:a,isLoading:u}=qy(e),l=Qn(),f=m.useMemo(()=>t&&o===e?l.USER_SELF:(a==null?void 0:a.name)??l.USER_UNKNOWN,[t,o,e,l.USER_SELF,l.USER_UNKNOWN,a==null?void 0:a.name]);return w.jsx("span",{className:dt("lb-name lb-user",n),"data-loading":u?"":void 0,...r,children:u?null:f})}function U7({label:e,tooltipLabel:t,className:n,onClick:r,...o}){const{createMention:a}=$n(),u=m.useCallback(f=>{f.preventDefault()},[]),l=m.useCallback(f=>{r==null||r(f),f.isDefaultPrevented()||(f.stopPropagation(),a())},[a,r]);return w.jsx(Un,{content:t??e,children:w.jsx(xr,{className:dt("lb-composer-editor-action",n),onPointerDown:u,onClick:l,"aria-label":e,icon:w.jsx(o5,{}),...o})})}function H7({label:e,tooltipLabel:t,onPickerOpenChange:n,className:r,...o}){const{insertText:a}=$n(),u=m.useCallback(f=>{f.preventDefault()},[]),l=m.useCallback(f=>{f.stopPropagation()},[]);return w.jsx(Av,{onEmojiSelect:a,onOpenChange:n,children:w.jsx(Un,{content:t??e,children:w.jsx(td,{asChild:!0,children:w.jsx(xr,{className:dt("lb-composer-editor-action",r),onPointerDown:u,onClick:l,"aria-label":e,icon:w.jsx(n5,{}),...o})})})})}function W7({label:e,tooltipLabel:t,className:n,...r}){const o=m.useCallback(u=>{u.preventDefault()},[]),a=m.useCallback(u=>{u.stopPropagation()},[]);return w.jsx(Un,{content:t??e,children:w.jsx(NL,{asChild:!0,children:w.jsx(xr,{className:dt("lb-composer-editor-action",n),onPointerDown:o,onClick:a,"aria-label":e,icon:w.jsx(Y1,{}),...r})})})}function V7({userId:e}){return w.jsxs(L1,{className:"lb-composer-mention",children:[ri,w.jsx(gl,{userId:e})]})}function K7({userIds:e}){return e.length>0?w.jsx(z1,{className:"lb-root lb-portal lb-elevation lb-composer-suggestions lb-composer-mention-suggestions",children:w.jsx(U1,{className:"lb-composer-suggestions-list lb-composer-mention-suggestions-list",children:e.map(t=>w.jsxs(H1,{className:"lb-composer-suggestions-list-item lb-composer-mention-suggestion",value:t,children:[w.jsx(ND,{userId:t,className:"lb-composer-mention-suggestion-avatar"}),w.jsx(gl,{userId:t,className:"lb-composer-mention-suggestion-user"})]},t))})}):null}function rd({mark:e,icon:t,shortcut:n,children:r,...o}){const a=Qn(),u=m.useMemo(()=>a.COMPOSER_TOGGLE_MARK(e),[a,e]);return w.jsx(iv,{content:u,shortcut:n,sideOffset:_u+2,children:w.jsx(BL,{mark:e,asChild:!0,...o,children:w.jsx(xr,{"aria-label":u,variant:"toolbar",icon:t,children:r})})})}const q7=Object.entries({bold:()=>w.jsx(rd,{mark:"bold",shortcut:"Mod-B",icon:w.jsx(e5,{})}),italic:()=>w.jsx(rd,{mark:"italic",shortcut:"Mod-I",icon:w.jsx(r5,{})}),strikethrough:()=>w.jsx(rd,{mark:"strikethrough",shortcut:"Mod-Shift-S",icon:w.jsx(s5,{})}),code:()=>w.jsx(rd,{mark:"code",shortcut:"Mod-E",icon:w.jsx(t5,{})})}).map(([e,t])=>w.jsx(t,{},e));function G7(){return w.jsx(DL,{className:"lb-root lb-portal lb-elevation lb-composer-floating-toolbar",children:q7})}function Y7({href:e,children:t}){return w.jsx($1,{href:e,className:"lb-composer-link",children:t})}function X7({attachment:e,className:t,overrides:n,...r}){const{removeAttachment:o}=$n(),{roomId:a}=Ef(),u=m.useCallback(()=>{o(e.id)},[e.id,o]);return w.jsx(PD,{className:dt("lb-composer-attachment",t),...r,attachment:e,onDeleteClick:u,preventFocusOnDelete:!0,overrides:n,roomId:a})}function Z7({overrides:e,className:t,...n}){const{attachments:r}=$n();return r.length===0?null:w.jsx("div",{className:dt("lb-composer-attachments",t),...n,children:w.jsx("div",{className:"lb-attachments",children:r.map(o=>w.jsx(X7,{attachment:o,overrides:e},o.id))})})}const Q7={Mention:V7,MentionSuggestions:K7,Link:Y7};function J7({showAttachments:e=!0,showFormattingControls:t=!0,showAttribution:n,defaultValue:r,isCollapsed:o,overrides:a,actions:u,autoFocus:l,disabled:f,hasResolveMentionSuggestions:d,onEmojiPickerOpenChange:p,onEmptyChange:v,onEditorClick:y}){const{isEmpty:C}=$n(),{hasMaxAttachments:x}=Tm(),E=Qn(a),b=m.useMemo(()=>({...Q7,FloatingToolbar:t?G7:void 0}),[t]),[O,A]=M1({disabled:f||!e||x});$r(()=>{v(C)},[C,v]);const P=m.useCallback(F=>{F.preventDefault()},[]),R=m.useCallback(F=>{F.stopPropagation()},[]);return w.jsxs("div",{className:"lb-composer-editor-container",...A,children:[w.jsx(TL,{className:"lb-composer-editor",onClick:y,placeholder:E.COMPOSER_PLACEHOLDER,defaultValue:r,autoFocus:l,components:b,disabled:f,dir:E.dir}),e&&w.jsx(Z7,{overrides:a}),(!o||O)&&w.jsxs("div",{className:"lb-composer-footer",children:[w.jsxs("div",{className:"lb-composer-editor-actions",children:[d&&w.jsx(U7,{label:E.COMPOSER_INSERT_MENTION,disabled:f}),w.jsx(H7,{label:E.COMPOSER_INSERT_EMOJI,onPickerOpenChange:p,disabled:f}),e&&w.jsx(W7,{label:E.COMPOSER_ATTACH_FILES,disabled:f})]}),n&&w.jsx(y4,{}),w.jsx("div",{className:"lb-composer-actions",children:u??w.jsx(w.Fragment,{children:w.jsx(iv,{content:E.COMPOSER_SEND,shortcut:"Enter",children:w.jsx(W1,{asChild:!0,children:w.jsx(xr,{onPointerDown:P,onClick:R,className:"lb-composer-action",variant:"primary","aria-label":E.COMPOSER_SEND,icon:w.jsx(i5,{})})})})})})]}),e&&O&&w.jsx("div",{className:"lb-composer-attachments-drop-area",children:w.jsxs("div",{className:"lb-composer-attachments-drop-area-label",children:[w.jsx(Y1,{}),E.COMPOSER_ATTACH_FILES]})})]})}m.createContext(null);const Ov=m.forwardRef(({threadId:e,commentId:t,metadata:n,defaultValue:r,defaultAttachments:o,onComposerSubmit:a,collapsed:u,defaultCollapsed:l,onCollapsedChange:f,overrides:d,actions:p,onBlur:v,className:y,onFocus:C,autoFocus:x,disabled:E,showAttachments:b=!0,showFormattingControls:O=!0,showAttribution:A,roomId:P,...R},F)=>{const L=qb({allowOutsideRoom:!0}),I=P!==void 0?P:L==null?void 0:L.id;if(I===void 0)throw new Error("Composer must be a descendant of RoomProvider component");const q=Cb(I),ue=Sb(I),Y=cp(I),{preventUnsavedComposerChanges:re}=Da(),U=lp()!==void 0,H=m.useRef(!0),V=m.useRef(!1),se=Qn(d),[ve,oe]=a5(u===void 0&&l===void 0?!1:u,f,l),K=m.useSyncExternalStore(m.useCallback(Z=>L===null?()=>{}:L.events.self.subscribeOnce(Z),[L]),m.useCallback(()=>{var Z;return((Z=L==null?void 0:L.getSelf())==null?void 0:Z.canComment)??!0},[L]),m.useCallback(()=>!0,[])),G=mp(I),Q=G.size>0?G.has(Zi.CommentsWrite)||G.has(Zi.Write):K,M=m.useCallback(Z=>{H.current=Z},[]),J=m.useCallback(Z=>{V.current=Z},[]),te=m.useCallback(Z=>{C==null||C(Z),!Z.isDefaultPrevented()&&H.current&&Q&&(oe==null||oe(!1))},[oe,C,Q]),fe=m.useCallback(Z=>{if(v==null||v(Z),Z.isDefaultPrevented())return;!Z.currentTarget.contains(Z.relatedTarget??document.activeElement)&&H.current&&!V.current&&(oe==null||oe(!0))},[v,oe]),X=m.useCallback(Z=>{Z.stopPropagation(),H.current&&Q&&(oe==null||oe(!1))},[oe,Q]),j=m.useCallback((Z,ae)=>{a==null||a(Z,ae),!ae.isDefaultPrevented()&&(ae.stopPropagation(),t&&e?Y({commentId:t,threadId:e,body:Z.body,attachments:Z.attachments}):e?ue({threadId:e,body:Z.body,attachments:Z.attachments}):q({body:Z.body,metadata:n??{},attachments:Z.attachments}))},[t,ue,q,Y,n,a,e]);return w.jsx(Wf,{children:w.jsx(IL,{onComposerSubmit:j,className:dt("lb-root lb-composer lb-composer-form",y),dir:se.dir,...R,ref:F,"data-collapsed":ve?"":void 0,onFocus:te,onBlur:fe,disabled:E||!Q,defaultAttachments:o,pasteFilesAsAttachments:b,preventUnsavedChanges:re,roomId:I,children:w.jsx(J7,{defaultValue:r,actions:p,overrides:d,isCollapsed:ve,showAttachments:b,showAttribution:A,showFormattingControls:O,hasResolveMentionSuggestions:U,onEmptyChange:M,onEmojiPickerOpenChange:J,onEditorClick:X,autoFocus:x,disabled:E})})})});var e9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],En=e9.reduce((e,t)=>{const n=bo(`Primitive.${t}`),r=m.forwardRef((o,a)=>{const{asChild:u,...l}=o,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(f,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hS(e,t){e&&os.flushSync(()=>e.dispatchEvent(t))}function pS(e){const t=e+"CollectionProvider",[n,r]=Do(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=E=>{const{scope:b,children:O}=E,A=He.useRef(null),P=He.useRef(new Map).current;return w.jsx(o,{scope:b,itemMap:P,collectionRef:A,children:O})};u.displayName=t;const l=e+"CollectionSlot",f=bo(l),d=He.forwardRef((E,b)=>{const{scope:O,children:A}=E,P=a(l,O),R=vt(b,P.collectionRef);return w.jsx(f,{ref:R,children:A})});d.displayName=l;const p=e+"CollectionItemSlot",v="data-radix-collection-item",y=bo(p),C=He.forwardRef((E,b)=>{const{scope:O,children:A,...P}=E,R=He.useRef(null),F=vt(b,R),L=a(p,O);return He.useEffect(()=>(L.itemMap.set(R,{ref:R,...P}),()=>void L.itemMap.delete(R))),w.jsx(y,{[v]:"",ref:F,children:A})});C.displayName=p;function x(E){const b=a(e+"CollectionConsumer",E);return He.useCallback(()=>{const A=b.collectionRef.current;if(!A)return[];const P=Array.from(A.querySelectorAll(`[${v}]`));return Array.from(b.itemMap.values()).sort((L,I)=>P.indexOf(L.ref.current)-P.indexOf(I.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:u,Slot:d,ItemSlot:C},x,r]}var t9=m.createContext(void 0);function mS(e){const t=m.useContext(t9);return e||t||"ltr"}var n9="DismissableLayer",Tv="dismissableLayer.update",r9="dismissableLayer.pointerDownOutside",o9="dismissableLayer.focusOutside",vS,gS=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yS=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:l,...f}=e,d=m.useContext(gS),[p,v]=m.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=m.useState({}),x=vt(t,I=>v(I)),E=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),O=E.indexOf(b),A=p?E.indexOf(p):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,R=A>=O,F=a9(I=>{const q=I.target,ue=[...d.branches].some(Y=>Y.contains(q));!R||ue||(o==null||o(I),u==null||u(I),I.defaultPrevented||l==null||l())},y),L=u9(I=>{const q=I.target;[...d.branches].some(Y=>Y.contains(q))||(a==null||a(I),u==null||u(I),I.defaultPrevented||l==null||l())},y);return qm(I=>{A===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},y),m.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(vS=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),bS(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=vS)}},[p,y,n,d]),m.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),bS())},[p,d]),m.useEffect(()=>{const I=()=>C({});return document.addEventListener(Tv,I),()=>document.removeEventListener(Tv,I)},[]),w.jsx(En.div,{...f,ref:x,style:{pointerEvents:P?R?"auto":"none":void 0,...e.style},onFocusCapture:Ve(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,F.onPointerDownCapture)})});yS.displayName=n9;var i9="DismissableLayerBranch",s9=m.forwardRef((e,t)=>{const n=m.useContext(gS),r=m.useRef(null),o=vt(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),w.jsx(En.div,{...e,ref:o})});s9.displayName=i9;function a9(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e),r=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let f=function(){wS(r9,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function u9(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e),r=m.useRef(!1);return m.useEffect(()=>{const o=a=>{a.target&&!r.current&&wS(o9,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bS(){const e=new CustomEvent(Tv);document.dispatchEvent(e)}function wS(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?hS(o,a):o.dispatchEvent(a)}var kv="focusScope.autoFocusOnMount",Rv="focusScope.autoFocusOnUnmount",CS={bubbles:!1,cancelable:!0},l9="FocusScope",ES=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...u}=e,[l,f]=m.useState(null),d=rn(o),p=rn(a),v=m.useRef(null),y=vt(t,E=>f(E)),C=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let E=function(P){if(C.paused||!l)return;const R=P.target;l.contains(R)?v.current=R:pi(v.current,{select:!0})},b=function(P){if(C.paused||!l)return;const R=P.relatedTarget;R!==null&&(l.contains(R)||pi(v.current,{select:!0}))},O=function(P){if(document.activeElement===document.body)for(const F of P)F.removedNodes.length>0&&pi(l)};document.addEventListener("focusin",E),document.addEventListener("focusout",b);const A=new MutationObserver(O);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",b),A.disconnect()}}},[r,l,C.paused]),m.useEffect(()=>{if(l){SS.add(C);const E=document.activeElement;if(!l.contains(E)){const O=new CustomEvent(kv,CS);l.addEventListener(kv,d),l.dispatchEvent(O),O.defaultPrevented||(c9(m9(DS(l)),{select:!0}),document.activeElement===E&&pi(l))}return()=>{l.removeEventListener(kv,d),setTimeout(()=>{const O=new CustomEvent(Rv,CS);l.addEventListener(Rv,p),l.dispatchEvent(O),O.defaultPrevented||pi(E??document.body,{select:!0}),l.removeEventListener(Rv,p),SS.remove(C)},0)}}},[l,d,p,C]);const x=m.useCallback(E=>{if(!n&&!r||C.paused)return;const b=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,O=document.activeElement;if(b&&O){const A=E.currentTarget,[P,R]=f9(A);P&&R?!E.shiftKey&&O===R?(E.preventDefault(),n&&pi(P,{select:!0})):E.shiftKey&&O===P&&(E.preventDefault(),n&&pi(R,{select:!0})):O===A&&E.preventDefault()}},[n,r,C.paused]);return w.jsx(En.div,{tabIndex:-1,...u,ref:y,onKeyDown:x})});ES.displayName=l9;function c9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(pi(r,{select:t}),document.activeElement!==n)return}function f9(e){const t=DS(e),n=xS(t,e),r=xS(t.reverse(),e);return[n,r]}function DS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xS(e,t){for(const n of e)if(!d9(n,{upTo:t}))return n}function d9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function h9(e){return e instanceof HTMLInputElement&&"select"in e}function pi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&h9(e)&&t&&e.select()}}var SS=p9();function p9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=AS(e,t),e.unshift(t)},remove(t){var n;e=AS(e,t),(n=e[0])==null||n.resume()}}}function AS(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function m9(e){return e.filter(t=>t.tagName!=="A")}var v9="Arrow",OS=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return w.jsx(En.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});OS.displayName=v9;var g9=OS,Pv="Popper",[TS,kS]=Do(Pv),[y9,RS]=TS(Pv),PS=e=>{const{__scopePopper:t,children:n}=e,[r,o]=m.useState(null);return w.jsx(y9,{scope:t,anchor:r,onAnchorChange:o,children:n})};PS.displayName=Pv;var IS="PopperAnchor",NS=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=RS(IS,n),u=m.useRef(null),l=vt(t,u),f=m.useRef(null);return m.useEffect(()=>{const d=f.current;f.current=(r==null?void 0:r.current)||u.current,d!==f.current&&a.onAnchorChange(f.current)}),r?null:w.jsx(En.div,{...o,ref:l})});NS.displayName=IS;var Iv="PopperContent",[b9,w9]=TS(Iv),BS=m.forwardRef((e,t)=>{var Z,ae,ce,Pe,Oe,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:l=0,avoidCollisions:f=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:C="optimized",onPlaced:x,...E}=e,b=RS(Iv,n),[O,A]=m.useState(null),P=vt(t,Be=>A(Be)),[R,F]=m.useState(null),L=Ym(R),I=(L==null?void 0:L.width)??0,q=(L==null?void 0:L.height)??0,ue=r+(a!=="center"?"-"+a:""),Y=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},re=Array.isArray(d)?d:[d],U=re.length>0,H={padding:Y,boundary:re.filter(E9),altBoundary:U},{refs:V,floatingStyles:se,placement:ve,isPositioned:oe,middlewareData:K}=Nf({strategy:"fixed",placement:ue,whileElementsMounted:(...Be)=>Rf(...Be,{animationFrame:C==="always"}),elements:{reference:b.anchor},middleware:[Bf({mainAxis:o+q,alignmentAxis:u}),f&&Ff({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?_f():void 0,...H}),f&&Mf({...H}),jf({...H,apply:({elements:Be,rects:N,availableWidth:me,availableHeight:Se})=>{const{width:ke,height:De}=N.reference,Ge=Be.floating.style;Ge.setProperty("--radix-popper-available-width",`${me}px`),Ge.setProperty("--radix-popper-available-height",`${Se}px`),Ge.setProperty("--radix-popper-anchor-width",`${ke}px`),Ge.setProperty("--radix-popper-anchor-height",`${De}px`)}}),R&&Um({element:R,padding:l}),D9({arrowWidth:I,arrowHeight:q}),y&&Lf({strategy:"referenceHidden",...H})]}),[G,Q]=MS(ve),M=rn(x);Xt(()=>{oe&&(M==null||M())},[oe,M]);const J=(Z=K.arrow)==null?void 0:Z.x,te=(ae=K.arrow)==null?void 0:ae.y,fe=((ce=K.arrow)==null?void 0:ce.centerOffset)!==0,[X,j]=m.useState();return Xt(()=>{O&&j(window.getComputedStyle(O).zIndex)},[O]),w.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:oe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(Pe=K.transformOrigin)==null?void 0:Pe.x,(Oe=K.transformOrigin)==null?void 0:Oe.y].join(" "),...((Ie=K.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:w.jsx(b9,{scope:n,placedSide:G,onArrowChange:F,arrowX:J,arrowY:te,shouldHideArrow:fe,children:w.jsx(En.div,{"data-side":G,"data-align":Q,...E,ref:P,style:{...E.style,animation:oe?void 0:"none"}})})})});BS.displayName=Iv;var FS="PopperArrow",C9={top:"bottom",right:"left",bottom:"top",left:"right"},_S=m.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=w9(FS,r),u=C9[a.placedSide];return w.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:w.jsx(g9,{...o,ref:n,style:{...o.style,display:"block"}})})});_S.displayName=FS;function E9(e){return e!==null}var D9=e=>({name:"transformOrigin",options:e,fn(t){var b,O,A;const{placement:n,rects:r,middlewareData:o}=t,u=((b=o.arrow)==null?void 0:b.centerOffset)!==0,l=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[d,p]=MS(n),v={start:"0%",center:"50%",end:"100%"}[p],y=(((O=o.arrow)==null?void 0:O.x)??0)+l/2,C=(((A=o.arrow)==null?void 0:A.y)??0)+f/2;let x="",E="";return d==="bottom"?(x=u?v:`${y}px`,E=`${-f}px`):d==="top"?(x=u?v:`${y}px`,E=`${r.floating.height+f}px`):d==="right"?(x=`${-f}px`,E=u?v:`${C}px`):d==="left"&&(x=`${r.floating.width+f}px`,E=u?v:`${C}px`),{data:{x,y:E}}}});function MS(e){const[t,n="center"]=e.split("-");return[t,n]}var x9=PS,S9=NS,A9=BS,O9=_S,T9="Portal",jS=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,a]=m.useState(!1);Xt(()=>a(!0),[]);const u=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return u?Uc.createPortal(w.jsx(En.div,{...r,ref:t}),u):null});jS.displayName=T9;function k9(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var yl=e=>{const{present:t,children:n}=e,r=R9(t),o=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=vt(r.ref,P9(o));return typeof n=="function"||r.isPresent?m.cloneElement(o,{ref:a}):null};yl.displayName="Presence";function R9(e){const[t,n]=m.useState(),r=m.useRef(null),o=m.useRef(e),a=m.useRef("none"),u=e?"mounted":"unmounted",[l,f]=k9(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=od(r.current);a.current=l==="mounted"?d:"none"},[l]),Xt(()=>{const d=r.current,p=o.current;if(p!==e){const y=a.current,C=od(d);e?f("MOUNT"):C==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(p&&y!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),Xt(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,v=C=>{const E=od(r.current).includes(CSS.escape(C.animationName));if(C.target===t&&E&&(f("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},y=C=>{C.target===t&&(a.current=od(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function od(e){return(e==null?void 0:e.animationName)||"none"}function P9(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Nv="rovingFocusGroup.onEntryFocus",I9={bubbles:!1,cancelable:!0},bl="RovingFocusGroup",[Bv,LS,N9]=pS(bl),[B9,$S]=Do(bl,[N9]),[F9,_9]=B9(bl),zS=m.forwardRef((e,t)=>w.jsx(Bv.Provider,{scope:e.__scopeRovingFocusGroup,children:w.jsx(Bv.Slot,{scope:e.__scopeRovingFocusGroup,children:w.jsx(M9,{...e,ref:t})})}));zS.displayName=bl;var M9=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:f,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...v}=e,y=m.useRef(null),C=vt(t,y),x=mS(a),[E,b]=Fu({prop:u,defaultProp:l??null,onChange:f,caller:bl}),[O,A]=m.useState(!1),P=rn(d),R=LS(n),F=m.useRef(!1),[L,I]=m.useState(0);return m.useEffect(()=>{const q=y.current;if(q)return q.addEventListener(Nv,P),()=>q.removeEventListener(Nv,P)},[P]),w.jsx(F9,{scope:n,orientation:r,dir:x,loop:o,currentTabStopId:E,onItemFocus:m.useCallback(q=>b(q),[b]),onItemShiftTab:m.useCallback(()=>A(!0),[]),onFocusableItemAdd:m.useCallback(()=>I(q=>q+1),[]),onFocusableItemRemove:m.useCallback(()=>I(q=>q-1),[]),children:w.jsx(En.div,{tabIndex:O||L===0?-1:0,"data-orientation":r,...v,ref:C,style:{outline:"none",...e.style},onMouseDown:Ve(e.onMouseDown,()=>{F.current=!0}),onFocus:Ve(e.onFocus,q=>{const ue=!F.current;if(q.target===q.currentTarget&&ue&&!O){const Y=new CustomEvent(Nv,I9);if(q.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const re=R().filter(ve=>ve.focusable),U=re.find(ve=>ve.active),H=re.find(ve=>ve.id===E),se=[U,H,...re].filter(Boolean).map(ve=>ve.ref.current);WS(se,p)}}F.current=!1}),onBlur:Ve(e.onBlur,()=>A(!1))})})}),US="RovingFocusGroupItem",HS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,children:u,...l}=e,f=dl(),d=a||f,p=_9(US,n),v=p.currentTabStopId===d,y=LS(n),{onFocusableItemAdd:C,onFocusableItemRemove:x,currentTabStopId:E}=p;return m.useEffect(()=>{if(r)return C(),()=>x()},[r,C,x]),w.jsx(Bv.ItemSlot,{scope:n,id:d,focusable:r,active:o,children:w.jsx(En.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...l,ref:t,onMouseDown:Ve(e.onMouseDown,b=>{r?p.onItemFocus(d):b.preventDefault()}),onFocus:Ve(e.onFocus,()=>p.onItemFocus(d)),onKeyDown:Ve(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){p.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const O=$9(b,p.orientation,p.dir);if(O!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let P=y().filter(R=>R.focusable).map(R=>R.ref.current);if(O==="last")P.reverse();else if(O==="prev"||O==="next"){O==="prev"&&P.reverse();const R=P.indexOf(b.currentTarget);P=p.loop?z9(P,R+1):P.slice(R+1)}setTimeout(()=>WS(P))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:E!=null}):u})})});HS.displayName=US;var j9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $9(e,t,n){const r=L9(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return j9[r]}function WS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function z9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var U9=zS,H9=HS,Fv=["Enter"," "],W9=["ArrowDown","PageUp","Home"],VS=["ArrowUp","PageDown","End"],V9=[...W9,...VS],K9={ltr:[...Fv,"ArrowRight"],rtl:[...Fv,"ArrowLeft"]},q9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wl="Menu",[Cl,G9,Y9]=pS(wl),[vs,KS]=Do(wl,[Y9,kS,$S]),id=kS(),qS=$S(),[X9,gs]=vs(wl),[Z9,El]=vs(wl),GS=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:a,modal:u=!0}=e,l=id(t),[f,d]=m.useState(null),p=m.useRef(!1),v=rn(a),y=mS(o);return m.useEffect(()=>{const C=()=>{p.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>p.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),w.jsx(x9,{...l,children:w.jsx(X9,{scope:t,open:n,onOpenChange:v,content:f,onContentChange:d,children:w.jsx(Z9,{scope:t,onClose:m.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:p,dir:y,modal:u,children:r})})})};GS.displayName=wl;var Q9="MenuAnchor",_v=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=id(n);return w.jsx(S9,{...o,...r,ref:t})});_v.displayName=Q9;var Mv="MenuPortal",[J9,YS]=vs(Mv,{forceMount:void 0}),XS=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,a=gs(Mv,t);return w.jsx(J9,{scope:t,forceMount:n,children:w.jsx(yl,{present:n||a.open,children:w.jsx(jS,{asChild:!0,container:o,children:r})})})};XS.displayName=Mv;var tr="MenuContent",[e$,jv]=vs(tr),ZS=m.forwardRef((e,t)=>{const n=YS(tr,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=gs(tr,e.__scopeMenu),u=El(tr,e.__scopeMenu);return w.jsx(Cl.Provider,{scope:e.__scopeMenu,children:w.jsx(yl,{present:r||a.open,children:w.jsx(Cl.Slot,{scope:e.__scopeMenu,children:u.modal?w.jsx(t$,{...o,ref:t}):w.jsx(n$,{...o,ref:t})})})})}),t$=m.forwardRef((e,t)=>{const n=gs(tr,e.__scopeMenu),r=m.useRef(null),o=vt(t,r);return m.useEffect(()=>{const a=r.current;if(a)return ax(a)},[]),w.jsx(Lv,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ve(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),n$=m.forwardRef((e,t)=>{const n=gs(tr,e.__scopeMenu);return w.jsx(Lv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),r$=bo("MenuContent.ScrollLock"),Lv=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:l,onEntryFocus:f,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:y,onDismiss:C,disableOutsideScroll:x,...E}=e,b=gs(tr,n),O=El(tr,n),A=id(n),P=qS(n),R=G9(n),[F,L]=m.useState(null),I=m.useRef(null),q=vt(t,I,b.onContentChange),ue=m.useRef(0),Y=m.useRef(""),re=m.useRef(0),U=m.useRef(null),H=m.useRef("right"),V=m.useRef(0),se=x?bv:m.Fragment,ve=x?{as:r$,allowPinchZoom:!0}:void 0,oe=G=>{var Z,ae;const Q=Y.current+G,M=R().filter(ce=>!ce.disabled),J=document.activeElement,te=(Z=M.find(ce=>ce.ref.current===J))==null?void 0:Z.textValue,fe=M.map(ce=>ce.textValue),X=m$(fe,Q,te),j=(ae=M.find(ce=>ce.textValue===X))==null?void 0:ae.ref.current;(function ce(Pe){Y.current=Pe,window.clearTimeout(ue.current),Pe!==""&&(ue.current=window.setTimeout(()=>ce(""),1e3))})(Q),j&&setTimeout(()=>j.focus())};m.useEffect(()=>()=>window.clearTimeout(ue.current),[]),LD();const K=m.useCallback(G=>{var M,J;return H.current===((M=U.current)==null?void 0:M.side)&&g$(G,(J=U.current)==null?void 0:J.area)},[]);return w.jsx(e$,{scope:n,searchRef:Y,onItemEnter:m.useCallback(G=>{K(G)&&G.preventDefault()},[K]),onItemLeave:m.useCallback(G=>{var Q;K(G)||((Q=I.current)==null||Q.focus(),L(null))},[K]),onTriggerLeave:m.useCallback(G=>{K(G)&&G.preventDefault()},[K]),pointerGraceTimerRef:re,onPointerGraceIntentChange:m.useCallback(G=>{U.current=G},[]),children:w.jsx(se,{...ve,children:w.jsx(ES,{asChild:!0,trapped:o,onMountAutoFocus:Ve(a,G=>{var Q;G.preventDefault(),(Q=I.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:w.jsx(yS,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:y,onDismiss:C,children:w.jsx(U9,{asChild:!0,...P,dir:O.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:L,onEntryFocus:Ve(f,G=>{O.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(A9,{role:"menu","aria-orientation":"vertical","data-state":pA(b.open),"data-radix-menu-content":"",dir:O.dir,...A,...E,ref:q,style:{outline:"none",...E.style},onKeyDown:Ve(E.onKeyDown,G=>{const M=G.target.closest("[data-radix-menu-content]")===G.currentTarget,J=G.ctrlKey||G.altKey||G.metaKey,te=G.key.length===1;M&&(G.key==="Tab"&&G.preventDefault(),!J&&te&&oe(G.key));const fe=I.current;if(G.target!==fe||!V9.includes(G.key))return;G.preventDefault();const j=R().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);VS.includes(G.key)&&j.reverse(),h$(j)}),onBlur:Ve(e.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(ue.current),Y.current="")}),onPointerMove:Ve(e.onPointerMove,xl(G=>{const Q=G.target,M=V.current!==G.clientX;if(G.currentTarget.contains(Q)&&M){const J=G.clientX>V.current?"right":"left";H.current=J,V.current=G.clientX}}))})})})})})})});ZS.displayName=tr;var o$="MenuGroup",$v=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return w.jsx(En.div,{role:"group",...r,ref:t})});$v.displayName=o$;var i$="MenuLabel",QS=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return w.jsx(En.div,{...r,ref:t})});QS.displayName=i$;var sd="MenuItem",JS="menu.itemSelect",ad=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,a=m.useRef(null),u=El(sd,e.__scopeMenu),l=jv(sd,e.__scopeMenu),f=vt(t,a),d=m.useRef(!1),p=()=>{const v=a.current;if(!n&&v){const y=new CustomEvent(JS,{bubbles:!0,cancelable:!0});v.addEventListener(JS,C=>r==null?void 0:r(C),{once:!0}),hS(v,y),y.defaultPrevented?d.current=!1:u.onClose()}};return w.jsx(eA,{...o,ref:f,disabled:n,onClick:Ve(e.onClick,p),onPointerDown:v=>{var y;(y=e.onPointerDown)==null||y.call(e,v),d.current=!0},onPointerUp:Ve(e.onPointerUp,v=>{var y;d.current||(y=v.currentTarget)==null||y.click()}),onKeyDown:Ve(e.onKeyDown,v=>{const y=l.searchRef.current!=="";n||y&&v.key===" "||Fv.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});ad.displayName=sd;var eA=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=e,u=jv(sd,n),l=qS(n),f=m.useRef(null),d=vt(t,f),[p,v]=m.useState(!1),[y,C]=m.useState("");return m.useEffect(()=>{const x=f.current;x&&C((x.textContent??"").trim())},[a.children]),w.jsx(Cl.ItemSlot,{scope:n,disabled:r,textValue:o??y,children:w.jsx(H9,{asChild:!0,...l,focusable:!r,children:w.jsx(En.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:Ve(e.onPointerMove,xl(x=>{r?u.onItemLeave(x):(u.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ve(e.onPointerLeave,xl(x=>u.onItemLeave(x))),onFocus:Ve(e.onFocus,()=>v(!0)),onBlur:Ve(e.onBlur,()=>v(!1))})})})}),s$="MenuCheckboxItem",tA=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return w.jsx(sA,{scope:e.__scopeMenu,checked:n,children:w.jsx(ad,{role:"menuitemcheckbox","aria-checked":ud(n)?"mixed":n,...o,ref:t,"data-state":Uv(n),onSelect:Ve(o.onSelect,()=>r==null?void 0:r(ud(n)?!0:!n),{checkForDefaultPrevented:!1})})})});tA.displayName=s$;var nA="MenuRadioGroup",[a$,u$]=vs(nA,{value:void 0,onValueChange:()=>{}}),rA=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,a=rn(r);return w.jsx(a$,{scope:e.__scopeMenu,value:n,onValueChange:a,children:w.jsx($v,{...o,ref:t})})});rA.displayName=nA;var oA="MenuRadioItem",iA=m.forwardRef((e,t)=>{const{value:n,...r}=e,o=u$(oA,e.__scopeMenu),a=n===o.value;return w.jsx(sA,{scope:e.__scopeMenu,checked:a,children:w.jsx(ad,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Uv(a),onSelect:Ve(r.onSelect,()=>{var u;return(u=o.onValueChange)==null?void 0:u.call(o,n)},{checkForDefaultPrevented:!1})})})});iA.displayName=oA;var zv="MenuItemIndicator",[sA,l$]=vs(zv,{checked:!1}),aA=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,a=l$(zv,n);return w.jsx(yl,{present:r||ud(a.checked)||a.checked===!0,children:w.jsx(En.span,{...o,ref:t,"data-state":Uv(a.checked)})})});aA.displayName=zv;var c$="MenuSeparator",uA=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return w.jsx(En.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});uA.displayName=c$;var f$="MenuArrow",lA=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=id(n);return w.jsx(O9,{...o,...r,ref:t})});lA.displayName=f$;var d$="MenuSub",[hU,cA]=vs(d$),Dl="MenuSubTrigger",fA=m.forwardRef((e,t)=>{const n=gs(Dl,e.__scopeMenu),r=El(Dl,e.__scopeMenu),o=cA(Dl,e.__scopeMenu),a=jv(Dl,e.__scopeMenu),u=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:f}=a,d={__scopeMenu:e.__scopeMenu},p=m.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return m.useEffect(()=>p,[p]),m.useEffect(()=>{const v=l.current;return()=>{window.clearTimeout(v),f(null)}},[l,f]),w.jsx(_v,{asChild:!0,...d,children:w.jsx(eA,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":pA(n.open),...e,ref:Hc(t,o.onTriggerChange),onClick:v=>{var y;(y=e.onClick)==null||y.call(e,v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ve(e.onPointerMove,xl(v=>{a.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:Ve(e.onPointerLeave,xl(v=>{var C,x;p();const y=(C=n.content)==null?void 0:C.getBoundingClientRect();if(y){const E=(x=n.content)==null?void 0:x.dataset.side,b=E==="right",O=b?-5:5,A=y[b?"left":"right"],P=y[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:v.clientX+O,y:v.clientY},{x:A,y:y.top},{x:P,y:y.top},{x:P,y:y.bottom},{x:A,y:y.bottom}],side:E}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(v),v.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ve(e.onKeyDown,v=>{var C;const y=a.searchRef.current!=="";e.disabled||y&&v.key===" "||K9[r.dir].includes(v.key)&&(n.onOpenChange(!0),(C=n.content)==null||C.focus(),v.preventDefault())})})})});fA.displayName=Dl;var dA="MenuSubContent",hA=m.forwardRef((e,t)=>{const n=YS(tr,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=gs(tr,e.__scopeMenu),u=El(tr,e.__scopeMenu),l=cA(dA,e.__scopeMenu),f=m.useRef(null),d=vt(t,f);return w.jsx(Cl.Provider,{scope:e.__scopeMenu,children:w.jsx(yl,{present:r||a.open,children:w.jsx(Cl.Slot,{scope:e.__scopeMenu,children:w.jsx(Lv,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:d,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var v;u.isUsingKeyboardRef.current&&((v=f.current)==null||v.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ve(e.onFocusOutside,p=>{p.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ve(e.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:Ve(e.onKeyDown,p=>{var C;const v=p.currentTarget.contains(p.target),y=q9[u.dir].includes(p.key);v&&y&&(a.onOpenChange(!1),(C=l.trigger)==null||C.focus(),p.preventDefault())})})})})})});hA.displayName=dA;function pA(e){return e?"open":"closed"}function ud(e){return e==="indeterminate"}function Uv(e){return ud(e)?"indeterminate":e?"checked":"unchecked"}function h$(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function p$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function m$(e,t,n){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=p$(e,Math.max(a,0));o.length===1&&(u=u.filter(d=>d!==n));const f=u.find(d=>d.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function v$(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const l=t[a],f=t[u],d=l.x,p=l.y,v=f.x,y=f.y;p>r!=y>r&&n<(v-d)*(r-p)/(y-p)+d&&(o=!o)}return o}function g$(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return v$(n,t)}function xl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var y$=GS,b$=_v,w$=XS,C$=ZS,E$=$v,D$=QS,x$=ad,S$=tA,A$=rA,O$=iA,T$=aA,k$=uA,R$=lA,P$=fA,I$=hA,ld="DropdownMenu",[N$]=Do(ld,[KS]),Dn=KS(),[B$,mA]=N$(ld),vA=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:u,modal:l=!0}=e,f=Dn(t),d=m.useRef(null),[p,v]=Fu({prop:o,defaultProp:a??!1,onChange:u,caller:ld});return w.jsx(B$,{scope:t,triggerId:dl(),triggerRef:d,contentId:dl(),open:p,onOpenChange:v,onOpenToggle:m.useCallback(()=>v(y=>!y),[v]),modal:l,children:w.jsx(y$,{...f,open:p,onOpenChange:v,dir:r,modal:l,children:n})})};vA.displayName=ld;var gA="DropdownMenuTrigger",yA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,a=mA(gA,n),u=Dn(n);return w.jsx(b$,{asChild:!0,...u,children:w.jsx(En.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Hc(t,a.triggerRef),onPointerDown:Ve(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ve(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});yA.displayName=gA;var F$="DropdownMenuPortal",bA=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Dn(t);return w.jsx(w$,{...r,...n})};bA.displayName=F$;var wA="DropdownMenuContent",CA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=mA(wA,n),a=Dn(n),u=m.useRef(!1);return w.jsx(C$,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...r,ref:t,onCloseAutoFocus:Ve(e.onCloseAutoFocus,l=>{var f;u.current||(f=o.triggerRef.current)==null||f.focus(),u.current=!1,l.preventDefault()}),onInteractOutside:Ve(e.onInteractOutside,l=>{const f=l.detail.originalEvent,d=f.button===0&&f.ctrlKey===!0,p=f.button===2||d;(!o.modal||p)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CA.displayName=wA;var _$="DropdownMenuGroup",M$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(E$,{...o,...r,ref:t})});M$.displayName=_$;var j$="DropdownMenuLabel",L$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(D$,{...o,...r,ref:t})});L$.displayName=j$;var $$="DropdownMenuItem",EA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(x$,{...o,...r,ref:t})});EA.displayName=$$;var z$="DropdownMenuCheckboxItem",U$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(S$,{...o,...r,ref:t})});U$.displayName=z$;var H$="DropdownMenuRadioGroup",W$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(A$,{...o,...r,ref:t})});W$.displayName=H$;var V$="DropdownMenuRadioItem",K$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(O$,{...o,...r,ref:t})});K$.displayName=V$;var q$="DropdownMenuItemIndicator",G$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(T$,{...o,...r,ref:t})});G$.displayName=q$;var Y$="DropdownMenuSeparator",X$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(k$,{...o,...r,ref:t})});X$.displayName=Y$;var Z$="DropdownMenuArrow",Q$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(R$,{...o,...r,ref:t})});Q$.displayName=Z$;var J$="DropdownMenuSubTrigger",e6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(P$,{...o,...r,ref:t})});e6.displayName=J$;var t6="DropdownMenuSubContent",n6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Dn(n);return w.jsx(I$,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});n6.displayName=t6;var r6=vA,o6=bA,i6=CA;function s6({children:e,content:t,defaultOpen:n,open:r,onOpenChange:o,className:a,...u}){const l=Qn(),{portalContainer:f}=Da();return w.jsxs(r6,{defaultOpen:n,open:r,onOpenChange:o,dir:l.dir,children:[e,w.jsx(o6,{container:f,children:w.jsx(i6,{className:dt("lb-root lb-portal lb-elevation lb-dropdown",a),sideOffset:_u,collisionPadding:Wc,...u,children:t})})]})}const Hv=m.forwardRef(({children:e,className:t,icon:n,...r},o)=>w.jsxs(EA,{className:dt("lb-dropdown-item",t),...r,ref:o,children:[n?w.jsx("span",{className:"lb-dropdown-item-icon lb-icon-container",children:n}):null,e?w.jsx("span",{className:"lb-dropdown-item-label",children:e}):null]})),a6=m.forwardRef(({values:e,formatRemaining:t,truncate:n,locale:r,className:o,asChild:a,...u},l)=>{const f=a?Zt:"span",d=Qn(),p=t??d.LIST_REMAINING,v=m.useMemo(()=>{const y=n&&n<e.length-1?[...e.slice(0,n),p(e.length-n)]:[...e],C=Array(y.length).fill(".");return FL(r).formatToParts(C).map(E=>E.type==="element"?y.shift():E.value)},[p,r,n,e]);return w.jsx(f,{className:dt("lb-list",o),...u,ref:l,children:v})}),u6=5;function l6({userId:e,className:t,...n}){const r=cl();return w.jsxs(sC,{className:dt("lb-comment-mention",t),"data-self":e===r?"":void 0,...n,children:[ri,w.jsx(gl,{userId:e})]})}function c6({href:e,children:t,className:n,...r}){return w.jsx(aC,{className:dt("lb-comment-link",n),href:e,...r,children:t})}const DA=m.forwardRef(({reaction:e,overrides:t,className:n,...r},o)=>{const a=Qn(t);return w.jsxs(sv,{className:dt("lb-comment-reaction",n),variant:"outline","aria-label":a.COMMENT_REACTION_DESCRIPTION(e.emoji,e.users.length),...r,ref:o,children:[w.jsx(yp,{className:"lb-comment-reaction-emoji",emoji:e.emoji}),w.jsx("span",{className:"lb-comment-reaction-count",children:e.users.length})]})}),f6=m.forwardRef(({comment:e,reaction:t,overrides:n,disabled:r,...o},a)=>{const u=fp(e.roomId),l=dp(e.roomId),f=cl(),d=m.useMemo(()=>t.users.some(x=>x.id===f),[f,t]),p=Qn(n),v=m.useMemo(()=>w.jsx("span",{children:p.COMMENT_REACTION_LIST(w.jsx(a6,{values:t.users.map(x=>w.jsx(gl,{userId:x.id,replaceSelf:!0},x.id)),formatRemaining:p.LIST_REMAINING_USERS,truncate:u6,locale:p.locale}),t.emoji,t.users.length)}),[p,t]),y=m.useCallback(x=>{x.stopPropagation()},[]),C=m.useCallback(x=>{x?u({threadId:e.threadId,commentId:e.id,emoji:t.emoji}):l({threadId:e.threadId,commentId:e.id,emoji:t.emoji})},[u,e.threadId,e.id,t.emoji,l]);return w.jsx(Un,{content:v,multiline:!0,className:"lb-comment-reaction-tooltip",children:w.jsx(vp,{asChild:!0,pressed:d,onPressedChange:C,onClick:y,disabled:r,ref:a,children:w.jsx(DA,{"data-self":d?"":void 0,reaction:t,overrides:n,...o})})})});m.forwardRef(({reaction:e,overrides:t,...n},r)=>{const o=cl(),a=m.useMemo(()=>e.users.some(u=>u.id===o),[o,e]);return w.jsx(DA,{disableable:!1,"data-self":a?"":void 0,reaction:e,overrides:t,...n,ref:r})});function xA({attachment:e,url:t}){e.mimeType==="application/pdf"||e.mimeType.startsWith("image/")||e.mimeType.startsWith("video/")||e.mimeType.startsWith("audio/")?window.open(t,"_blank"):qL(t,e.name)}function d6({attachment:e,onAttachmentClick:t,roomId:n,className:r,overrides:o,...a}){const{url:u}=Bu(e.id,n),l=m.useCallback(f=>{if(!u)return;const d={attachment:e,url:u};t==null||t(d,f),!f.isDefaultPrevented()&&xA(d)},[e,t,u]);return w.jsx(v4,{className:dt("lb-comment-attachment",r),...a,attachment:e,overrides:o,onClick:u?l:void 0,roomId:n})}function h6({attachment:e,onAttachmentClick:t,roomId:n,className:r,overrides:o,...a}){const{url:u}=Bu(e.id,n),l=m.useCallback(f=>{if(!u)return;const d={attachment:e,url:u};t==null||t(d,f),!f.isDefaultPrevented()&&xA(d)},[e,t,u]);return w.jsx(PD,{className:dt("lb-comment-attachment",r),...a,attachment:e,overrides:o,onClick:u?l:void 0,roomId:n})}function p6({threadId:e,roomId:t,commentRef:n}){const r=Ib(t),o=JL();return YL(n,()=>{r(e)},{enabled:o}),null}const m6=m.forwardRef(({comment:e,indentContent:t=!0,showDeleted:n,showActions:r="hover",showReactions:o=!0,showAttachments:a=!0,showComposerFormattingControls:u=!0,onAuthorClick:l,onMentionClick:f,onAttachmentClick:d,onCommentEdit:p,onCommentDelete:v,overrides:y,className:C,additionalActions:x,additionalActionsClassName:E,additionalDropdownItemsBefore:b,additionalDropdownItemsAfter:O,autoMarkReadThreadId:A,...P},R)=>{const F=m.useRef(null),L=sl(R,F),I=cl(),q=Tb(e.roomId),ue=cp(e.roomId),Y=fp(e.roomId),re=dp(e.roomId),U=Qn(y),[H,V]=m.useState(!1),[se,ve]=m.useState(!1),[oe,K]=m.useState(!1),[G,Q]=m.useState(!1),{mediaAttachments:M,fileAttachments:J}=m.useMemo(()=>g4(e.attachments),[e.attachments]),te=mp(e.roomId),fe=te.size>0?te.has(Zi.CommentsWrite)||te.has(Zi.Write):!0,X=m.useCallback(Ie=>{Ie.stopPropagation()},[]),j=m.useCallback(()=>{V(!0)},[]),Z=m.useCallback(Ie=>{Ie.stopPropagation(),V(!1)},[]),ae=m.useCallback(({body:Ie,attachments:Be},N)=>{p==null||p(e),!N.isDefaultPrevented()&&(N.stopPropagation(),N.preventDefault(),V(!1),ue({commentId:e.id,threadId:e.threadId,body:Ie,attachments:Be}))},[e,ue,p]),ce=m.useCallback(()=>{v==null||v(e),q({commentId:e.id,threadId:e.threadId})},[e,q,v]),Pe=m.useCallback(Ie=>{l==null||l(e.userId,Ie)},[e.userId,l]),Oe=m.useCallback(Ie=>{var N;const Be=e.reactions.findIndex(me=>me.emoji===Ie);Be>=0&&I&&((N=e.reactions[Be])!=null&&N.users.some(me=>me.id===I))?re({threadId:e.threadId,commentId:e.id,emoji:Ie}):Y({threadId:e.threadId,commentId:e.id,emoji:Ie})},[Y,e.id,e.reactions,e.threadId,re,I]);return m.useEffect(()=>{if(!(typeof window<"u"))return;window.location.hash.slice(1)===e.id&&ve(!0)},[]),!n&&!e.body?null:w.jsxs(Wf,{children:[A&&w.jsx(p6,{commentRef:F,threadId:A,roomId:e.roomId}),w.jsxs("div",{id:e.id,className:dt("lb-root lb-comment",t&&"lb-comment:indent-content",r==="hover"&&"lb-comment:show-actions-hover",(oe||G)&&"lb-comment:action-open",C),"data-deleted":e.body?void 0:"","data-editing":H?"":void 0,"data-target":se?"":void 0,dir:U.dir,...P,ref:L,children:[w.jsxs("div",{className:"lb-comment-header",children:[w.jsxs("div",{className:"lb-comment-details",children:[w.jsx(ND,{className:"lb-comment-avatar",userId:e.userId,onClick:Pe}),w.jsxs("span",{className:"lb-comment-details-labels",children:[w.jsx(gl,{className:"lb-comment-author",userId:e.userId,onClick:Pe}),w.jsxs("span",{className:"lb-comment-date",children:[w.jsx(KL,{locale:U.locale,date:e.createdAt,className:"lb-date lb-comment-date-created"}),e.editedAt&&e.body&&w.jsxs(w.Fragment,{children:[" ",w.jsx("span",{className:"lb-comment-date-edited",children:U.COMMENT_EDITED})]})]})]})]}),r&&!H&&w.jsxs("div",{className:dt("lb-comment-actions",E),children:[x??null,o&&fe?w.jsx(Av,{onEmojiSelect:Oe,onOpenChange:Q,children:w.jsx(Un,{content:U.COMMENT_ADD_REACTION,children:w.jsx(td,{asChild:!0,children:w.jsx(xr,{className:"lb-comment-action",onClick:X,"aria-label":U.COMMENT_ADD_REACTION,icon:w.jsx(nw,{})})})})}):null,e.userId===I||b||O?w.jsx(s6,{open:oe,onOpenChange:K,align:"end",content:w.jsxs(w.Fragment,{children:[b,e.userId===I&&w.jsxs(w.Fragment,{children:[w.jsx(Hv,{onSelect:j,onClick:X,icon:w.jsx(HN,{}),children:U.COMMENT_EDIT}),w.jsx(Hv,{onSelect:ce,onClick:X,icon:w.jsx(UN,{}),children:U.COMMENT_DELETE})]}),O]}),children:w.jsx(Un,{content:U.COMMENT_MORE,children:w.jsx(yA,{asChild:!0,children:w.jsx(xr,{className:"lb-comment-action",disabled:!e.body,onClick:X,"aria-label":U.COMMENT_MORE,icon:w.jsx(WN,{})})})})}):null]})]}),w.jsx("div",{className:"lb-comment-content",children:H?w.jsx(Ov,{className:"lb-comment-composer",onComposerSubmit:ae,defaultValue:e.body,defaultAttachments:e.attachments,autoFocus:!0,showAttribution:!1,showAttachments:a,showFormattingControls:u,actions:w.jsxs(w.Fragment,{children:[w.jsx(Un,{content:U.COMMENT_EDIT_COMPOSER_CANCEL,"aria-label":U.COMMENT_EDIT_COMPOSER_CANCEL,children:w.jsx(xr,{className:"lb-composer-action",onClick:Z,icon:w.jsx(gp,{})})}),w.jsx(iv,{content:U.COMMENT_EDIT_COMPOSER_SAVE,shortcut:"Enter",children:w.jsx(W1,{asChild:!0,children:w.jsx(xr,{variant:"primary",className:"lb-composer-action",onClick:X,"aria-label":U.COMMENT_EDIT_COMPOSER_SAVE,icon:w.jsx(zN,{})})})})]}),overrides:{COMPOSER_PLACEHOLDER:U.COMMENT_EDIT_COMPOSER_PLACEHOLDER},roomId:e.roomId}):e.body?w.jsxs(w.Fragment,{children:[w.jsx(P2,{className:"lb-comment-body",body:e.body,components:{Mention:({userId:Ie})=>w.jsx(l6,{userId:Ie,onClick:Be=>f==null?void 0:f(Ie,Be)}),Link:c6}}),a&&(M.length>0||J.length>0)?w.jsxs("div",{className:"lb-comment-attachments",children:[M.length>0?w.jsx("div",{className:"lb-attachments",children:M.map(Ie=>w.jsx(d6,{attachment:Ie,overrides:y,onAttachmentClick:d,roomId:e.roomId},Ie.id))}):null,J.length>0?w.jsx("div",{className:"lb-attachments",children:J.map(Ie=>w.jsx(h6,{attachment:Ie,overrides:y,onAttachmentClick:d,roomId:e.roomId},Ie.id))}):null]}):null,o&&e.reactions.length>0&&w.jsxs("div",{className:"lb-comment-reactions",children:[e.reactions.map(Ie=>w.jsx(f6,{comment:e,reaction:Ie,overrides:y,disabled:!fe},Ie.emoji)),fe?w.jsx(Av,{onEmojiSelect:Oe,children:w.jsx(Un,{content:U.COMMENT_ADD_REACTION,children:w.jsx(td,{asChild:!0,children:w.jsx(xr,{className:"lb-comment-reaction lb-comment-reaction-add",variant:"outline",onClick:X,"aria-label":U.COMMENT_ADD_REACTION,icon:w.jsx(nw,{})})})})}):null]})]}):w.jsx("div",{className:"lb-comment-body",children:w.jsx("p",{className:"lb-comment-deleted",children:U.COMMENT_DELETED})})})]})]})});function v6(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M10 4a3.5 3.5 0 0 0-3.5 3.5c0 3.5-2 6.5-2 6.5h11s-2-3-2-6.5A3.5 3.5 0 0 0 10 4ZM7.55 14a2.5 2.5 0 0 0 4.9 0"})})}function g6(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M14 14H4.5s2-3 2-6.5c0-.3.05-.6.12-.88M8.2 4.5a3.5 3.5 0 0 1 5.3 3c0 .96.15 1.88.37 2.7M7.55 14a2.5 2.5 0 0 0 4.9 0M4.5 4.5l11 11"})})}function y6(e){return w.jsx(Ft,{...e,children:w.jsx("path",{d:"M10 4v12m6-6-6 6-6-6"})})}function b6(e){return w.jsxs(Ft,{...e,children:[w.jsx("circle",{cx:10,cy:10,r:7}),w.jsx("path",{d:"m13 8-4 4-2-2"})]})}function w6(e){return w.jsxs(Ft,{...e,children:[w.jsx("circle",{cx:10,cy:10,r:7,fill:"currentColor"}),w.jsx("path",{d:"m13 8-4 4-2-2",stroke:"var(--lb-icon-background)"})]})}function C6(e,t){let n=e.length-1;for(;n>=0;){const r=e[n];if(r&&t(r))return n;n--}return-1}const E6=m.forwardRef(({thread:e,indentCommentContent:t=!0,showActions:n="hover",showDeletedComments:r,showResolveAction:o=!0,showReactions:a=!0,showComposer:u="collapsed",showAttachments:l=!0,showComposerFormattingControls:f=!0,onResolvedChange:d,onCommentEdit:p,onCommentDelete:v,onThreadDelete:y,onAuthorClick:C,onMentionClick:x,onAttachmentClick:E,onComposerSubmit:b,overrides:O,className:A,...P},R)=>{const F=Bb(e.roomId),L=_b(e.roomId),I=Qn(O),q=m.useMemo(()=>r?0:e.comments.findIndex(fe=>fe.body),[r,e.comments]),ue=m.useMemo(()=>r?e.comments.length-1:C6(e.comments,fe=>fe.body),[r,e.comments]),{status:Y,unreadSince:re,subscribe:U,unsubscribe:H}=Ub(e.roomId,e.id),V=m.useMemo(()=>{if(Y!=="subscribed")return;if(re===null)return q;const fe=e.comments.findIndex(X=>(r?!0:X.body)&&X.createdAt>re);return fe>=0&&fe<e.comments.length?fe:void 0},[q,r,Y,e.comments,re]),[se,ve]=m.useState(),oe=se===void 0?V:se;m.useEffect(()=>{V&&ve(fe=>Math.min(fe??1/0,V))},[V]);const K=mp(e.roomId),G=K.size>0?K.has(Zi.CommentsWrite)||K.has(Zi.Write):!0,Q=m.useCallback(fe=>{fe.stopPropagation()},[]),M=m.useCallback(fe=>{d==null||d(fe),fe?F(e.id):L(e.id)},[F,L,d,e.id]),J=m.useCallback(fe=>{v==null||v(fe),e.comments.filter(j=>j.body).length<=1&&(y==null||y(e))},[v,y,e]),te=m.useCallback(()=>{Y==="subscribed"?H():U()},[Y,U,H]);return w.jsx(Wf,{children:w.jsxs("div",{className:dt("lb-root lb-thread",n==="hover"&&"lb-thread:show-actions-hover",A),"data-resolved":e.resolved?"":void 0,"data-unread":V!==void 0?"":void 0,dir:I.dir,...P,ref:R,children:[w.jsx("div",{className:"lb-thread-comments",children:e.comments.map((fe,X)=>{const j=X===q,Z=V!==void 0&&X>=V,ae=w.jsx(m6,{overrides:O,className:"lb-thread-comment","data-unread":Z?"":void 0,comment:fe,indentContent:t,showDeleted:r,showActions:n,showReactions:a,showAttachments:l,showComposerFormattingControls:f,onCommentEdit:p,onCommentDelete:J,onAuthorClick:C,onMentionClick:x,onAttachmentClick:E,autoMarkReadThreadId:X===ue&&Z?e.id:void 0,additionalActionsClassName:j?"lb-thread-actions":void 0,additionalActions:j&&o?w.jsx(Un,{content:e.resolved?I.THREAD_UNRESOLVE:I.THREAD_RESOLVE,children:w.jsx(vp,{pressed:e.resolved,onPressedChange:M,asChild:!0,children:w.jsx(xr,{className:"lb-comment-action",onClick:Q,"aria-label":e.resolved?I.THREAD_UNRESOLVE:I.THREAD_RESOLVE,icon:e.resolved?w.jsx(w6,{}):w.jsx(b6,{}),disabled:!G})})}):null,additionalDropdownItemsBefore:j?w.jsx(Hv,{onSelect:te,onClick:Q,icon:Y==="subscribed"?w.jsx(g6,{}):w.jsx(v6,{}),children:Y==="subscribed"?I.THREAD_UNSUBSCRIBE:I.THREAD_SUBSCRIBE}):null},fe.id);return X===oe&&oe!==q&&oe<=ue?w.jsxs(m.Fragment,{children:[w.jsx("div",{className:"lb-thread-new-indicator","aria-label":I.THREAD_NEW_INDICATOR_DESCRIPTION,children:w.jsxs("span",{className:"lb-thread-new-indicator-label",children:[w.jsx(y6,{className:"lb-thread-new-indicator-label-icon"}),I.THREAD_NEW_INDICATOR]})}),ae]},fe.id):ae})}),u&&w.jsx(Ov,{className:"lb-thread-composer",threadId:e.id,defaultCollapsed:u==="collapsed"?!0:void 0,showAttachments:l,showFormattingControls:f,onComposerSubmit:b,overrides:{COMPOSER_PLACEHOLDER:I.THREAD_COMPOSER_PLACEHOLDER,COMPOSER_SEND:I.THREAD_COMPOSER_SEND,...O},roomId:e.roomId})]})})});function D6(){const{threads:e}=AN(),t=ON(),n=TN(),[r,o]=m.useState(!1),[a,u]=m.useState(null),[l,f]=m.useState(null),d=m.useCallback(y=>{if(!r)return;const C=window.scrollY||document.documentElement.scrollTop,x=y.clientX/window.innerWidth*100,E=(y.clientY+C)/document.documentElement.scrollHeight*100;f({x,y:E}),o(!1)},[r]),p=m.useCallback(y=>{l&&(t({body:y,metadata:{x:l.x.toString(),y:l.y.toString()}}),f(null))},[t,l]),v=m.useCallback(y=>{n(y),u(null)},[n]);return w.jsxs("div",{className:`comments-container ${r?"placing":""}`,onClick:d,children:[w.jsx("button",{className:"comments-add-btn",onClick:y=>{y.stopPropagation(),o(!r),u(null),f(null)},children:r?"":"+"}),r&&w.jsx("div",{className:"comments-hint",children:"Click anywhere to add a comment"}),e==null?void 0:e.map(y=>{var b,O;const C=parseFloat((b=y.metadata)==null?void 0:b.x)||0,x=parseFloat((O=y.metadata)==null?void 0:O.y)||0,E=a===y.id;return w.jsxs("div",{children:[w.jsxs("div",{className:`comment-pin ${E?"active":""}`,style:{left:`${C}%`,top:`${x}%`},onClick:A=>{A.stopPropagation(),u(E?null:y.id)},children:[w.jsx("div",{className:"pin-dot"}),y.comments.length>1&&w.jsx("span",{className:"pin-count",children:y.comments.length})]}),E&&w.jsxs("div",{className:"thread-panel",style:{left:`${Math.min(C,70)}%`,top:`${x}%`},onClick:A=>A.stopPropagation(),children:[w.jsxs("div",{className:"thread-header",children:[w.jsx("span",{children:"Thread"}),w.jsx("button",{className:"thread-close",onClick:()=>u(null),children:""})]}),w.jsx("div",{className:"thread-content",children:w.jsx(E6,{thread:y})}),w.jsx("div",{className:"thread-actions",children:w.jsx("button",{className:"thread-delete",onClick:()=>v(y.id),children:"Delete thread"})})]})]},y.id)}),l&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"comment-pin active",style:{left:`${l.x}%`,top:`${l.y}%`},children:w.jsx("div",{className:"pin-dot"})}),w.jsxs("div",{className:"thread-panel",style:{left:`${Math.min(l.x,70)}%`,top:`${l.y}%`},onClick:y=>y.stopPropagation(),children:[w.jsxs("div",{className:"thread-header",children:[w.jsx("span",{children:"New comment"}),w.jsx("button",{className:"thread-close",onClick:()=>f(null),children:""})]}),w.jsx("div",{className:"thread-content",children:w.jsx(Ov,{onComposerSubmit:({body:y})=>{p(y)},placeholder:"Write a comment...",autoFocus:!0})})]})]})]})}function x6(){const e=window.COMMENTS_ROOM_ID||window.location.pathname;return w.jsx(SN,{id:e,initialPresence:{},children:w.jsx(D6,{})})}function SA(){const e=document.getElementById("comments-root");if(!e){console.warn("Comments: #comments-root not found");return}if(!window.LIVEBLOCKS_PUBLIC_KEY){e.innerHTML='<div class="comments-disabled">Comments disabled (no API key)</div>';return}zk.createRoot(e).render(w.jsx(m.StrictMode,{children:w.jsx(x6,{})}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",SA):SA()})();
